<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Event Feedback Dashboard</title>
    <style>
      :root {
        color-scheme: light;
        --bg: #f2f4f8;
        --panel: #fff;
        --ink: #1c2430;
        --muted: #6b768a;
        --accent: #5176ff;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Inter", system-ui, sans-serif;
        background: var(--bg);
        color: var(--ink);
        padding: clamp(1rem, 5vw, 3rem);
      }
      header {
        margin-bottom: 1.5rem;
      }
      h1 {
        margin: 0 0 0.25rem;
      }
      .summary {
        background: var(--panel);
        border-radius: 1rem;
        padding: 1rem 1.25rem;
        display: flex;
        gap: 1rem;
        align-items: flex-start;
        border-left: 4px solid var(--accent);
        margin-bottom: 1rem;
      }
      .summary button {
        margin-left: auto;
        border: none;
        background: transparent;
        font-size: 1rem;
        cursor: pointer;
        color: var(--muted);
      }
      .search-bar {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        background: var(--panel);
        border-radius: 999px;
        padding: 0.4rem 1rem;
        margin-bottom: 1rem;
      }
      .search-bar input {
        border: none;
        background: transparent;
        font: inherit;
        width: 100%;
        outline: none;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        background: var(--panel);
        border-radius: 1rem;
        overflow: hidden;
      }
      thead {
        background: #ecefff;
      }
      th,
      td {
        padding: 0.85rem 1rem;
        text-align: left;
        border-bottom: 1px solid #e4e7f0;
      }
      th {
        font-size: 0.85rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted);
        cursor: pointer;
        position: relative;
      }
      th .icon {
        margin-left: 0.3rem;
        font-size: 0.9rem;
        color: var(--accent);
      }
      tbody tr:hover {
        background: rgba(81, 118, 255, 0.04);
      }
      td.feedback {
        max-width: 320px;
        white-space: normal;
      }
      .rating {
        font-weight: 600;
        color: var(--accent);
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Event feedback</h1>
      <p>Real-time submissions across Bay Area roadshows.</p>
    </header>
    <div class="summary" id="summary">
      <div>
        <strong>AI summary</strong>
        <p>Enthusiasm remains high (4.6 avg rating). Attendees crave deeper networking time and breakout acoustics improvements.</p>
      </div>
      <button aria-label="Close summary" id="closeSummary">‚úï</button>
    </div>
    <div class="search-bar">
      <span>üîç</span>
      <input type="search" id="search" placeholder="Search feedback, people, or events" />
    </div>
    <table>
      <thead>
        <tr>
          <th data-column="date">Date <span class="icon"></span></th>
          <th data-column="event">Event <span class="icon"></span></th>
          <th data-column="name">Participant <span class="icon"></span></th>
          <th data-column="rating">Rating <span class="icon"></span></th>
          <th data-column="feedback">Feedback <span class="icon"></span></th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>

    <script>
      const events = ["Product Pulse SF", "AI Salon Oakland", "Customer Forum Palo Alto", "Investor Mixer SoMa"];
      const names = ["Nina Patel", "Sergio Liu", "Maya Ortiz", "Ben Foster", "Clara Chen", "Raj Shah", "Lena Moritz", "Harper Diaz", "Kenji Sato", "Ivy Bloom"];
      const remarks = [
        "Loved the espresso pairing with the demo pods, though the Q&A felt rushed.",
        "Panel on GenAI guardrails was refreshingly tactical; would love slides afterward.",
        "Acoustics in the back row made it tough to hear investor remarks.",
        "Lightning talks nailed timing and energy. Maybe add a tactile prototype table.",
        "Check-in was seamless with the QR codes; the networking prompts really worked.",
        "Catering was thoughtful but ran short on vegetarian options by 7pm.",
        "Venue lighting made note-taking easy, yet seating was a bit tight for laptops.",
        "Appreciated the founders' candid revenue numbers and hands-on roadmap boards.",
        "Marketplace booth experts answered every technical hurdle we threw at them.",
      ];
      const entries = Array.from({ length: 30 }, () => {
        const date = new Date(Date.now() - Math.random() * 30 * 86400000);
        return {
          date,
          event: events[Math.floor(Math.random() * events.length)],
          name: names[Math.floor(Math.random() * names.length)],
          rating: (Math.random() * 1.2 + 3.5).toFixed(1),
          feedback: remarks[Math.floor(Math.random() * remarks.length)],
        };
      });

      const tableBody = document.getElementById("tableBody");
      const searchInput = document.getElementById("search");
      let sortState = { column: "date", direction: "desc" };

      function formatDate(date) {
        return new Intl.DateTimeFormat(undefined, { month: "short", day: "numeric" }).format(date);
      }

      function renderTable() {
        const term = searchInput.value.toLowerCase();
        const filtered = entries.filter((entry) =>
          Object.values(entry).some((value) => value.toString().toLowerCase().includes(term))
        );
        filtered.sort((a, b) => {
          const { column, direction } = sortState;
          const dir = direction === "asc" ? 1 : -1;
          if (column === "date") {
            return (a.date - b.date) * dir;
          }
          if (column === "rating") {
            return (parseFloat(a.rating) - parseFloat(b.rating)) * dir;
          }
          return a[column].localeCompare(b[column]) * dir;
        });
        tableBody.innerHTML = filtered
          .map(
            (entry) => `
              <tr>
                <td>${formatDate(entry.date)}</td>
                <td>${entry.event}</td>
                <td>${entry.name}</td>
                <td class="rating">${entry.rating}</td>
                <td class="feedback">${entry.feedback}</td>
              </tr>`
          )
          .join("");
        updateIcons();
      }

      function updateIcons() {
        document.querySelectorAll("th").forEach((th) => {
          const icon = th.querySelector(".icon");
          if (th.dataset.column === sortState.column) {
            icon.textContent = sortState.direction === "asc" ? "‚ñ≤" : "‚ñº";
          } else {
            icon.textContent = "";
          }
        });
      }

      document.querySelectorAll("th").forEach((th) => {
        th.addEventListener("click", () => {
          const column = th.dataset.column;
          if (!column) return;
          if (sortState.column === column) {
            sortState.direction = sortState.direction === "asc" ? "desc" : "asc";
          } else {
            sortState = { column, direction: "asc" };
          }
          renderTable();
        });
      });

      searchInput.addEventListener("input", renderTable);
      renderTable();

      document.getElementById("closeSummary").addEventListener("click", () => {
        document.getElementById("summary").style.display = "none";
      });
    </script>
  </body>
</html>
