<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Color Match Challenge</title>
    <style>
      :root {
        color-scheme: light;
        --bg: #12121d;
        --panel: #1e1e2f;
        --accent: #fffbf0;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Space Grotesk", system-ui, sans-serif;
        background: radial-gradient(circle at top, #282853, #0b0b17);
        color: var(--accent);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }
      .game {
        width: min(520px, 100%);
        background: var(--panel);
        border-radius: 1.5rem;
        padding: 2rem;
        box-shadow: 0 30px 80px rgba(8, 8, 18, 0.8);
        text-align: center;
      }
      h1 {
        margin: 0;
        font-size: 2rem;
        text-transform: uppercase;
        letter-spacing: 0.2em;
      }
      .word {
        font-size: clamp(4rem, 18vw, 6rem);
        margin: 2rem 0;
        font-weight: 700;
        letter-spacing: 0.08em;
      }
      .status {
        display: flex;
        justify-content: space-between;
        font-size: 1.2rem;
        text-transform: uppercase;
      }
      .buttons {
        margin-top: 2rem;
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 1rem;
      }
      button {
        border: none;
        border-radius: 1rem;
        padding: 1rem 1.5rem;
        font-size: 1.4rem;
        font-weight: 700;
        color: #0b0b17;
        cursor: pointer;
        transition: transform 0.12s ease, box-shadow 0.12s ease;
      }
      button:active {
        transform: translateY(4px) scale(0.98);
        box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.2);
      }
      .start {
        width: 100%;
        margin-top: 1.5rem;
        background: #ffd369;
      }
    </style>
  </head>
  <body>
    <div class="game">
      <h1>Color Match</h1>
      <div class="status">
        <div>Score: <span id="score">0</span></div>
        <div>Time: <span id="time">30</span>s</div>
      </div>
      <div class="word" id="word">READY</div>
      <div class="buttons" aria-live="polite"></div>
      <button class="start" id="start">Start round</button>
    </div>

    <script>
      const colors = [
        { name: "RED", value: "#ff4d6d" },
        { name: "BLUE", value: "#70d6ff" },
        { name: "GREEN", value: "#8ac926" },
        { name: "YELLOW", value: "#ffd166" },
        { name: "PURPLE", value: "#b388eb" },
        { name: "ORANGE", value: "#ff9e57" },
      ];
      const wordEl = document.getElementById("word");
      const buttonsWrap = document.querySelector(".buttons");
      const scoreEl = document.getElementById("score");
      const timeEl = document.getElementById("time");
      const startBtn = document.getElementById("start");
      let timer;
      let time = 30;
      let score = 0;
      let currentColor;

      function renderButtons() {
        buttonsWrap.innerHTML = "";
        colors.slice(0, 4).forEach((color) => {
          const btn = document.createElement("button");
          btn.textContent = color.name;
          btn.style.background = color.value;
          btn.addEventListener("click", () => handleGuess(color.value));
          buttonsWrap.appendChild(btn);
        });
      }

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function nextPrompt() {
        const [word, displayColor] = [
          colors[Math.floor(Math.random() * colors.length)].name,
          colors[Math.floor(Math.random() * colors.length)].value,
        ];
        currentColor = displayColor;
        wordEl.textContent = word;
        wordEl.style.color = displayColor;
        const randomButtons = shuffle([...colors]).slice(0, 4);
        buttonsWrap.innerHTML = "";
        randomButtons.forEach((color) => {
          const btn = document.createElement("button");
          btn.textContent = color.name;
          btn.style.background = color.value;
          btn.addEventListener("click", () => handleGuess(color.value));
          buttonsWrap.appendChild(btn);
        });
      }

      function handleGuess(value) {
        if (time <= 0) return;
        if (value === currentColor) {
          score += 10;
          scoreEl.textContent = score;
          nextPrompt();
        } else {
          score = Math.max(0, score - 5);
          scoreEl.textContent = score;
        }
      }

      function startGame() {
        time = 30;
        score = 0;
        scoreEl.textContent = score;
        timeEl.textContent = time;
        nextPrompt();
        clearInterval(timer);
        timer = setInterval(() => {
          time -= 1;
          timeEl.textContent = Math.max(0, time);
          if (time <= 0) {
            clearInterval(timer);
            wordEl.textContent = "TIME";
            wordEl.style.color = "#fff";
          }
        }, 1000);
      }

      startBtn.addEventListener("click", startGame);
      renderButtons();
    </script>
  </body>
</html>
