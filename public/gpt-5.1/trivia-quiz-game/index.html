<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Trivia Quiz</title>
    <style>
      :root {
        color-scheme: light;
        --bg: #0f172a;
        --card: #1e293b;
        --accent: #38bdf8;
      }
      body {
        margin: 0;
        font-family: "Space Grotesk", system-ui;
        background: var(--bg);
        color: #f8fafc;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }
      .app {
        width: min(600px, 100%);
      }
      .progress {
        height: 6px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 999px;
        margin-bottom: 1rem;
      }
      .progress div {
        height: 100%;
        width: 0;
        background: var(--accent);
        border-radius: inherit;
        transition: width 0.3s;
      }
      .card {
        background: var(--card);
        border-radius: 1.5rem;
        padding: 2rem;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
        display: grid;
        gap: 1rem;
      }
      button {
        border: 2px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.9rem;
        background: transparent;
        color: inherit;
        padding: 0.8rem;
        font: inherit;
        text-align: left;
        cursor: pointer;
        transition: transform 0.1s, border-color 0.2s;
      }
      button:hover {
        transform: translateX(4px);
      }
      button.correct {
        border-color: #10b981;
      }
      button.wrong {
        border-color: #ef4444;
      }
    </style>
  </head>
  <body>
    <div class="app">
      <div class="progress"><div id="bar"></div></div>
      <div class="card" id="card"></div>
    </div>

    <script>
      const data = [
        { q: "What is the capital of the United States?", a: ["New York", "Washington, D.C.", "Philadelphia", "Boston"], correct: 1 },
        { q: "How many stripes on the U.S. flag?", a: [11, 12, 13, 15], correct: 2 },
        { q: "Which document begins with 'We the People'?", a: ["Declaration of Independence", "Constitution", "Bill of Rights", "Emancipation Proclamation"], correct: 1 },
        { q: "Which ocean borders California?", a: ["Atlantic", "Arctic", "Pacific", "Indian"], correct: 2 },
        { q: "What is the national bird?", a: ["Bald eagle", "Robin", "Condor", "Falcon"], correct: 0 },
        { q: "Which branch makes laws?", a: ["Judicial", "Executive", "Legislative", "National Guard"], correct: 2 },
        { q: "How many stars on the flag?", a: [40, 50, 52, 55], correct: 1 },
        { q: "Which state is known as the Sunshine State?", a: ["California", "Texas", "Florida", "Hawaii"], correct: 2 },
        { q: "Who wrote the Declaration of Independence?", a: ["George Washington", "Benjamin Franklin", "John Adams", "Thomas Jefferson"], correct: 3 },
        { q: "What is the tallest mountain in the continental US?", a: ["Mount Hood", "Mount Whitney", "Denali", "Pikes Peak"], correct: 1 },
      ];
      const questions = data.sort(() => Math.random() - 0.5);
      let index = 0;
      let score = 0;
      const card = document.getElementById("card");
      const bar = document.getElementById("bar");

      function renderQuestion() {
        if (index >= questions.length) {
          return renderFinal();
        }
        const q = questions[index];
        bar.style.width = `${((index) / questions.length) * 100}%`;
        card.innerHTML = `<h2>Question ${index + 1} of ${questions.length}</h2><p>${q.q}</p>`;
        q.a.forEach((option, i) => {
          const button = document.createElement("button");
          button.textContent = option;
          button.addEventListener("click", () => selectAnswer(button, i === q.correct));
          card.appendChild(button);
        });
      }

      function selectAnswer(button, correct) {
        const buttons = card.querySelectorAll("button");
        buttons.forEach((btn) => (btn.disabled = true));
        if (correct) {
          button.classList.add("correct");
          score += 1;
        } else {
          button.classList.add("wrong");
          buttons[questions[index].correct]?.classList.add("correct");
        }
        setTimeout(() => {
          index += 1;
          renderQuestion();
        }, 900);
      }

      function renderFinal() {
        bar.style.width = "100%";
        card.innerHTML = `<h2>Quiz complete!</h2><p>Your score: ${score}/${questions.length}</p><button id="restart">Restart</button>`;
        document.getElementById("restart").addEventListener("click", () => {
          index = 0;
          score = 0;
          renderQuestion();
        });
      }
      renderQuestion();
    </script>
  </body>
</html>
