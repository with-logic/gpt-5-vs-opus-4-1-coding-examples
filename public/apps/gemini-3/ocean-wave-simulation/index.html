<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Breeze</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Lato', sans-serif;
            background: linear-gradient(to bottom, #87CEEB 0%, #E0F7FA 100%);
            color: white;
        }

        canvas {
            display: block;
        }

        #controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 8px;
            backdrop-filter: blur(5px);
            width: 250px;
        }

        .control-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        input[type="range"] {
            width: 100%;
            cursor: pointer;
        }

        select {
            width: 100%;
            padding: 5px;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.5);
            color: white;
            border-radius: 4px;
        }
        
        h1 {
            margin: 0 0 15px 0;
            font-weight: 300;
            font-size: 1.5rem;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }

    </style>
</head>
<body>

    <div id="controls">
        <h1>Ocean Settings</h1>
        <div class="control-group">
            <label>Wave Height</label>
            <input type="range" id="height" min="10" max="100" value="30">
        </div>
        <div class="control-group">
            <label>Wind Speed</label>
            <input type="range" id="speed" min="1" max="50" value="10">
        </div>
        <div class="control-group">
            <label>Time of Day</label>
            <select id="time">
                <option value="day">Day</option>
                <option value="sunset">Sunset</option>
                <option value="night">Night</option>
            </select>
        </div>
    </div>

    <canvas id="sea"></canvas>

    <script>
        const canvas = document.getElementById('sea');
        const ctx = canvas.getContext('2d');
        let width, height;

        // Config
        let waveHeight = 30;
        let speed = 0.02;
        let timeOfDay = 'day';
        let time = 0;

        // Listeners
        document.getElementById('height').addEventListener('input', e => waveHeight = parseInt(e.target.value));
        document.getElementById('speed').addEventListener('input', e => speed = parseInt(e.target.value) / 500);
        document.getElementById('time').addEventListener('change', e => {
            timeOfDay = e.target.value;
            updateSky();
        });

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            updateSky();
        }
        window.addEventListener('resize', resize);
        resize();

        // Themes
        const themes = {
            day: { sky: ['#87CEEB', '#E0F7FA'], water: '#006994', sun: '#FFD700' },
            sunset: { sky: ['#3f2b96', '#a8c0ff'], water: '#3E2723', sun: '#FF7F50' }, // actually gradient logic below overrides this simple map
            night: { sky: ['#0f2027', '#2c5364'], water: '#000000', sun: '#ffffff' }
        };

        function updateSky() {
            if (timeOfDay === 'day') {
                document.body.style.background = `linear-gradient(to bottom, #87CEEB 0%, #E0F7FA 100%)`;
            } else if (timeOfDay === 'sunset') {
                document.body.style.background = `linear-gradient(to bottom, #4b134f 0%, #c94b4b 100%)`;
            } else {
                document.body.style.background = `linear-gradient(to bottom, #000428 0%, #004e92 100%)`;
            }
        }

        // Wave Class
        class Wave {
            constructor(y, color, amplitude, period, phase) {
                this.y = y;
                this.color = color;
                this.amplitude = amplitude;
                this.period = period;
                this.phase = phase;
            }

            draw(ctx, t) {
                ctx.beginPath();
                ctx.moveTo(0, height);
                ctx.lineTo(0, this.y);

                for (let x = 0; x <= width; x += 10) {
                    // Sine wave formula: y = A * sin(B * (x + C)) + D
                    // dynamic A (waveHeight), dynamic C (speed * t)
                    
                    // Complex wave: Add noise/harmonics
                    let y = this.y + 
                            Math.sin(x * this.period + this.phase + t) * (this.amplitude * (waveHeight/30)) +
                            Math.sin(x * this.period * 2 + t * 1.5) * (this.amplitude * 0.2);
                    
                    ctx.lineTo(x, y);
                }

                ctx.lineTo(width, height);
                ctx.closePath();
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        }

        // Layers
        let waves = [];
        function initWaves() {
            // 3 layers of waves
            // Opacity changes based on theme? Just use rgba
            waves = [
                new Wave(height * 0.6, 'rgba(0, 105, 148, 0.4)', 20, 0.01, 0),
                new Wave(height * 0.7, 'rgba(0, 80, 120, 0.6)', 25, 0.008, 2),
                new Wave(height * 0.85, 'rgba(0, 50, 90, 0.8)', 30, 0.006, 4)
            ];
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            
            // Sun/Moon
            ctx.beginPath();
            if (timeOfDay === 'day') {
                ctx.arc(width * 0.8, height * 0.2, 60, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 215, 0, 0.8)';
                ctx.shadowBlur = 50;
                ctx.shadowColor = 'yellow';
            } else if (timeOfDay === 'sunset') {
                ctx.arc(width * 0.5, height * 0.6, 100, 0, Math.PI * 2);
                ctx.fillStyle = '#ff7e5f';
                ctx.shadowBlur = 50;
                ctx.shadowColor = 'orange';
            } else {
                ctx.arc(width * 0.8, height * 0.2, 40, 0, Math.PI * 2);
                ctx.fillStyle = '#fff';
                ctx.shadowBlur = 20;
                ctx.shadowColor = 'white';
            }
            ctx.fill();
            ctx.shadowBlur = 0;

            // Draw Waves
            time += speed;
            
            // Re-init waves if resize happens or just once
            if(waves.length === 0 || waves[0].y !== height * 0.6) initWaves();

            waves.forEach(w => w.draw(ctx, time));

            requestAnimationFrame(animate);
        }

        initWaves();
        animate();

    </script>
</body>
</html>
