<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farewell Message Board</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Indie+Flower&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Nunito', 'sans-serif'],
                        hand: ['Indie Flower', 'cursive'],
                    },
                    colors: {
                        brand: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                        },
                        accent: {
                            teal: '#2dd4bf',
                            pink: '#f472b6',
                            yellow: '#facc15',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            background-color: #fff7ed;
            overflow-x: hidden;
        }
        
        .cork-pattern {
            background-color: #e5e5f7;
            opacity: 0.1;
            background-image:  repeating-radial-gradient( circle at 0 0, transparent 0, #e5e5f7 10px ), repeating-linear-gradient( #f9731655, #f9731655 );
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #fff7ed; 
        }
        ::-webkit-scrollbar-thumb {
            background: #fdba74; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #fb923c; 
        }

        .paper-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .tape {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%) rotate(-2deg);
            width: 100px;
            height: 30px;
            background-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            backdrop-filter: blur(2px);
            z-index: 10;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- Initial Data ---
        const INITIAL_MESSAGES = [
            {
                id: 1,
                author: "Sarah Jenkins",
                role: "UX Designer",
                text: "It's been an absolute joy working alongside you. Your creativity and positivity have been a light in the office. Best of luck on your new adventure!",
                image: "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=400",
                color: "bg-white",
                rotation: -2
            },
            {
                id: 2,
                author: "Mike Ross",
                role: "Senior Dev",
                text: "Sad to see you go, but I know you're going to crush it at the new place. Thanks for all the debugging help and the coffee runs!",
                image: "https://images.unsplash.com/photo-1531539669046-59b56f8f1064?auto=format&fit=crop&q=80&w=400",
                color: "bg-blue-50",
                rotation: 1
            },
            {
                id: 3,
                author: "Emily Chen",
                role: "Product Manager",
                text: "You've left big shoes to fill! Thank you for your dedication and for always pushing the product to be better. We'll miss you!",
                image: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&q=80&w=400",
                color: "bg-pink-50",
                rotation: 3
            },
            {
                id: 4,
                author: "David Kim",
                role: "Marketing Lead",
                text: "From our first brainstorming session to the final launch, it's been a wild ride. Don't be a stranger!",
                image: "https://images.unsplash.com/photo-1517048676732-d65bc937f952?auto=format&fit=crop&q=80&w=400",
                color: "bg-yellow-50",
                rotation: -1
            },
            {
                id: 5,
                author: "Jessica Pearson",
                role: "Director",
                text: "Your leadership and vision have transformed our team. Wishing you nothing but success in your future endeavors.",
                image: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=400",
                color: "bg-purple-50",
                rotation: 2
            },
            {
                id: 6,
                author: "Tom Holland",
                role: "Intern",
                text: "Thank you for being such an amazing mentor. I learned more from you in 3 months than I did in 3 years of school!",
                image: "https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&q=80&w=400",
                color: "bg-green-50",
                rotation: -3
            },
            {
                id: 7,
                author: "Alice Cooper",
                role: "HR Specialist",
                text: "Your positive attitude was contagious. The office won't be the same without your laugh! Take care.",
                image: "https://images.unsplash.com/photo-1543269865-cbf427effbad?auto=format&fit=crop&q=80&w=400",
                color: "bg-orange-50",
                rotation: 1
            },
            {
                id: 8,
                author: "Gary V",
                role: "Sales",
                text: "Hustle hard! I know you're going to do great things. Let's grab lunch soon.",
                image: "https://images.unsplash.com/photo-1560250097-0b93528c311a?auto=format&fit=crop&q=80&w=400",
                color: "bg-teal-50",
                rotation: -2
            },
            {
                id: 9,
                author: "Linda B",
                role: "Finance",
                text: "Thank you for always getting your expense reports in on time ðŸ˜‰. Seriously though, all the best!",
                image: "https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?auto=format&fit=crop&q=80&w=400",
                color: "bg-red-50",
                rotation: 2
            },
            {
                id: 10,
                author: "The Whole Team",
                role: "Everyone",
                text: "We are going to miss you so much! Don't forget us when you're famous!",
                image: "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=400",
                color: "bg-indigo-50",
                rotation: 0
            }
        ];

        // --- Icons ---
        const PenIcon = () => <i className="fas fa-pen-nib"></i>;
        const HeartIcon = () => <i className="fas fa-heart text-red-500"></i>;
        const UserIcon = () => <i className="fas fa-user-circle"></i>;
        const CloseIcon = () => <i className="fas fa-times"></i>;
        const PlusIcon = () => <i className="fas fa-plus"></i>;

        // --- Components ---

        const Modal = ({ isOpen, onClose, children }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                    <motion.div 
                        initial={{ opacity: 0 }}
                        animate={{ opacity: 1 }}
                        exit={{ opacity: 0 }}
                        onClick={onClose}
                        className="absolute inset-0 bg-black/40 backdrop-blur-sm"
                    ></motion.div>
                    <motion.div 
                        initial={{ scale: 0.9, opacity: 0, y: 20 }}
                        animate={{ scale: 1, opacity: 1, y: 0 }}
                        exit={{ scale: 0.9, opacity: 0, y: 20 }}
                        className="relative bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden z-10"
                    >
                        <button 
                            onClick={onClose}
                            className="absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 transition-colors"
                        >
                            <CloseIcon />
                        </button>
                        {children}
                    </motion.div>
                </div>
            );
        };

        const Card = ({ message, index }) => {
            return (
                <motion.div
                    initial={{ opacity: 0, y: 50 }}
                    whileInView={{ opacity: 1, y: 0 }}
                    viewport={{ once: true }}
                    transition={{ duration: 0.5, delay: index * 0.1 }}
                    whileHover={{ scale: 1.02, rotate: 0, zIndex: 10 }}
                    className={`relative p-6 rounded-2xl ${message.color} paper-shadow flex flex-col h-full transform transition-all duration-300`}
                    style={{ rotate: `${message.rotation}deg` }}
                >
                    {/* Tape Effect */}
                    <div className="tape"></div>

                    <div className="flex items-center gap-4 mb-4 mt-2">
                        <div className="w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-md shrink-0">
                            <img src={message.image} alt={message.author} className="w-full h-full object-cover" />
                        </div>
                        <div>
                            <h3 className="font-bold text-gray-800 leading-tight">{message.author}</h3>
                            <p className="text-xs text-gray-500 uppercase tracking-wider">{message.role}</p>
                        </div>
                    </div>
                    
                    <div className="flex-grow">
                        <p className="text-gray-700 font-hand text-xl leading-relaxed">
                            "{message.text}"
                        </p>
                    </div>

                    <div className="mt-4 pt-4 border-t border-gray-900/5 flex justify-between items-center text-sm text-gray-400">
                        <span className="flex items-center gap-1"><HeartIcon /></span>
                        <span>Just now</span>
                    </div>
                </motion.div>
            );
        };

        const Header = ({ onLogin, isLoggedIn, onWrite }) => {
            return (
                <header className="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-orange-100 shadow-sm">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between">
                        <div className="flex items-center gap-2">
                            <div className="w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center text-white text-xl shadow-lg transform -rotate-6">
                                <i className="fas fa-paper-plane"></i>
                            </div>
                            <h1 className="text-2xl font-bold text-gray-800 tracking-tight">Farewell<span className="text-brand-500">Board</span></h1>
                        </div>

                        <div className="flex items-center gap-4">
                             <motion.button 
                                whileHover={{ scale: 1.05 }}
                                whileTap={{ scale: 0.95 }}
                                onClick={onWrite}
                                className="hidden sm:flex items-center gap-2 px-5 py-2.5 bg-brand-500 hover:bg-brand-600 text-white rounded-full font-semibold shadow-lg shadow-brand-500/30 transition-all"
                            >
                                <PenIcon /> <span>Write Message</span>
                            </motion.button>
                            
                            <motion.button 
                                whileHover={{ scale: 1.05 }}
                                whileTap={{ scale: 0.95 }}
                                onClick={onLogin}
                                className={`px-5 py-2.5 rounded-full font-semibold border-2 transition-all flex items-center gap-2 ${isLoggedIn ? 'bg-green-100 text-green-700 border-green-200' : 'bg-white text-gray-700 border-gray-200 hover:border-brand-300'}`}
                            >
                                <UserIcon /> <span>{isLoggedIn ? 'Sarah J.' : 'Login'}</span>
                            </motion.button>
                        </div>
                    </div>
                </header>
            );
        };

        const Hero = ({ onWrite }) => {
            return (
                <div className="relative pt-16 pb-20 lg:pt-24 lg:pb-28 overflow-hidden">
                    <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center z-10">
                        <motion.div
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ duration: 0.8 }}
                        >
                            <h2 className="text-5xl md:text-7xl font-extrabold text-gray-900 tracking-tight mb-6">
                                Say Goodbye in <span className="text-transparent bg-clip-text bg-gradient-to-r from-brand-400 to-accent-pink">Style</span>
                            </h2>
                            <p className="mt-4 max-w-2xl mx-auto text-xl text-gray-600 mb-10">
                                A collection of memories, well wishes, and warm goodbyes. Leave a note that lasts forever.
                            </p>
                            <div className="flex justify-center">
                                <motion.button 
                                    whileHover={{ scale: 1.05 }}
                                    whileTap={{ scale: 0.95 }}
                                    onClick={onWrite}
                                    className="sm:hidden flex items-center gap-2 px-8 py-4 bg-brand-500 hover:bg-brand-600 text-white text-lg rounded-full font-bold shadow-xl shadow-brand-500/30 transition-all"
                                >
                                    <PenIcon /> <span>Write a Message</span>
                                </motion.button>
                            </div>
                        </motion.div>
                    </div>
                    
                    {/* Decorative Blobs */}
                    <div className="absolute top-0 left-0 -ml-20 -mt-20 w-72 h-72 bg-brand-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
                    <div className="absolute top-0 right-0 -mr-20 -mt-20 w-72 h-72 bg-accent-pink rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
                    <div className="absolute -bottom-8 left-20 w-72 h-72 bg-accent-yellow rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"></div>
                </div>
            );
        };

        const Footer = () => (
            <footer className="bg-white border-t border-gray-100 py-12 mt-20">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center">
                    <div className="flex items-center gap-2 mb-4 opacity-50">
                        <div className="w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500">
                            <i className="fas fa-paper-plane"></i>
                        </div>
                        <span className="font-bold text-gray-500">FarewellBoard</span>
                    </div>
                    <p className="text-gray-400 text-sm">Made with <HeartIcon /> for friends leaving for new adventures.</p>
                </div>
            </footer>
        );

        const App = () => {
            const [messages, setMessages] = useState(INITIAL_MESSAGES);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [formData, setFormData] = useState({ author: '', text: '', role: '' });

            const handleLogin = () => {
                if (!isLoggedIn) {
                    setIsLoggedIn(true);
                } else {
                    const confirmLogout = window.confirm("Log out?");
                    if (confirmLogout) setIsLoggedIn(false);
                }
            };

            const handleWriteClick = () => {
                setIsModalOpen(true);
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                const colors = ['bg-white', 'bg-blue-50', 'bg-pink-50', 'bg-yellow-50', 'bg-purple-50', 'bg-green-50'];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                const randomRot = Math.floor(Math.random() * 6) - 3; // -3 to 3

                const newMessage = {
                    id: messages.length + 1,
                    author: formData.author || "Anonymous",
                    role: formData.role || "Colleague",
                    text: formData.text,
                    image: `https://source.unsplash.com/random/400x400/?portrait&sig=${messages.length + 1}`, // Simple placeholder strategy
                    // Fallback to a stable image if source.unsplash is flaky, but sticking to spec "meaningful picture"
                    image: `https://api.dicebear.com/7.x/avataaars/svg?seed=${formData.author}`, // Using avatar gen for reliability on new posts
                    color: randomColor,
                    rotation: randomRot
                };

                setMessages([newMessage, ...messages]);
                setFormData({ author: '', text: '', role: '' });
                setIsModalOpen(false);
            };

            return (
                <div className="min-h-screen text-gray-800">
                    <Header onLogin={handleLogin} isLoggedIn={isLoggedIn} onWrite={handleWriteClick} />
                    
                    <main className="relative">
                        <Hero onWrite={handleWriteClick} />

                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
                            {/* Grid Layout */}
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                                <AnimatePresence>
                                    {messages.map((msg, idx) => (
                                        <Card key={msg.id} message={msg} index={idx} />
                                    ))}
                                </AnimatePresence>
                                
                                {/* Add Button Card (Visual cue at end of list too) */}
                                <motion.button
                                    initial={{ opacity: 0 }}
                                    whileInView={{ opacity: 1 }}
                                    whileHover={{ scale: 1.02, borderStyle: 'solid' }}
                                    onClick={handleWriteClick}
                                    className="border-4 border-dashed border-gray-200 rounded-2xl p-6 flex flex-col items-center justify-center text-gray-400 hover:text-brand-500 hover:border-brand-300 hover:bg-brand-50 transition-all min-h-[300px] group"
                                >
                                    <div className="w-16 h-16 rounded-full bg-gray-100 group-hover:bg-brand-100 flex items-center justify-center text-2xl mb-4 transition-colors">
                                        <PlusIcon />
                                    </div>
                                    <span className="font-bold text-lg">Add Your Message</span>
                                </motion.button>
                            </div>
                        </div>
                    </main>

                    <Footer />

                    {/* Write Modal */}
                    <AnimatePresence>
                        {isModalOpen && (
                            <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)}>
                                <div className="p-8 bg-white">
                                    <div className="text-center mb-8">
                                        <div className="w-12 h-12 bg-brand-100 text-brand-500 rounded-full flex items-center justify-center mx-auto mb-3 text-xl">
                                            <i className="fas fa-feather-alt"></i>
                                        </div>
                                        <h3 className="text-2xl font-bold text-gray-900">Write a Farewell Note</h3>
                                        <p className="text-gray-500 text-sm mt-1">Share your memories and best wishes.</p>
                                    </div>
                                    
                                    <form onSubmit={handleSubmit} className="space-y-4">
                                        <div className="grid grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                                                <input 
                                                    type="text" 
                                                    required
                                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all"
                                                    placeholder="John Doe"
                                                    value={formData.author}
                                                    onChange={(e) => setFormData({...formData, author: e.target.value})}
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Role / Title</label>
                                                <input 
                                                    type="text" 
                                                    className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all"
                                                    placeholder="Designer"
                                                    value={formData.role}
                                                    onChange={(e) => setFormData({...formData, role: e.target.value})}
                                                />
                                            </div>
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Your Message</label>
                                            <textarea 
                                                required
                                                rows="4"
                                                className="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none transition-all resize-none font-hand text-lg"
                                                placeholder="Write something heartwarming..."
                                                value={formData.text}
                                                onChange={(e) => setFormData({...formData, text: e.target.value})}
                                            ></textarea>
                                        </div>

                                        <div className="pt-4">
                                            <button 
                                                type="submit"
                                                className="w-full py-3 px-4 bg-brand-600 hover:bg-brand-700 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-0.5"
                                            >
                                                Post Message
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </Modal>
                        )}
                    </AnimatePresence>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
