<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Farewell Message Board ‚ú®</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --warm-50:#fffbeb;--warm-100:#fef3c7;--warm-200:#fde68a;--warm-300:#fcd34d;
  --warm-400:#fbbf24;--warm-500:#f59e0b;--warm-600:#d97706;
  --rose-50:#fff1f2;--rose-100:#ffe4e6;--rose-200:#fecdd3;--rose-300:#fda4af;
  --rose-400:#fb7185;--rose-500:#f43f5e;
  --purple-50:#faf5ff;--purple-100:#f3e8ff;--purple-200:#e9d5ff;--purple-300:#d8b4fe;
  --purple-400:#c084fc;--purple-500:#a855f7;
  --sky-50:#f0f9ff;--sky-100:#e0f2fe;--sky-200:#bae6fd;
  --emerald-50:#ecfdf5;--emerald-100:#d1fae5;--emerald-200:#a7f3d0;
  --slate-50:#f8fafc;--slate-100:#f1f5f9;--slate-200:#e2e8f0;--slate-300:#cbd5e1;
  --slate-400:#94a3b8;--slate-500:#64748b;--slate-600:#475569;--slate-700:#334155;
  --slate-800:#1e293b;--slate-900:#0f172a;
  --radius:16px;--radius-sm:10px;--radius-lg:24px;
  --shadow-soft:0 2px 15px -3px rgba(0,0,0,0.07),0 10px 20px -2px rgba(0,0,0,0.04);
  --shadow-card:0 4px 25px -5px rgba(0,0,0,0.08),0 10px 30px -5px rgba(0,0,0,0.04);
  --shadow-hover:0 10px 40px -10px rgba(0,0,0,0.12),0 15px 35px -5px rgba(0,0,0,0.06);
  --shadow-glow:0 0 30px rgba(251,191,36,0.15);
  --transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
}
html{scroll-behavior:smooth}
body{
  font-family:'Inter',system-ui,-apple-system,sans-serif;
  background:linear-gradient(135deg,#fefce8 0%,#fff7ed 25%,#fff1f2 50%,#faf5ff 75%,#f0f9ff 100%);
  color:var(--slate-800);min-height:100vh;
  background-attachment:fixed;
}
/* Floating decorative elements */
.bg-decor{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;overflow:hidden}
.bg-decor span{
  position:absolute;display:block;border-radius:50%;
  animation:floatUp linear infinite;opacity:0.08;
}
@keyframes floatUp{
  0%{transform:translateY(100vh) rotate(0deg) scale(0.5);opacity:0}
  10%{opacity:0.08}
  90%{opacity:0.08}
  100%{transform:translateY(-10vh) rotate(720deg) scale(1);opacity:0}
}
/* Navbar */
.navbar{
  position:sticky;top:0;z-index:100;
  background:rgba(255,255,255,0.82);backdrop-filter:blur(20px) saturate(180%);
  -webkit-backdrop-filter:blur(20px) saturate(180%);
  border-bottom:1px solid rgba(0,0,0,0.06);
  padding:0 24px;height:64px;display:flex;align-items:center;justify-content:space-between;
  transition:var(--transition);
}
.navbar.scrolled{box-shadow:0 4px 30px rgba(0,0,0,0.06)}
.nav-brand{display:flex;align-items:center;gap:10px}
.nav-brand-icon{
  width:38px;height:38px;border-radius:var(--radius-sm);
  background:linear-gradient(135deg,var(--warm-400),var(--rose-400));
  display:flex;align-items:center;justify-content:center;font-size:18px;
  box-shadow:0 2px 10px rgba(251,191,36,0.3);
}
.nav-brand-text{font-family:'Playfair Display',serif;font-size:20px;font-weight:700;color:var(--slate-800)}
.nav-brand-sub{font-size:11px;color:var(--slate-400);font-weight:400;letter-spacing:0.5px;text-transform:uppercase;margin-top:-2px}
.nav-actions{display:flex;align-items:center;gap:10px}
/* Buttons */
.btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 20px;border-radius:var(--radius-sm);
  font-family:'Inter',sans-serif;font-size:14px;font-weight:500;
  border:none;cursor:pointer;transition:var(--transition);
  text-decoration:none;line-height:1.2;
  position:relative;overflow:hidden;
}
.btn:active{transform:scale(0.97)}
.btn-ghost{
  background:transparent;color:var(--slate-600);
  border:1.5px solid var(--slate-200);
}
.btn-ghost:hover{background:var(--slate-50);border-color:var(--slate-300);color:var(--slate-800)}
.btn-primary{
  background:linear-gradient(135deg,var(--warm-400) 0%,var(--rose-400) 100%);
  color:#fff;box-shadow:0 4px 15px rgba(251,191,36,0.3);
}
.btn-primary:hover{box-shadow:0 6px 25px rgba(251,191,36,0.4);transform:translateY(-1px)}
.btn-login{
  background:white;color:var(--slate-700);
  border:1.5px solid var(--slate-200);
}
.btn-login:hover{background:var(--slate-50);border-color:var(--slate-300)}
.btn-login .avatar-placeholder{
  width:26px;height:26px;border-radius:50%;
  background:linear-gradient(135deg,var(--purple-300),var(--sky-200));
  display:flex;align-items:center;justify-content:center;
  font-size:13px;color:white;font-weight:600;
}
/* Hero */
.hero{
  text-align:center;padding:72px 24px 48px;
  position:relative;z-index:1;
}
.hero-badge{
  display:inline-flex;align-items:center;gap:6px;
  background:white;border:1px solid var(--warm-200);
  border-radius:999px;padding:6px 16px;font-size:13px;
  color:var(--warm-600);margin-bottom:20px;
  box-shadow:0 2px 10px rgba(251,191,36,0.1);
}
.hero h1{
  font-family:'Playfair Display',serif;font-size:clamp(36px,6vw,56px);
  font-weight:700;line-height:1.15;
  background:linear-gradient(135deg,var(--slate-800) 0%,var(--warm-600) 50%,var(--rose-500) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;margin-bottom:16px;
}
.hero p{
  font-size:clamp(16px,2.5vw,20px);color:var(--slate-500);
  max-width:560px;margin:0 auto 32px;line-height:1.6;font-weight:300;
}
.hero-stats{
  display:flex;justify-content:center;gap:40px;
  margin-top:8px;
}
.hero-stat{text-align:center}
.hero-stat-num{font-size:28px;font-weight:700;color:var(--warm-500);font-family:'Playfair Display',serif}
.hero-stat-label{font-size:12px;color:var(--slate-400);text-transform:uppercase;letter-spacing:1px;margin-top:2px}
/* Container */
.container{max-width:1200px;margin:0 auto;padding:0 24px 80px;position:relative;z-index:1}
/* Masonry grid */
.board{
  columns:1;column-gap:24px;
}
@media(min-width:640px){.board{columns:2}}
@media(min-width:1024px){.board{columns:3}}
/* Cards */
.card{
  break-inside:avoid;
  background:white;border-radius:var(--radius-lg);
  margin-bottom:24px;overflow:hidden;
  box-shadow:var(--shadow-card);
  transition:var(--transition);
  border:1px solid rgba(0,0,0,0.04);
  position:relative;
  animation:cardIn 0.6s ease-out both;
}
.card:hover{
  box-shadow:var(--shadow-hover);
  transform:translateY(-4px);
}
@keyframes cardIn{
  from{opacity:0;transform:translateY(30px) scale(0.97)}
  to{opacity:1;transform:translateY(0) scale(1)}
}
.card-img-wrap{
  position:relative;width:100%;overflow:hidden;
  max-height:200px;
}
.card-img-wrap img{
  width:100%;height:100%;object-fit:cover;
  display:block;transition:transform 0.5s ease;
}
.card:hover .card-img-wrap img{transform:scale(1.05)}
.card-img-overlay{
  position:absolute;bottom:0;left:0;right:0;height:60%;
  background:linear-gradient(to top,rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%);
  pointer-events:none;
}
.card-body{padding:20px 22px 22px}
.card-img-wrap + .card-body{padding-top:10px}
.card-author{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.card-avatar{
  width:36px;height:36px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:15px;color:white;font-weight:600;flex-shrink:0;
}
.card-author-info{flex:1;min-width:0}
.card-author-name{font-size:14px;font-weight:600;color:var(--slate-800)}
.card-author-role{font-size:12px;color:var(--slate-400)}
.card-text{
  font-size:15px;line-height:1.7;color:var(--slate-600);
  font-weight:400;
}
.card-text em{
  font-family:'Dancing Script',cursive;font-size:18px;
  color:var(--warm-600);font-style:normal;font-weight:500;
}
.card-footer{
  display:flex;align-items:center;justify-content:space-between;
  margin-top:16px;padding-top:14px;border-top:1px solid var(--slate-100);
}
.card-date{font-size:12px;color:var(--slate-400)}
.card-reactions{display:flex;gap:6px}
.card-reaction{
  display:inline-flex;align-items:center;gap:4px;
  padding:4px 10px;border-radius:999px;
  background:var(--slate-50);border:1px solid var(--slate-100);
  font-size:12px;color:var(--slate-500);cursor:pointer;
  transition:var(--transition);
}
.card-reaction:hover{background:var(--warm-50);border-color:var(--warm-200);color:var(--warm-600)}
.card-reaction.active{background:var(--warm-50);border-color:var(--warm-300);color:var(--warm-600)}
/* Featured card */
.card.featured{
  border:2px solid var(--warm-200);
  box-shadow:var(--shadow-card),var(--shadow-glow);
}
.card.featured .card-body::before{
  content:'‚≠ê Featured';
  display:inline-block;font-size:11px;font-weight:600;
  color:var(--warm-600);background:var(--warm-50);
  border:1px solid var(--warm-200);border-radius:999px;
  padding:3px 10px;margin-bottom:10px;letter-spacing:0.5px;
}
/* Color accents for cards */
.card-accent-warm{border-top:3px solid var(--warm-300)}
.card-accent-rose{border-top:3px solid var(--rose-300)}
.card-accent-purple{border-top:3px solid var(--purple-300)}
.card-accent-sky{border-top:3px solid var(--sky-200)}
.card-accent-emerald{border-top:3px solid var(--emerald-200)}
/* Write button (FAB) */
.fab{
  position:fixed;bottom:28px;right:28px;z-index:99;
  width:60px;height:60px;border-radius:50%;
  background:linear-gradient(135deg,var(--warm-400) 0%,var(--rose-400) 100%);
  color:white;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 8px 30px rgba(251,191,36,0.4);
  transition:var(--transition);font-size:24px;
}
.fab:hover{transform:scale(1.1);box-shadow:0 12px 40px rgba(251,191,36,0.5)}
.fab:active{transform:scale(0.95)}
/* Modal */
.modal-overlay{
  position:fixed;inset:0;z-index:200;
  background:rgba(15,23,42,0.5);backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  display:flex;align-items:center;justify-content:center;
  padding:24px;opacity:0;pointer-events:none;
  transition:opacity 0.3s ease;
}
.modal-overlay.active{opacity:1;pointer-events:auto}
.modal{
  background:white;border-radius:var(--radius-lg);
  width:100%;max-width:520px;overflow:hidden;
  transform:translateY(20px) scale(0.97);
  transition:transform 0.3s ease;
  box-shadow:0 25px 50px -12px rgba(0,0,0,0.25);
}
.modal-overlay.active .modal{transform:translateY(0) scale(1)}
.modal-header{
  padding:24px 24px 0;display:flex;align-items:center;justify-content:space-between;
}
.modal-header h2{font-family:'Playfair Display',serif;font-size:22px;font-weight:700;color:var(--slate-800)}
.modal-close{
  width:36px;height:36px;border-radius:50%;
  background:var(--slate-50);border:1px solid var(--slate-100);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:var(--transition);
  font-size:18px;color:var(--slate-400);
}
.modal-close:hover{background:var(--slate-100);color:var(--slate-600)}
.modal-body{padding:20px 24px 24px}
.form-group{margin-bottom:16px}
.form-label{display:block;font-size:13px;font-weight:500;color:var(--slate-600);margin-bottom:6px}
.form-input,.form-textarea{
  width:100%;padding:11px 14px;
  border:1.5px solid var(--slate-200);border-radius:var(--radius-sm);
  font-family:'Inter',sans-serif;font-size:14px;
  transition:var(--transition);background:white;color:var(--slate-800);
  outline:none;
}
.form-input:focus,.form-textarea:focus{border-color:var(--warm-400);box-shadow:0 0 0 3px rgba(251,191,36,0.1)}
.form-textarea{resize:vertical;min-height:120px;line-height:1.6}
.form-row{display:flex;gap:12px}
.form-row .form-group{flex:1}
.modal-footer{
  padding:16px 24px;background:var(--slate-50);
  border-top:1px solid var(--slate-100);
  display:flex;justify-content:flex-end;gap:10px;
}
/* Login Modal */
.login-avatar-big{
  width:80px;height:80px;border-radius:50%;margin:0 auto 16px;
  background:linear-gradient(135deg,var(--purple-300),var(--warm-300));
  display:flex;align-items:center;justify-content:center;
  font-size:36px;
}
.login-title{text-align:center;margin-bottom:24px}
.login-title h2{font-family:'Playfair Display',serif;font-size:24px;margin-bottom:6px}
.login-title p{font-size:14px;color:var(--slate-400)}
.social-btn{
  width:100%;padding:12px;border-radius:var(--radius-sm);
  border:1.5px solid var(--slate-200);background:white;
  display:flex;align-items:center;justify-content:center;gap:10px;
  font-family:'Inter',sans-serif;font-size:14px;font-weight:500;
  color:var(--slate-700);cursor:pointer;transition:var(--transition);
  margin-bottom:10px;
}
.social-btn:hover{background:var(--slate-50);border-color:var(--slate-300)}
.social-btn svg{width:20px;height:20px}
.divider{
  display:flex;align-items:center;gap:12px;margin:16px 0;
  font-size:12px;color:var(--slate-400);
}
.divider::before,.divider::after{content:'';flex:1;height:1px;background:var(--slate-200)}
/* Toast */
.toast{
  position:fixed;bottom:100px;left:50%;transform:translateX(-50%) translateY(20px);
  z-index:300;background:var(--slate-800);color:white;
  padding:12px 24px;border-radius:var(--radius-sm);
  font-size:14px;box-shadow:0 10px 30px rgba(0,0,0,0.2);
  opacity:0;transition:all 0.3s ease;pointer-events:none;
  display:flex;align-items:center;gap:8px;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
/* Confetti canvas */
#confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:150}
/* Responsive */
@media(max-width:640px){
  .navbar{padding:0 16px;height:56px}
  .nav-brand-text{font-size:17px}
  .nav-brand-sub{display:none}
  .hero{padding:48px 16px 32px}
  .hero-stats{gap:24px}
  .container{padding:0 16px 60px}
  .fab{bottom:20px;right:20px;width:54px;height:54px;font-size:22px}
  .btn{padding:9px 16px;font-size:13px}
  .card-body{padding:16px 18px 18px}
}
/* Scrollbar */
::-webkit-scrollbar{width:8px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--slate-300);border-radius:4px}
::-webkit-scrollbar-thumb:hover{background:var(--slate-400)}
/* Selection */
::selection{background:var(--warm-200);color:var(--slate-800)}
</style>
</head>
<body>

<!-- Background decorations -->
<div class="bg-decor" id="bgDecor"></div>

<!-- Confetti canvas -->
<canvas id="confetti"></canvas>

<!-- Navbar -->
<nav class="navbar" id="navbar">
  <div class="nav-brand">
    <div class="nav-brand-icon">üëã</div>
    <div>
      <div class="nav-brand-text">Farewell Board</div>
      <div class="nav-brand-sub">Until we meet again</div>
    </div>
  </div>
  <div class="nav-actions">
    <button class="btn btn-primary" onclick="openWriteModal()" style="display:none" id="navWriteBtn">
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="8" y1="3" x2="8" y2="13"/><line x1="3" y1="8" x2="13" y2="8"/></svg>
      Write
    </button>
    <button class="btn btn-login" onclick="openLoginModal()">
      <span class="avatar-placeholder" id="loginAvatar">üë§</span>
      <span id="loginText">Sign In</span>
    </button>
  </div>
</nav>

<!-- Hero -->
<section class="hero">
  <div class="hero-badge">üåü Celebrating our journey together</div>
  <h1>Until We Meet Again</h1>
  <p>A place to share memories, gratitude, and warm wishes as we begin our next chapters. Every goodbye is a new beginning.</p>
  <div class="hero-stats">
    <div class="hero-stat">
      <div class="hero-stat-num" id="msgCount">10</div>
      <div class="hero-stat-label">Messages</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-num" id="heartCount">0</div>
      <div class="hero-stat-label">Hearts</div>
    </div>
    <div class="hero-stat">
      <div class="hero-stat-num">‚àû</div>
      <div class="hero-stat-label">Memories</div>
    </div>
  </div>
</section>

<!-- Message Board -->
<div class="container">
  <div class="board" id="board"></div>
</div>

<!-- FAB Write Button -->
<button class="fab" onclick="openWriteModal()" title="Write a message">
  <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
</button>

<!-- Write Modal -->
<div class="modal-overlay" id="writeModal">
  <div class="modal">
    <div class="modal-header">
      <h2>Leave a Message üíõ</h2>
      <button class="modal-close" onclick="closeWriteModal()">‚úï</button>
    </div>
    <div class="modal-body">
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">Your Name</label>
          <input type="text" class="form-input" id="msgName" placeholder="e.g. Alex Chen">
        </div>
        <div class="form-group">
          <label class="form-label">Your Role</label>
          <input type="text" class="form-input" id="msgRole" placeholder="e.g. Designer">
        </div>
      </div>
      <div class="form-group">
        <label class="form-label">Your Message</label>
        <textarea class="form-textarea" id="msgText" placeholder="Share your favorite memory, a heartfelt wish, or words of encouragement..."></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeWriteModal()">Cancel</button>
      <button class="btn btn-primary" onclick="submitMessage()">
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M4 12l1.5-4.5L14 3l-4.5 8.5L7 10z"/></svg>
        Post Message
      </button>
    </div>
  </div>
</div>

<!-- Login Modal -->
<div class="modal-overlay" id="loginModal">
  <div class="modal">
    <div class="modal-header">
      <h2 style="visibility:hidden">Login</h2>
      <button class="modal-close" onclick="closeLoginModal()">‚úï</button>
    </div>
    <div class="modal-body" style="padding-top:0">
      <div class="login-avatar-big">üëã</div>
      <div class="login-title">
        <h2>Welcome Back</h2>
        <p>Sign in to leave your farewell message</p>
      </div>
      <button class="social-btn" onclick="pseudoLogin('Google')">
        <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
        Continue with Google
      </button>
      <button class="social-btn" onclick="pseudoLogin('GitHub')">
        <svg viewBox="0 0 24 24"><path fill="#333" d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.385-1.335-1.755-1.335-1.755-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.605-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.63-5.37-12-12-12"/></svg>
        Continue with GitHub
      </button>
      <div class="divider">or</div>
      <div class="form-group" style="margin-bottom:12px">
        <input type="email" class="form-input" placeholder="Enter your email" id="loginEmail">
      </div>
      <button class="btn btn-primary" style="width:100%;justify-content:center" onclick="pseudoLogin('Email')">
        Sign In
      </button>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// Data
const COLORS = [
  'linear-gradient(135deg,#f59e0b,#f97316)',
  'linear-gradient(135deg,#f43f5e,#ec4899)',
  'linear-gradient(135deg,#a855f7,#8b5cf6)',
  'linear-gradient(135deg,#3b82f6,#06b6d4)',
  'linear-gradient(135deg,#10b981,#14b8a6)',
  'linear-gradient(135deg,#6366f1,#a855f7)',
  'linear-gradient(135deg,#ec4899,#f43f5e)',
  'linear-gradient(135deg,#f97316,#ef4444)',
  'linear-gradient(135deg,#06b6d4,#3b82f6)',
  'linear-gradient(135deg,#14b8a6,#10b981)',
];

const ACCENTS = ['card-accent-warm','card-accent-rose','card-accent-purple','card-accent-sky','card-accent-emerald'];

const IMAGES = [
  'https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=600&q=80', // friends
  'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&q=80', // teamwork
  'https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=600&q=80', // celebration
  'https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?w=600&q=80', // gathering
  'https://images.unsplash.com/photo-1528605248644-14dd04022da1?w=600&q=80', // group outdoor
];

const initialMessages = [
  {
    id: 1, name: 'Sarah Mitchell', role: 'Team Lead', featured: true,
    image: IMAGES[0],
    text: `Working with you all has been the highlight of my career. From late-night brainstorms to celebrating our biggest launches, every moment mattered. <em>You made ordinary days extraordinary.</em> I'll carry these memories with me always. Here's to new horizons! üåÖ`,
    date: 'Jan 28, 2026', hearts: 24, waves: 12, initials: 'SM'
  },
  {
    id: 2, name: 'David Park', role: 'Senior Engineer',
    text: `Remember when we shipped the v3.0 release at 2 AM and celebrated with cold pizza? That's the kind of team spirit I'll never forget. You taught me that great code is written by great people. <em>Keep building amazing things.</em> ‚ú®`,
    date: 'Jan 27, 2026', hearts: 18, waves: 8, initials: 'DP'
  },
  {
    id: 3, name: 'Aisha Johnson', role: 'Product Designer',
    image: IMAGES[1],
    text: `Every pixel we placed, every user journey we mapped ‚Äî it was never just work, it was art. Thank you for believing in design and trusting the process. <em>Stay curious and keep creating beauty in everything you do.</em> üé®`,
    date: 'Jan 26, 2026', hearts: 21, waves: 15, initials: 'AJ'
  },
  {
    id: 4, name: 'Marcus Rivera', role: 'Backend Developer',
    text: `To the team that debugged not just code, but also each other's bad days ‚Äî thank you. You showed me that the best architectures are built on empathy and communication. Wishing everyone the most elegant solutions ahead. üöÄ`,
    date: 'Jan 25, 2026', hearts: 16, waves: 9, initials: 'MR'
  },
  {
    id: 5, name: 'Emma Thompson', role: 'Project Manager',
    image: IMAGES[2],
    text: `Managing this team was like conducting an orchestra where every instrument was perfectly in tune. Your dedication, creativity, and humor made every sprint a joy. <em>Grateful doesn't even begin to cover it.</em> Until our paths cross again! üé∂`,
    date: 'Jan 24, 2026', hearts: 28, waves: 14, initials: 'ET'
  },
  {
    id: 6, name: 'Kenji Watanabe', role: 'DevOps Engineer',
    text: `They say the best infrastructure is invisible ‚Äî and so is the best teamwork. Working alongside you, every challenge became an opportunity. Thank you for making my growth possible. <em>Here's to deploying happiness wherever you go!</em> üåê`,
    date: 'Jan 23, 2026', hearts: 13, waves: 7, initials: 'KW'
  },
  {
    id: 7, name: 'Priya Sharma', role: 'QA Lead',
    image: IMAGES[3],
    text: `I came here to find bugs, but instead I found a family. You all taught me that quality isn't just in code ‚Äî it's in how we treat each other. Every standup, every retro, every laugh in between. <em>May your life be bug-free and full of feature releases!</em> üêõüíö`,
    date: 'Jan 22, 2026', hearts: 19, waves: 11, initials: 'PS'
  },
  {
    id: 8, name: 'Liam O\'Connor', role: 'Frontend Developer',
    text: `From pixel-perfect UIs to pixel-perfect friendships ‚Äî this journey was something special. The coffee runs, the whiteboard debates, the "one more thing" that turned into our best features. <em>You've rendered my life beautifully.</em> Keep pushing boundaries! üíª`,
    date: 'Jan 21, 2026', hearts: 15, waves: 6, initials: 'LO'
  },
  {
    id: 9, name: 'Sofia Chen', role: 'Data Scientist',
    image: IMAGES[4],
    text: `The data shows a 100% correlation between working with this team and being happy. No overfitting here ‚Äî just pure, genuine connection. Thank you for the insights, both in numbers and in life. <em>May your models always converge!</em> üìä‚ú®`,
    date: 'Jan 20, 2026', hearts: 22, waves: 10, initials: 'SC'
  },
  {
    id: 10, name: 'Alex Nguyen', role: 'Intern ‚Üí Full-Stack Dev',
    text: `I walked in as an intern who could barely write a for-loop, and I'm leaving as a developer who can (sometimes) write them without Googling. <em>This team didn't just teach me to code ‚Äî you taught me to believe in myself.</em> Forever grateful. My journey started here. üå±`,
    date: 'Jan 19, 2026', hearts: 31, waves: 18, initials: 'AN'
  }
];

let messages = [...initialMessages];
let loggedIn = false;
let currentUser = null;

// Render board
function renderBoard() {
  const board = document.getElementById('board');
  board.innerHTML = '';
  messages.forEach((msg, i) => {
    const accent = ACCENTS[i % ACCENTS.length];
    const color = COLORS[i % COLORS.length];
    const delay = Math.min(i * 0.08, 0.8);
    const hasImg = !!msg.image;
    const card = document.createElement('div');
    card.className = `card ${accent}${msg.featured ? ' featured' : ''}`;
    card.style.animationDelay = delay + 's';
    card.innerHTML = `
      ${hasImg ? `<div class="card-img-wrap"><img src="${msg.image}" alt="Memory" loading="lazy"><div class="card-img-overlay"></div></div>` : ''}
      <div class="card-body">
        <div class="card-author">
          <div class="card-avatar" style="background:${color}">${msg.initials}</div>
          <div class="card-author-info">
            <div class="card-author-name">${msg.name}</div>
            <div class="card-author-role">${msg.role}</div>
          </div>
        </div>
        <div class="card-text">${msg.text}</div>
        <div class="card-footer">
          <span class="card-date">${msg.date}</span>
          <div class="card-reactions">
            <span class="card-reaction" data-id="${msg.id}" data-type="hearts" onclick="react(this)">‚ù§Ô∏è ${msg.hearts}</span>
            <span class="card-reaction" data-id="${msg.id}" data-type="waves" onclick="react(this)">üëã ${msg.waves}</span>
          </div>
        </div>
      </div>
    `;
    board.appendChild(card);
  });
  updateCounts();
}

function updateCounts() {
  document.getElementById('msgCount').textContent = messages.length;
  const totalHearts = messages.reduce((s, m) => s + m.hearts, 0);
  document.getElementById('heartCount').textContent = totalHearts;
}

// Reactions
function react(el) {
  const id = parseInt(el.dataset.id);
  const type = el.dataset.type;
  const msg = messages.find(m => m.id === id);
  if (!msg) return;
  if (el.classList.contains('active')) {
    msg[type]--;
    el.classList.remove('active');
  } else {
    msg[type]++;
    el.classList.add('active');
  }
  const emoji = type === 'hearts' ? '‚ù§Ô∏è' : 'üëã';
  el.textContent = `${emoji} ${msg[type]}`;
  updateCounts();
}

// Modals
function openWriteModal() {
  document.getElementById('writeModal').classList.add('active');
}
function closeWriteModal() {
  document.getElementById('writeModal').classList.remove('active');
}
function openLoginModal() {
  if (loggedIn) {
    pseudoLogout();
    return;
  }
  document.getElementById('loginModal').classList.add('active');
}
function closeLoginModal() {
  document.getElementById('loginModal').classList.remove('active');
}

// Close modals on overlay click
document.getElementById('writeModal').addEventListener('click', function(e) {
  if (e.target === this) closeWriteModal();
});
document.getElementById('loginModal').addEventListener('click', function(e) {
  if (e.target === this) closeLoginModal();
});

// Submit message
function submitMessage() {
  const name = document.getElementById('msgName').value.trim() || 'Anonymous';
  const role = document.getElementById('msgRole').value.trim() || 'Team Member';
  const text = document.getElementById('msgText').value.trim();
  if (!text) {
    showToast('‚ö†Ô∏è Please write a message before posting.');
    return;
  }
  const initials = name.split(' ').map(w => w[0]).join('').toUpperCase().slice(0, 2);
  const now = new Date();
  const dateStr = now.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  const newMsg = {
    id: Date.now(),
    name, role, text: text.replace(/\n/g, '<br>'),
    date: dateStr,
    hearts: 0, waves: 0,
    initials,
    featured: false, image: null
  };
  messages.unshift(newMsg);
  renderBoard();
  closeWriteModal();
  document.getElementById('msgName').value = '';
  document.getElementById('msgRole').value = '';
  document.getElementById('msgText').value = '';
  showToast('üéâ Your message has been posted!');
  launchConfetti();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Pseudo login
function pseudoLogin(provider) {
  loggedIn = true;
  currentUser = provider;
  document.getElementById('loginAvatar').innerHTML = '‚úì';
  document.getElementById('loginAvatar').style.background = 'linear-gradient(135deg,#10b981,#14b8a6)';
  document.getElementById('loginText').textContent = 'Signed In';
  document.getElementById('navWriteBtn').style.display = 'inline-flex';
  closeLoginModal();
  showToast(`‚úÖ Signed in with ${provider}!`);
}

function pseudoLogout() {
  loggedIn = false;
  currentUser = null;
  document.getElementById('loginAvatar').innerHTML = 'üë§';
  document.getElementById('loginAvatar').style.background = 'linear-gradient(135deg,var(--purple-300),var(--sky-200))';
  document.getElementById('loginText').textContent = 'Sign In';
  document.getElementById('navWriteBtn').style.display = 'none';
  showToast('üëã Signed out.');
}

// Toast
function showToast(msg) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.classList.add('show');
  setTimeout(() => toast.classList.remove('show'), 3000);
}

// Navbar scroll effect
window.addEventListener('scroll', () => {
  document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 20);
});

// Background decorations
(function initBgDecor() {
  const container = document.getElementById('bgDecor');
  const shapes = ['üå∏','üíõ','‚ú®','üåø','üíú','üß°','üí´','üå∫'];
  for (let i = 0; i < 15; i++) {
    const span = document.createElement('span');
    span.textContent = shapes[i % shapes.length];
    span.style.left = Math.random() * 100 + '%';
    span.style.fontSize = (16 + Math.random() * 24) + 'px';
    span.style.animationDuration = (12 + Math.random() * 18) + 's';
    span.style.animationDelay = (Math.random() * 15) + 's';
    container.appendChild(span);
  }
})();

// Confetti
function launchConfetti() {
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const pieces = [];
  const colors = ['#fbbf24','#f43f5e','#a855f7','#3b82f6','#10b981','#f97316','#ec4899'];
  for (let i = 0; i < 120; i++) {
    pieces.push({
      x: canvas.width / 2 + (Math.random() - 0.5) * 200,
      y: canvas.height / 2,
      vx: (Math.random() - 0.5) * 16,
      vy: -Math.random() * 18 - 4,
      w: 6 + Math.random() * 6,
      h: 4 + Math.random() * 8,
      color: colors[Math.floor(Math.random() * colors.length)],
      rotation: Math.random() * 360,
      rotSpeed: (Math.random() - 0.5) * 12,
      gravity: 0.25 + Math.random() * 0.15,
      opacity: 1
    });
  }
  let frame = 0;
  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    let alive = false;
    pieces.forEach(p => {
      p.x += p.vx;
      p.vy += p.gravity;
      p.y += p.vy;
      p.rotation += p.rotSpeed;
      p.vx *= 0.99;
      if (frame > 60) p.opacity -= 0.015;
      if (p.opacity <= 0) return;
      alive = true;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rotation * Math.PI / 180);
      ctx.globalAlpha = Math.max(0, p.opacity);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
      ctx.restore();
    });
    frame++;
    if (alive && frame < 200) requestAnimationFrame(animate);
    else ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
  animate();
}

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeWriteModal();
    closeLoginModal();
  }
});

// Init
renderBoard();
</script>
</body>
</html>
