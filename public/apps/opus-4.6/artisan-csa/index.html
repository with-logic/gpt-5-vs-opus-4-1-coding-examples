<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Artisan CSA ‚Äî Hand-Drawn Farm Landing</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ============ CSS RESET & BASE ============ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --cream:#faf6f0;--parchment:#f5edd6;--warmwhite:#fdf9f3;
  --ink:#3a2f27;--ink-light:#6b5d52;--ink-faint:#a89888;
  --earth-green:#5a7247;--earth-green-light:#7a9a5e;--earth-green-dark:#3d5030;
  --terracotta:#c4724e;--terracotta-light:#d9956f;--terracotta-dark:#a85a38;
  --golden:#d4a843;--golden-light:#e8c96a;
  --sky:#8ab4c7;--sky-light:#b3d4e2;
  --berry:#9b5e6e;--berry-light:#c4899a;
  --shadow:rgba(58,47,39,0.08);--shadow-md:rgba(58,47,39,0.12);
  --font-heading:'Playfair Display',Georgia,serif;
  --font-body:'Lora','Times New Roman',serif;
  --font-hand:'Caveat',cursive;
  --radius:12px;--radius-lg:20px;
  --transition:0.3s cubic-bezier(0.4,0,0.2,1);
}
html{scroll-behavior:smooth;font-size:16px;overflow-x:hidden}
body{
  font-family:var(--font-body);color:var(--ink);line-height:1.7;
  background:var(--cream);overflow-x:hidden;
  background-image:
    url("data:image/svg+xml,%3Csvg width='400' height='400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='400' height='400' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
}
h1,h2,h3,h4{font-family:var(--font-heading);font-weight:600;line-height:1.3}
h1{font-size:clamp(2.2rem,5vw,3.6rem)}
h2{font-size:clamp(1.7rem,3.5vw,2.6rem)}
h3{font-size:clamp(1.2rem,2vw,1.5rem)}
a{color:var(--earth-green);text-decoration:none;transition:color var(--transition)}
a:hover{color:var(--terracotta)}
img{max-width:100%;display:block}
button,input,textarea,select{font-family:inherit;font-size:inherit}
::selection{background:var(--golden-light);color:var(--ink)}

/* Paper texture overlay */
body::before{
  content:'';position:fixed;inset:0;pointer-events:none;z-index:9999;
  background:url("data:image/svg+xml,%3Csvg width='300' height='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='p'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23p)' opacity='0.025'/%3E%3C/svg%3E");
  mix-blend-mode:multiply;
}

/* ============ UTILITY ============ */
.container{max-width:1140px;margin:0 auto;padding:0 24px}
.section{padding:80px 0}
@media(max-width:768px){.section{padding:56px 0}}
.section-label{
  font-family:var(--font-hand);font-size:1.3rem;color:var(--terracotta);
  letter-spacing:0.05em;margin-bottom:8px;display:block;
}
.section-title{margin-bottom:16px;color:var(--ink)}
.section-subtitle{color:var(--ink-light);font-size:1.05rem;max-width:600px;margin:0 auto 40px}
.text-center{text-align:center}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}

/* Ink divider */
.ink-divider{
  width:120px;height:2px;margin:24px auto;position:relative;
  background:linear-gradient(90deg,transparent,var(--ink-faint),transparent);
}
.ink-divider::after{
  content:'‚ùã';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
  background:var(--cream);padding:0 12px;color:var(--terracotta);font-size:0.9rem;
}

/* Watercolor blob backgrounds */
.watercolor-blob{
  position:absolute;border-radius:50%;filter:blur(60px);opacity:0.15;pointer-events:none;
}

/* Scroll reveal */
.reveal{opacity:0;transform:translateY(30px);transition:opacity 0.8s ease,transform 0.8s ease}
.reveal.visible{opacity:1;transform:translateY(0)}

/* ============ NAVIGATION ============ */
nav{
  position:fixed;top:0;left:0;right:0;z-index:1000;
  background:rgba(250,246,240,0.92);backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(58,47,39,0.08);
  transition:box-shadow var(--transition);
}
nav.scrolled{box-shadow:0 2px 20px var(--shadow)}
.nav-inner{
  display:flex;align-items:center;justify-content:space-between;
  max-width:1140px;margin:0 auto;padding:14px 24px;
}
.nav-logo{
  font-family:var(--font-hand);font-size:1.6rem;font-weight:700;color:var(--earth-green);
  display:flex;align-items:center;gap:8px;
}
.nav-logo svg{width:32px;height:32px}
.nav-links{display:flex;gap:28px;align-items:center;list-style:none}
.nav-links a{
  font-size:0.92rem;color:var(--ink-light);font-weight:500;
  position:relative;padding:4px 0;transition:color var(--transition);
}
.nav-links a::after{
  content:'';position:absolute;bottom:0;left:0;width:0;height:1.5px;
  background:var(--terracotta);transition:width var(--transition);
}
.nav-links a:hover,
.nav-links a:focus{color:var(--ink)}
.nav-links a:hover::after,
.nav-links a:focus::after{width:100%}
.nav-cta{
  background:var(--earth-green);color:white !important;padding:8px 20px;
  border-radius:30px;font-size:0.88rem;font-weight:600;
  transition:all var(--transition);border:none;cursor:pointer;
}
.nav-cta:hover{background:var(--earth-green-dark);transform:translateY(-1px)}
.nav-cta::after{display:none !important}

/* Mobile menu */
.hamburger{
  display:none;background:none;border:none;cursor:pointer;padding:4px;
  width:36px;height:36px;position:relative;
}
.hamburger span{
  display:block;width:24px;height:2px;background:var(--ink);
  position:absolute;left:6px;transition:all var(--transition);
}
.hamburger span:nth-child(1){top:10px}
.hamburger span:nth-child(2){top:17px}
.hamburger span:nth-child(3){top:24px}
.hamburger.active span:nth-child(1){transform:rotate(45deg);top:17px}
.hamburger.active span:nth-child(2){opacity:0}
.hamburger.active span:nth-child(3){transform:rotate(-45deg);top:17px}

@media(max-width:768px){
  .hamburger{display:block}
  .nav-links{
    position:fixed;top:60px;left:0;right:0;background:rgba(250,246,240,0.98);
    backdrop-filter:blur(12px);flex-direction:column;padding:24px;gap:20px;
    transform:translateY(-110%);transition:transform var(--transition);
    border-bottom:1px solid var(--shadow);
  }
  .nav-links.open{transform:translateY(0)}
}

/* ============ HERO ============ */
.hero{
  min-height:100vh;display:flex;align-items:center;
  padding-top:80px;position:relative;overflow:hidden;
}
.hero-bg{
  position:absolute;inset:0;
  background:linear-gradient(170deg,var(--warmwhite) 0%,var(--parchment) 50%,rgba(212,168,67,0.08) 100%);
}
.hero-content{
  position:relative;z-index:2;display:grid;
  grid-template-columns:1fr 1fr;gap:60px;align-items:center;
}
.hero-text h1{margin-bottom:20px;color:var(--ink)}
.hero-text h1 em{font-style:italic;color:var(--earth-green)}
.hero-text .tagline{
  font-size:1.15rem;color:var(--ink-light);margin-bottom:32px;line-height:1.8;
}
.hero-text .hand-note{
  font-family:var(--font-hand);font-size:1.35rem;color:var(--terracotta);
  transform:rotate(-2deg);display:inline-block;margin-bottom:24px;
}

/* ZIP checker */
.zip-checker{
  display:flex;gap:12px;margin-bottom:24px;flex-wrap:wrap;
}
.zip-input{
  flex:1;min-width:180px;padding:14px 20px;border:2px solid var(--ink-faint);
  border-radius:var(--radius);background:white;font-size:1rem;
  transition:border-color var(--transition);
}
.zip-input:focus{outline:none;border-color:var(--earth-green)}
.zip-input::placeholder{color:var(--ink-faint)}
.btn-primary{
  padding:14px 32px;background:var(--earth-green);color:white;
  border:none;border-radius:var(--radius);font-weight:600;cursor:pointer;
  font-size:1rem;transition:all var(--transition);white-space:nowrap;
  box-shadow:0 4px 16px rgba(90,114,71,0.25);
}
.btn-primary:hover{background:var(--earth-green-dark);transform:translateY(-2px);box-shadow:0 6px 24px rgba(90,114,71,0.35)}
.btn-primary:active{transform:translateY(0)}
.zip-result{
  font-size:0.95rem;min-height:24px;display:flex;align-items:center;gap:8px;
}
.zip-result.success{color:var(--earth-green)}
.zip-result.error{color:var(--terracotta)}

/* Hero illustration */
.hero-illustration{
  position:relative;display:flex;justify-content:center;align-items:center;
}
.hero-illustration svg{
  width:100%;max-width:480px;filter:drop-shadow(0 8px 30px rgba(58,47,39,0.1));
}
.parallax-element{transition:transform 0.1s ease-out}

@media(max-width:768px){
  .hero-content{grid-template-columns:1fr;text-align:center}
  .hero-illustration{order:-1}
  .hero-illustration svg{max-width:300px}
  .zip-checker{justify-content:center}
}

/* ============ SEASONAL SHARES ============ */
.shares{background:var(--warmwhite);position:relative}
.shares-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:24px}
.share-card{
  background:white;border-radius:var(--radius-lg);padding:28px 24px;
  border:1.5px solid rgba(58,47,39,0.06);position:relative;
  transition:all var(--transition);cursor:default;overflow:hidden;
}
.share-card::before{
  content:'';position:absolute;top:0;left:0;right:0;height:4px;
  border-radius:var(--radius-lg) var(--radius-lg) 0 0;
}
.share-card.spring::before{background:linear-gradient(90deg,#7a9a5e,#a8c97e)}
.share-card.summer::before{background:linear-gradient(90deg,#d4a843,#e8c96a)}
.share-card.fall::before{background:linear-gradient(90deg,#c4724e,#d9956f)}
.share-card.winter::before{background:linear-gradient(90deg,#8ab4c7,#b3d4e2)}
.share-card:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 40px var(--shadow-md);
}
.share-icon{
  width:72px;height:72px;margin:0 auto 16px;
  display:flex;align-items:center;justify-content:center;
}
.share-card h3{text-align:center;margin-bottom:8px}
.share-card .season-months{
  text-align:center;font-family:var(--font-hand);font-size:1.1rem;
  color:var(--ink-faint);margin-bottom:12px;
}
.share-card .produce-preview{
  text-align:center;font-size:0.9rem;color:var(--ink-light);line-height:1.6;
}
.allergen-icons{
  display:flex;justify-content:center;gap:8px;margin-top:14px;flex-wrap:wrap;
}
.allergen-icon{
  display:inline-flex;align-items:center;gap:4px;
  font-size:0.75rem;color:var(--ink-faint);background:var(--cream);
  padding:3px 10px;border-radius:20px;
}
/* Tooltip */
.share-card .tooltip{
  position:absolute;bottom:100%;left:50%;transform:translateX(-50%) translateY(8px);
  background:var(--ink);color:white;padding:16px 20px;border-radius:var(--radius);
  font-size:0.88rem;line-height:1.6;width:240px;text-align:left;
  opacity:0;pointer-events:none;transition:all var(--transition);z-index:10;
  box-shadow:0 8px 30px rgba(0,0,0,0.2);
}
.share-card .tooltip::after{
  content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);
  border:8px solid transparent;border-top-color:var(--ink);
}
.share-card:hover .tooltip{opacity:1;transform:translateX(-50%) translateY(-4px);pointer-events:auto}
.tooltip h4{font-family:var(--font-hand);font-size:1.1rem;margin-bottom:6px;color:var(--golden-light)}

@media(max-width:900px){.shares-grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:500px){.shares-grid{grid-template-columns:1fr;max-width:340px;margin:0 auto}}

/* ============ PLANS ============ */
.plans{position:relative}
.plans-wrapper{
  max-width:720px;margin:0 auto;background:white;
  border-radius:var(--radius-lg);padding:40px;
  border:1.5px solid rgba(58,47,39,0.06);
  box-shadow:0 8px 40px var(--shadow);
}
.frequency-toggle{
  display:flex;justify-content:center;gap:0;margin-bottom:32px;
  background:var(--cream);border-radius:var(--radius);padding:4px;
}
.freq-btn{
  flex:1;padding:12px 24px;border:none;background:transparent;
  font-family:var(--font-heading);font-size:1.05rem;cursor:pointer;
  border-radius:8px;transition:all var(--transition);color:var(--ink-light);
}
.freq-btn.active{
  background:white;color:var(--earth-green);font-weight:600;
  box-shadow:0 2px 8px var(--shadow);
}
.plan-price{
  text-align:center;margin-bottom:32px;
}
.plan-price .amount{
  font-family:var(--font-heading);font-size:3.2rem;font-weight:700;
  color:var(--earth-green);
}
.plan-price .period{font-size:1rem;color:var(--ink-faint)}
.plan-price .savings{
  display:inline-block;margin-top:8px;font-family:var(--font-hand);
  font-size:1.1rem;color:var(--terracotta);
}
/* Range slider */
.plan-slider{margin-bottom:32px}
.plan-slider label{display:block;font-weight:600;margin-bottom:12px;font-size:0.95rem}
.slider-track{position:relative;padding:8px 0}
input[type="range"]{
  -webkit-appearance:none;width:100%;height:6px;border-radius:3px;
  background:linear-gradient(90deg,var(--earth-green) 0%,var(--cream) 0%);
  outline:none;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;width:24px;height:24px;border-radius:50%;
  background:var(--earth-green);cursor:pointer;
  box-shadow:0 2px 8px rgba(90,114,71,0.3);
  transition:all var(--transition);
}
input[type="range"]::-webkit-slider-thumb:hover{transform:scale(1.15)}
input[type="range"]::-moz-range-thumb{
  width:24px;height:24px;border-radius:50%;background:var(--earth-green);
  cursor:pointer;border:none;box-shadow:0 2px 8px rgba(90,114,71,0.3);
}
.slider-labels{display:flex;justify-content:space-between;font-size:0.85rem;color:var(--ink-faint);margin-top:4px}

/* Add-ons */
.addons{border-top:1.5px solid var(--cream);padding-top:28px;margin-top:8px}
.addons h3{margin-bottom:20px}
.addon-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.addon-item{
  display:flex;flex-direction:column;align-items:center;gap:8px;
  padding:16px 12px;border-radius:var(--radius);border:2px solid var(--cream);
  cursor:pointer;transition:all var(--transition);text-align:center;
  background:white;
}
.addon-item:hover{border-color:var(--earth-green-light)}
.addon-item.selected{
  border-color:var(--earth-green);background:rgba(90,114,71,0.05);
}
.addon-item .addon-icon{font-size:1.8rem}
.addon-item .addon-name{font-weight:600;font-size:0.92rem}
.addon-item .addon-price{font-family:var(--font-hand);font-size:1rem;color:var(--terracotta)}

/* Total */
.plan-total{
  margin-top:28px;padding:20px;background:var(--cream);
  border-radius:var(--radius);display:flex;justify-content:space-between;
  align-items:center;flex-wrap:wrap;gap:12px;
}
.plan-total .total-label{font-weight:600;font-size:1.1rem}
.plan-total .total-amount{
  font-family:var(--font-heading);font-size:1.8rem;font-weight:700;color:var(--earth-green);
}
.plan-cta{
  width:100%;margin-top:20px;padding:16px;background:var(--terracotta);
  color:white;border:none;border-radius:var(--radius);font-size:1.1rem;
  font-weight:600;cursor:pointer;transition:all var(--transition);
  font-family:var(--font-heading);
}
.plan-cta:hover{background:var(--terracotta-dark);transform:translateY(-2px)}

@media(max-width:600px){
  .addon-grid{grid-template-columns:1fr 1fr}
  .plans-wrapper{padding:28px 20px}
}

/* ============ MAP ============ */
.map-section{background:var(--warmwhite);position:relative}
.map-grid{display:grid;grid-template-columns:1.2fr 0.8fr;gap:40px;align-items:start}
.map-image{
  position:relative;border-radius:var(--radius-lg);overflow:hidden;
  box-shadow:0 8px 40px var(--shadow);background:white;
}
.map-canvas{
  width:100%;aspect-ratio:4/3;background:var(--parchment);position:relative;
}
.pickup-list h3{margin-bottom:20px}
.pickup-item{
  display:flex;justify-content:space-between;align-items:center;
  padding:16px 20px;background:white;border-radius:var(--radius);
  margin-bottom:12px;border:1.5px solid rgba(58,47,39,0.06);
  transition:all var(--transition);
}
.pickup-item:hover{box-shadow:0 4px 16px var(--shadow)}
.pickup-info h4{font-size:1rem;margin-bottom:4px}
.pickup-info p{font-size:0.88rem;color:var(--ink-light)}
.distance-badge{
  font-family:var(--font-hand);font-size:1rem;
  background:var(--cream);padding:6px 14px;border-radius:20px;
  color:var(--earth-green);font-weight:600;white-space:nowrap;
}
@media(max-width:768px){.map-grid{grid-template-columns:1fr}}

/* ============ TESTIMONIALS ============ */
.testimonials{position:relative;overflow:hidden}
.carousel-wrapper{position:relative;max-width:900px;margin:0 auto}
.carousel-track{
  display:flex;transition:transform 0.5s cubic-bezier(0.4,0,0.2,1);
}
.testimonial-card{
  min-width:100%;padding:0 20px;
}
.testimonial-inner{
  background:white;border-radius:var(--radius-lg);padding:40px;
  display:flex;gap:32px;align-items:center;
  border:1.5px solid rgba(58,47,39,0.06);
  box-shadow:0 8px 40px var(--shadow);
}
.testimonial-portrait{
  flex-shrink:0;width:120px;height:120px;
  border-radius:50%;overflow:hidden;
  border:3px solid var(--cream);
}
.testimonial-portrait svg{width:100%;height:100%}
.testimonial-content blockquote{
  font-size:1.1rem;font-style:italic;line-height:1.8;
  color:var(--ink);margin-bottom:16px;position:relative;
  padding-left:24px;
}
.testimonial-content blockquote::before{
  content:'"';position:absolute;left:0;top:-8px;
  font-family:var(--font-heading);font-size:3rem;color:var(--terracotta);
  line-height:1;
}
.testimonial-content .author{font-weight:600;color:var(--earth-green)}
.testimonial-content .role{font-size:0.9rem;color:var(--ink-faint)}
.carousel-controls{display:flex;justify-content:center;gap:12px;margin-top:28px}
.carousel-btn{
  width:44px;height:44px;border-radius:50%;border:2px solid var(--ink-faint);
  background:white;cursor:pointer;display:flex;align-items:center;justify-content:center;
  transition:all var(--transition);color:var(--ink);font-size:1.1rem;
}
.carousel-btn:hover{border-color:var(--earth-green);color:var(--earth-green)}
.carousel-dots{display:flex;align-items:center;gap:8px}
.carousel-dot{
  width:8px;height:8px;border-radius:50%;background:var(--ink-faint);
  cursor:pointer;transition:all var(--transition);border:none;
}
.carousel-dot.active{background:var(--earth-green);width:24px;border-radius:4px}
@media(max-width:768px){
  .testimonial-inner{flex-direction:column;text-align:center;padding:28px 24px}
  .testimonial-content blockquote{padding-left:0}
  .testimonial-content blockquote::before{position:static;display:block;margin-bottom:-12px}
}

/* ============ FAQ ============ */
.faq-section{background:var(--warmwhite)}
.faq-grid{display:grid;grid-template-columns:1fr 1fr;gap:60px;align-items:start}
.faq-list{max-width:600px}
.faq-item{
  border-bottom:1px solid rgba(58,47,39,0.1);
}
.faq-question{
  display:flex;justify-content:space-between;align-items:center;
  padding:20px 0;cursor:pointer;background:none;border:none;
  width:100%;text-align:left;font-family:var(--font-heading);
  font-size:1.08rem;font-weight:600;color:var(--ink);
  transition:color var(--transition);
}
.faq-question:hover{color:var(--earth-green)}
.faq-question:focus{outline:2px solid var(--earth-green);outline-offset:2px;border-radius:4px}
.faq-icon{
  width:28px;height:28px;border-radius:50%;border:2px solid var(--ink-faint);
  display:flex;align-items:center;justify-content:center;flex-shrink:0;
  transition:all var(--transition);font-size:1.2rem;color:var(--ink-faint);
}
.faq-item.open .faq-icon{transform:rotate(45deg);border-color:var(--earth-green);color:var(--earth-green)}
.faq-answer{
  max-height:0;overflow:hidden;
  transition:max-height 0.4s cubic-bezier(0.4,0,0.2,1),padding 0.4s ease;
}
.faq-answer-inner{
  padding:0 0 20px;font-size:0.95rem;color:var(--ink-light);line-height:1.8;
}

/* Contact form */
.contact-form{
  background:white;border-radius:var(--radius-lg);padding:36px;
  border:1.5px solid rgba(58,47,39,0.06);
  box-shadow:0 8px 40px var(--shadow);
}
.contact-form h3{margin-bottom:20px}
.form-group{margin-bottom:18px}
.form-group label{display:block;font-weight:600;margin-bottom:6px;font-size:0.92rem}
.form-group input,.form-group textarea{
  width:100%;padding:12px 16px;border:2px solid var(--cream);
  border-radius:var(--radius);background:var(--warmwhite);
  transition:border-color var(--transition);font-size:0.95rem;
}
.form-group input:focus,.form-group textarea:focus{
  outline:none;border-color:var(--earth-green);background:white;
}
.form-group textarea{resize:vertical;min-height:100px}
.form-submit{
  width:100%;padding:14px;background:var(--earth-green);color:white;
  border:none;border-radius:var(--radius);font-weight:600;cursor:pointer;
  font-size:1rem;transition:all var(--transition);
}
.form-submit:hover{background:var(--earth-green-dark)}
.form-submit:focus{outline:2px solid var(--golden);outline-offset:2px}

@media(max-width:768px){.faq-grid{grid-template-columns:1fr}}

/* ============ FOOTER ============ */
footer{
  background:var(--ink);color:rgba(255,255,255,0.7);padding:48px 0 24px;
}
.footer-grid{
  display:grid;grid-template-columns:2fr 1fr 1fr;gap:40px;margin-bottom:36px;
}
.footer-brand{font-family:var(--font-hand);font-size:1.5rem;color:white;margin-bottom:12px}
.footer-brand-text{font-size:0.9rem;line-height:1.7;max-width:300px}
.footer-col h4{color:white;margin-bottom:14px;font-size:0.95rem}
.footer-col a{display:block;padding:4px 0;font-size:0.9rem;color:rgba(255,255,255,0.6);transition:color var(--transition)}
.footer-col a:hover{color:white}
.footer-bottom{
  border-top:1px solid rgba(255,255,255,0.1);padding-top:20px;
  display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px;
  font-size:0.85rem;
}
@media(max-width:768px){.footer-grid{grid-template-columns:1fr}}

/* ============ ANIMATIONS ============ */
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
@keyframes sway{0%,100%{transform:rotate(-2deg)}50%{transform:rotate(2deg)}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.animate-float{animation:float 4s ease-in-out infinite}
.animate-sway{animation:sway 5s ease-in-out infinite}

/* Skip link */
.skip-link{
  position:fixed;top:-100%;left:16px;z-index:10000;
  background:var(--earth-green);color:white;padding:12px 24px;
  border-radius:0 0 var(--radius) var(--radius);
  font-weight:600;transition:top 0.2s;
}
.skip-link:focus{top:0}
</style>
</head>
<body>
<!-- Skip Link -->
<a href="#main-content" class="skip-link">Skip to main content</a>

<!-- Navigation -->
<nav role="navigation" aria-label="Main navigation">
  <div class="nav-inner">
    <a href="#" class="nav-logo" aria-label="Artisan CSA Home">
      <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 4C14 4 8 8 6 14c-2 6 0 12 4 16s10 6 16 4c6-2 10-8 10-14C36 12 29 4 20 4z" fill="none" stroke="#5a7247" stroke-width="1.5" stroke-linecap="round"/>
        <path d="M20 8c-2 4-3 8-2 13s3 8 5 10" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        <path d="M12 16c4 0 8 1 12 4" stroke="#5a7247" stroke-width="1.2" fill="none" stroke-linecap="round"/>
        <path d="M10 22c5-1 10 0 14 3" stroke="#5a7247" stroke-width="1.2" fill="none" stroke-linecap="round"/>
        <circle cx="18" cy="14" r="1.5" fill="#5a7247" opacity="0.5"/>
        <circle cx="25" cy="20" r="1.5" fill="#5a7247" opacity="0.5"/>
        <circle cx="15" cy="25" r="1.5" fill="#5a7247" opacity="0.5"/>
      </svg>
      Artisan CSA
    </a>
    <button class="hamburger" aria-label="Toggle menu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
    <ul class="nav-links" role="list">
      <li><a href="#shares">Shares</a></li>
      <li><a href="#plans">Plans</a></li>
      <li><a href="#delivery">Delivery</a></li>
      <li><a href="#testimonials">Voices</a></li>
      <li><a href="#faq">FAQ</a></li>
      <li><a href="#plans" class="nav-cta">Join the Harvest</a></li>
    </ul>
  </div>
</nav>

<!-- Main Content -->
<main id="main-content">

<!-- ============ HERO ============ -->
<section class="hero" id="hero">
  <div class="hero-bg"></div>
  <div class="watercolor-blob" style="width:500px;height:500px;background:var(--earth-green);top:-100px;right:-200px;"></div>
  <div class="watercolor-blob" style="width:400px;height:400px;background:var(--golden);bottom:-50px;left:-150px;"></div>
  <div class="container hero-content">
    <div class="hero-text">
      <span class="hand-note">~ From our soil to your table ~</span>
      <h1>Farm-Fresh, <em>Seasonal</em> Goodness Delivered</h1>
      <p class="tagline">Join our community-supported agriculture program and receive hand-picked, organically grown produce from local artisan farms ‚Äî straight to your door, every week.</p>
      <div class="zip-checker">
        <label for="zip-input" class="sr-only">Enter your ZIP code</label>
        <input type="text" id="zip-input" class="zip-input" placeholder="Enter your ZIP code" maxlength="5" pattern="[0-9]{5}" inputmode="numeric" aria-describedby="zip-result">
        <button class="btn-primary" onclick="checkZip()" id="zip-btn">Check Delivery</button>
      </div>
      <div class="zip-result" id="zip-result" aria-live="polite"></div>
      <a href="#plans" class="btn-primary" style="display:inline-block;margin-top:8px;text-decoration:none;text-align:center">
        Join the Harvest ‚Üí
      </a>
    </div>
    <div class="hero-illustration parallax-element" data-speed="0.03">
      <!-- Hand-drawn basket illustration SVG -->
      <svg viewBox="0 0 480 440" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="Illustration of a farm basket filled with seasonal produce">
        <!-- Watercolor wash background -->
        <defs>
          <filter id="watercolor" x="-20%" y="-20%" width="140%" height="140%">
            <feTurbulence type="fractalNoise" baseFrequency="0.04" numOctaves="4" result="noise"/>
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="6" xChannelSelector="R" yChannelSelector="G"/>
          </filter>
          <filter id="pencil" x="-5%" y="-5%" width="110%" height="110%">
            <feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="4" result="noise"/>
            <feDisplacementMap in="SourceGraphic" in2="noise" scale="1.5"/>
          </filter>
          <radialGradient id="glow1" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#d4a843" stop-opacity="0.2"/>
            <stop offset="100%" stop-color="#d4a843" stop-opacity="0"/>
          </radialGradient>
        </defs>

        <!-- Warm glow -->
        <ellipse cx="240" cy="250" rx="200" ry="180" fill="url(#glow1)"/>

        <!-- Table / surface line -->
        <path d="M60 340 Q240 355 420 340" stroke="#3a2f27" stroke-width="1.5" fill="none" stroke-linecap="round" filter="url(#pencil)" opacity="0.4"/>

        <!-- Basket body -->
        <path d="M120 240 Q115 290 130 330 Q180 360 240 365 Q300 360 350 330 Q365 290 360 240Z" fill="#e8c96a" opacity="0.3" filter="url(#watercolor)"/>
        <path d="M120 240 Q115 290 130 330 Q180 360 240 365 Q300 360 350 330 Q365 290 360 240" stroke="#3a2f27" stroke-width="2" fill="none" stroke-linecap="round" filter="url(#pencil)"/>

        <!-- Basket weave lines -->
        <path d="M135 260 Q240 270 345 260" stroke="#3a2f27" stroke-width="1" fill="none" opacity="0.4" stroke-linecap="round"/>
        <path d="M130 280 Q240 292 350 280" stroke="#3a2f27" stroke-width="1" fill="none" opacity="0.4" stroke-linecap="round"/>
        <path d="M130 300 Q240 314 348 300" stroke="#3a2f27" stroke-width="1" fill="none" opacity="0.4" stroke-linecap="round"/>
        <path d="M135 320 Q240 334 345 320" stroke="#3a2f27" stroke-width="1" fill="none" opacity="0.4" stroke-linecap="round"/>

        <!-- Vertical weave -->
        <path d="M180 242 Q178 300 185 358" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.3"/>
        <path d="M220 240 Q218 302 225 363" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.3"/>
        <path d="M260 240 Q262 302 258 363" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.3"/>
        <path d="M300 242 Q302 300 298 358" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.3"/>

        <!-- Basket handle -->
        <path d="M140 240 Q145 140 240 120 Q335 140 340 240" stroke="#3a2f27" stroke-width="2.5" fill="none" stroke-linecap="round" filter="url(#pencil)"/>
        <path d="M145 240 Q150 145 240 128 Q330 145 335 240" stroke="#3a2f27" stroke-width="1" fill="none" stroke-linecap="round" opacity="0.3"/>

        <!-- Carrot -->
        <g class="parallax-element" data-speed="0.02" transform="translate(155,180) rotate(-15)">
          <path d="M0 0 Q5 40 3 75" stroke="#c4724e" stroke-width="3" fill="none" stroke-linecap="round"/>
          <path d="M-4 5 Q3 45 1 75" stroke="#c4724e" stroke-width="2" fill="none" stroke-linecap="round" opacity="0.5"/>
          <path d="M2 -5 Q8 -20 4 -30" stroke="#5a7247" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M0 -3 Q-6 -18 -8 -28" stroke="#5a7247" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M1 -4 Q1 -22 6 -32" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        </g>

        <!-- Tomato -->
        <g class="parallax-element" data-speed="0.015">
          <ellipse cx="220" cy="210" rx="28" ry="26" fill="#c4724e" opacity="0.25" filter="url(#watercolor)"/>
          <ellipse cx="220" cy="210" rx="28" ry="26" stroke="#3a2f27" stroke-width="1.5" fill="none" filter="url(#pencil)"/>
          <path d="M215 186 Q220 180 225 186" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <path d="M210 190 Q220 184 230 190" stroke="#5a7247" stroke-width="1" fill="none" stroke-linecap="round" opacity="0.5"/>
          <path d="M208 208 Q220 202 232 208" stroke="#3a2f27" stroke-width="0.7" fill="none" opacity="0.2"/>
        </g>

        <!-- Leafy greens -->
        <g class="parallax-element" data-speed="0.025">
          <path d="M270 195 Q285 160 310 170 Q295 185 280 200" fill="#5a7247" opacity="0.2" filter="url(#watercolor)"/>
          <path d="M270 195 Q285 160 310 170" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <path d="M280 200 Q295 165 315 178" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <path d="M290 185 Q300 170 308 175" stroke="#5a7247" stroke-width="0.8" fill="none" opacity="0.4"/>
        </g>

        <!-- Apple/round fruit -->
        <g>
          <circle cx="310" cy="220" r="22" fill="#9b5e6e" opacity="0.2" filter="url(#watercolor)"/>
          <circle cx="310" cy="220" r="22" stroke="#3a2f27" stroke-width="1.5" fill="none" filter="url(#pencil)"/>
          <path d="M308 200 Q310 190 312 200" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
          <path d="M312 202 Q318 196 316 200" stroke="#5a7247" stroke-width="1" fill="none" stroke-linecap="round"/>
          <ellipse cx="302" cy="214" rx="4" ry="6" fill="white" opacity="0.15"/>
        </g>

        <!-- Squash / gourd -->
        <g class="parallax-element" data-speed="0.01">
          <ellipse cx="260" cy="238" rx="30" ry="18" fill="#d4a843" opacity="0.25" filter="url(#watercolor)" transform="rotate(-10 260 238)"/>
          <ellipse cx="260" cy="238" rx="30" ry="18" stroke="#3a2f27" stroke-width="1.5" fill="none" filter="url(#pencil)" transform="rotate(-10 260 238)"/>
          <path d="M250 238 Q260 232 270 238" stroke="#3a2f27" stroke-width="0.7" fill="none" opacity="0.3"/>
          <path d="M236 234 Q248 226 258 222" stroke="#5a7247" stroke-width="1.5" fill="none" stroke-linecap="round"/>
        </g>

        <!-- Small herbs/leaves scattered -->
        <g opacity="0.6">
          <path d="M170 220 Q175 210 182 215" stroke="#5a7247" stroke-width="1.2" fill="none" stroke-linecap="round"/>
          <path d="M340 200 Q345 190 350 198" stroke="#5a7247" stroke-width="1.2" fill="none" stroke-linecap="round"/>
          <path d="M195 195 Q190 185 198 188" stroke="#5a7247" stroke-width="1" fill="none" stroke-linecap="round"/>
        </g>

        <!-- Decorative dots/seeds -->
        <circle cx="150" cy="260" r="2" fill="#3a2f27" opacity="0.15"/>
        <circle cx="330" cy="265" r="2" fill="#3a2f27" opacity="0.15"/>
        <circle cx="240" cy="250" r="1.5" fill="#3a2f27" opacity="0.1"/>

        <!-- Ground shadow -->
        <ellipse cx="240" cy="370" rx="130" ry="12" fill="#3a2f27" opacity="0.06"/>

        <!-- Decorative butterfly -->
        <g transform="translate(370,140)" class="animate-float" opacity="0.5">
          <path d="M0 0 Q-12 -10 -8 -20 Q0 -15 0 0" stroke="#9b5e6e" stroke-width="1" fill="#9b5e6e" fill-opacity="0.15"/>
          <path d="M0 0 Q12 -10 8 -20 Q0 -15 0 0" stroke="#9b5e6e" stroke-width="1" fill="#9b5e6e" fill-opacity="0.15"/>
          <path d="M0 0 Q-8 8 -5 14" stroke="#9b5e6e" stroke-width="0.8" fill="none"/>
          <path d="M0 0 Q8 8 5 14" stroke="#9b5e6e" stroke-width="0.8" fill="none"/>
          <line x1="0" y1="-2" x2="0" y2="6" stroke="#3a2f27" stroke-width="0.5"/>
        </g>
      </svg>
    </div>
  </div>
</section>

<!-- ============ SEASONAL SHARES ============ -->
<section class="shares section" id="shares">
  <div class="container">
    <div class="text-center reveal">
      <span class="section-label">What's in the Box</span>
      <h2 class="section-title">Seasonal Shares</h2>
      <p class="section-subtitle">Every season brings its own bounty. Hover to discover what treasures await in each box.</p>
      <div class="ink-divider"></div>
    </div>
    <div class="shares-grid">
      <!-- Spring -->
      <div class="share-card spring reveal" tabindex="0" aria-describedby="spring-tooltip">
        <div class="tooltip" id="spring-tooltip" role="tooltip">
          <h4>Spring Harvest</h4>
          Asparagus, sugar snap peas, radishes, spring onions, baby spinach, strawberries, herbs, lettuce mix, rhubarb, fava beans
        </div>
        <div class="share-icon">
          <svg viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="36" cy="36" r="32" fill="#7a9a5e" opacity="0.1"/>
            <path d="M36 16 Q38 28 36 42 Q34 28 36 16Z" stroke="#5a7247" stroke-width="1.5" fill="#5a7247" fill-opacity="0.2"/>
            <path d="M36 20 Q28 14 22 18 Q28 22 36 22" stroke="#5a7247" stroke-width="1.2" fill="#5a7247" fill-opacity="0.1"/>
            <path d="M36 26 Q44 20 50 24 Q44 28 36 28" stroke="#5a7247" stroke-width="1.2" fill="#5a7247" fill-opacity="0.1"/>
            <path d="M36 42 Q32 48 28 52" stroke="#5a7247" stroke-width="1" fill="none"/>
            <path d="M36 42 Q40 48 44 52" stroke="#5a7247" stroke-width="1" fill="none"/>
            <circle cx="28" cy="54" r="4" fill="#c4724e" opacity="0.3" stroke="#c4724e" stroke-width="0.8"/>
            <circle cx="44" cy="54" r="3" fill="#c4724e" opacity="0.3" stroke="#c4724e" stroke-width="0.8"/>
          </svg>
        </div>
        <h3>Spring</h3>
        <p class="season-months">March ‚Äî May</p>
        <p class="produce-preview">Asparagus, snap peas, strawberries, radishes & fresh herbs</p>
        <div class="allergen-icons">
          <span class="allergen-icon" title="Plant-based, vegan">üå± Vegan</span>
          <span class="allergen-icon" title="Gluten free">üåæ GF</span>
        </div>
      </div>
      <!-- Summer -->
      <div class="share-card summer reveal" tabindex="0" aria-describedby="summer-tooltip" style="transition-delay:0.1s">
        <div class="tooltip" id="summer-tooltip" role="tooltip">
          <h4>Summer Abundance</h4>
          Heirloom tomatoes, sweet corn, zucchini, peppers, peaches, blueberries, cucumbers, basil, eggplant, green beans
        </div>
        <div class="share-icon">
          <svg viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="36" cy="36" r="32" fill="#d4a843" opacity="0.1"/>
            <circle cx="36" cy="36" r="16" fill="#c4724e" opacity="0.15" stroke="#c4724e" stroke-width="1.5"/>
            <path d="M34 22 Q36 18 38 22" stroke="#5a7247" stroke-width="1.5" fill="none"/>
            <path d="M30 24 Q36 20 42 24" stroke="#5a7247" stroke-width="1" fill="none" opacity="0.5"/>
            <path d="M28 36 Q36 32 44 36" stroke="#3a2f27" stroke-width="0.6" fill="none" opacity="0.3"/>
            <ellipse cx="32" cy="32" rx="3" ry="4" fill="white" opacity="0.15"/>
          </svg>
        </div>
        <h3>Summer</h3>
        <p class="season-months">June ‚Äî August</p>
        <p class="produce-preview">Tomatoes, sweet corn, peaches, peppers & summer squash</p>
        <div class="allergen-icons">
          <span class="allergen-icon" title="Plant-based, vegan">üå± Vegan</span>
          <span class="allergen-icon" title="Nightshade family present">üçÖ Nightshade</span>
        </div>
      </div>
      <!-- Fall -->
      <div class="share-card fall reveal" tabindex="0" aria-describedby="fall-tooltip" style="transition-delay:0.2s">
        <div class="tooltip" id="fall-tooltip" role="tooltip">
          <h4>Fall Harvest</h4>
          Butternut squash, sweet potatoes, apples, pears, kale, Brussels sprouts, beets, turnips, parsnips, cranberries
        </div>
        <div class="share-icon">
          <svg viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="36" cy="36" r="32" fill="#c4724e" opacity="0.1"/>
            <ellipse cx="36" cy="40" rx="18" ry="14" fill="#d4a843" opacity="0.2" stroke="#3a2f27" stroke-width="1.5" transform="rotate(-10 36 40)"/>
            <path d="M34 28 Q36 22 38 28" stroke="#5a7247" stroke-width="1.5" fill="none"/>
            <path d="M28 40 Q36 36 44 40" stroke="#3a2f27" stroke-width="0.6" fill="none" opacity="0.3"/>
            <path d="M36 28 Q42 22 44 26" stroke="#5a7247" stroke-width="1" fill="none"/>
          </svg>
        </div>
        <h3>Fall</h3>
        <p class="season-months">September ‚Äî November</p>
        <p class="produce-preview">Squash, apples, kale, sweet potatoes & root vegetables</p>
        <div class="allergen-icons">
          <span class="allergen-icon" title="Plant-based, vegan">üå± Vegan</span>
          <span class="allergen-icon" title="Gluten free">üåæ GF</span>
        </div>
      </div>
      <!-- Winter -->
      <div class="share-card winter reveal" tabindex="0" aria-describedby="winter-tooltip" style="transition-delay:0.3s">
        <div class="tooltip" id="winter-tooltip" role="tooltip">
          <h4>Winter Cellar</h4>
          Potatoes, onions, carrots, winter squash, cabbage, dried beans, preserves, microgreens, garlic, stored apples
        </div>
        <div class="share-icon">
          <svg viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="36" cy="36" r="32" fill="#8ab4c7" opacity="0.1"/>
            <path d="M36 18 L36 54" stroke="#8ab4c7" stroke-width="1.5" opacity="0.5"/>
            <path d="M22 36 L50 36" stroke="#8ab4c7" stroke-width="1.5" opacity="0.5"/>
            <path d="M26 24 L46 48" stroke="#8ab4c7" stroke-width="1" opacity="0.3"/>
            <path d="M46 24 L26 48" stroke="#8ab4c7" stroke-width="1" opacity="0.3"/>
            <circle cx="36" cy="36" r="8" fill="#d4a843" opacity="0.15" stroke="#3a2f27" stroke-width="1"/>
            <circle cx="36" cy="36" r="3" fill="#c4724e" opacity="0.3"/>
            <path d="M36 18 L38 22 M36 18 L34 22" stroke="#8ab4c7" stroke-width="0.8" opacity="0.5"/>
            <path d="M50 36 L46 38 M50 36 L46 34" stroke="#8ab4c7" stroke-width="0.8" opacity="0.5"/>
          </svg>
        </div>
        <h3>Winter</h3>
        <p class="season-months">December ‚Äî February</p>
        <p class="produce-preview">Root vegetables, preserves, potatoes, hearty greens & dried beans</p>
        <div class="allergen-icons">
          <span class="allergen-icon" title="Plant-based, vegan">üå± Vegan</span>
          <span class="allergen-icon" title="May contain legumes">ü´ò Legumes</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ============ PLANS ============ -->
<section class="plans section" id="plans">
  <div class="container">
    <div class="text-center reveal">
      <span class="section-label">Choose Your Plan</span>
      <h2 class="section-title">Customize Your Share</h2>
      <p class="section-subtitle">Pick your frequency, size your box, and add artisan extras to make it uniquely yours.</p>
      <div class="ink-divider"></div>
    </div>
    <div class="plans-wrapper reveal">
      <!-- Frequency toggle -->
      <div class="frequency-toggle" role="radiogroup" aria-label="Delivery frequency">
        <button class="freq-btn active" role="radio" aria-checked="true" data-freq="weekly" onclick="setFrequency('weekly')">Weekly</button>
        <button class="freq-btn" role="radio" aria-checked="false" data-freq="biweekly" onclick="setFrequency('biweekly')">Bi-Weekly</button>
      </div>

      <!-- Price display -->
      <div class="plan-price">
        <div><span class="amount" id="plan-price">$38</span><span class="period" id="plan-period"> / week</span></div>
        <span class="savings" id="plan-savings"></span>
      </div>

      <!-- Size slider -->
      <div class="plan-slider">
        <label for="size-slider">Box Size: <span id="size-label" style="color:var(--earth-green)">Medium (4-5 people)</span></label>
        <div class="slider-track">
          <input type="range" id="size-slider" min="0" max="2" value="1" step="1" aria-label="Box size" oninput="updatePlan()">
        </div>
        <div class="slider-labels">
          <span>Small</span><span>Medium</span><span>Large</span>
        </div>
      </div>

      <!-- Add-ons -->
      <div class="addons">
        <h3 style="font-family:var(--font-hand);font-size:1.3rem;color:var(--ink)">Artisan Add-Ons</h3>
        <div class="addon-grid">
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="eggs" data-price="6" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">ü•ö</span>
            <span class="addon-name">Farm Eggs</span>
            <span class="addon-price">+$6/box</span>
          </div>
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="flowers" data-price="8" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">üíê</span>
            <span class="addon-name">Wildflowers</span>
            <span class="addon-price">+$8/box</span>
          </div>
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="bread" data-price="7" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">üçû</span>
            <span class="addon-name">Sourdough</span>
            <span class="addon-price">+$7/box</span>
          </div>
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="honey" data-price="9" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">üçØ</span>
            <span class="addon-name">Raw Honey</span>
            <span class="addon-price">+$9/box</span>
          </div>
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="cheese" data-price="10" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">üßÄ</span>
            <span class="addon-name">Artisan Cheese</span>
            <span class="addon-price">+$10/box</span>
          </div>
          <div class="addon-item" role="checkbox" aria-checked="false" tabindex="0" data-addon="preserves" data-price="5" onclick="toggleAddon(this)" onkeydown="if(event.key===' '||event.key==='Enter'){event.preventDefault();toggleAddon(this)}">
            <span class="addon-icon">ü´ô</span>
            <span class="addon-name">Preserves</span>
            <span class="addon-price">+$5/box</span>
          </div>
        </div>
      </div>

      <!-- Total -->
      <div class="plan-total">
        <span class="total-label">Your Total</span>
        <span class="total-amount" id="plan-total">$38/week</span>
      </div>
      <button class="plan-cta" onclick="alert('Thank you for your interest! Checkout coming soon.')">Join the Harvest ‚Üí</button>
    </div>
  </div>
</section>

<!-- ============ MAP / DELIVERY ============ -->
<section class="map-section section" id="delivery">
  <div class="container">
    <div class="text-center reveal">
      <span class="section-label">Find Us Nearby</span>
      <h2 class="section-title">Delivery & Pickup</h2>
      <p class="section-subtitle">We deliver within a 25-mile radius of our farm, or pick up at one of our partner locations.</p>
      <div class="ink-divider"></div>
    </div>
    <div class="map-grid">
      <div class="map-image reveal">
        <div class="map-canvas" id="map-canvas">
          <!-- Hand-drawn style map SVG -->
          <svg viewBox="0 0 600 450" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="mapTexture">
                <feTurbulence type="fractalNoise" baseFrequency="0.6" numOctaves="4" result="noise"/>
                <feDisplacementMap in="SourceGraphic" in2="noise" scale="2"/>
              </filter>
            </defs>
            <!-- Background -->
            <rect width="600" height="450" fill="#f5edd6"/>

            <!-- Roads -->
            <path d="M0 200 Q150 180 300 225 Q450 270 600 240" stroke="#a89888" stroke-width="12" fill="none" opacity="0.3" stroke-linecap="round"/>
            <path d="M300 0 Q280 150 300 225 Q320 300 310 450" stroke="#a89888" stroke-width="10" fill="none" opacity="0.3" stroke-linecap="round"/>
            <path d="M100 0 Q120 100 180 200 Q240 300 200 450" stroke="#a89888" stroke-width="6" fill="none" opacity="0.2" stroke-linecap="round"/>
            <path d="M500 0 Q480 100 420 200 Q360 300 400 450" stroke="#a89888" stroke-width="6" fill="none" opacity="0.2" stroke-linecap="round"/>

            <!-- Delivery radius circle -->
            <circle cx="300" cy="225" r="160" fill="rgba(90,114,71,0.08)" stroke="#5a7247" stroke-width="2" stroke-dasharray="8,6" filter="url(#mapTexture)"/>
            <circle cx="300" cy="225" r="160" fill="none" stroke="#5a7247" stroke-width="1" stroke-dasharray="4,4" opacity="0.3"/>

            <!-- Farm location (center) -->
            <g transform="translate(300,225)">
              <circle r="12" fill="#5a7247" opacity="0.2"/>
              <circle r="6" fill="#5a7247"/>
              <circle r="3" fill="white"/>
              <text y="-18" text-anchor="middle" font-family="Caveat,cursive" font-size="14" fill="#3a2f27" font-weight="600">Our Farm</text>
            </g>

            <!-- Pickup locations -->
            <g transform="translate(180,160)">
              <circle r="8" fill="#c4724e" opacity="0.8"/>
              <circle r="3" fill="white"/>
              <text y="-14" text-anchor="middle" font-family="Caveat,cursive" font-size="12" fill="#3a2f27">Elm St Market</text>
            </g>
            <g transform="translate(420,180)">
              <circle r="8" fill="#c4724e" opacity="0.8"/>
              <circle r="3" fill="white"/>
              <text y="-14" text-anchor="middle" font-family="Caveat,cursive" font-size="12" fill="#3a2f27">River Co-op</text>
            </g>
            <g transform="translate(250,310)">
              <circle r="8" fill="#c4724e" opacity="0.8"/>
              <circle r="3" fill="white"/>
              <text y="-14" text-anchor="middle" font-family="Caveat,cursive" font-size="12" fill="#3a2f27">Oak Park</text>
            </g>
            <g transform="translate(380,290)">
              <circle r="8" fill="#c4724e" opacity="0.8"/>
              <circle r="3" fill="white"/>
              <text y="-14" text-anchor="middle" font-family="Caveat,cursive" font-size="12" fill="#3a2f27">Sunrise Caf√©</text>
            </g>

            <!-- Decorative trees -->
            <g opacity="0.3">
              <path d="M80 120 Q82 105 84 120 Q82 100 80 120Z" fill="#5a7247" stroke="#5a7247" stroke-width="0.5"/>
              <path d="M520 340 Q522 325 524 340 Q522 320 520 340Z" fill="#5a7247" stroke="#5a7247" stroke-width="0.5"/>
              <path d="M450 100 Q452 85 454 100 Q452 80 450 100Z" fill="#5a7247" stroke="#5a7247" stroke-width="0.5"/>
              <path d="M140 360 Q142 345 144 360 Q142 340 140 360Z" fill="#5a7247" stroke="#5a7247" stroke-width="0.5"/>
            </g>

            <!-- Compass rose -->
            <g transform="translate(540,60)" opacity="0.5">
              <circle r="20" fill="none" stroke="#3a2f27" stroke-width="0.5"/>
              <text y="-24" text-anchor="middle" font-family="Playfair Display,serif" font-size="10" fill="#3a2f27">N</text>
              <line x1="0" y1="-18" x2="0" y2="-8" stroke="#3a2f27" stroke-width="1"/>
              <line x1="0" y1="8" x2="0" y2="18" stroke="#3a2f27" stroke-width="0.5" opacity="0.5"/>
              <line x1="-18" y1="0" x2="-8" y2="0" stroke="#3a2f27" stroke-width="0.5" opacity="0.5"/>
              <line x1="8" y1="0" x2="18" y2="0" stroke="#3a2f27" stroke-width="0.5" opacity="0.5"/>
            </g>

            <!-- Legend -->
            <g transform="translate(30,400)">
              <circle cx="0" cy="0" r="4" fill="#5a7247"/>
              <text x="12" y="4" font-family="Lora,serif" font-size="10" fill="#3a2f27">Farm</text>
              <circle cx="70" cy="0" r="4" fill="#c4724e"/>
              <text x="82" y="4" font-family="Lora,serif" font-size="10" fill="#3a2f27">Pickup</text>
              <line x1="140" y1="0" x2="160" y2="0" stroke="#5a7247" stroke-width="1.5" stroke-dasharray="4,3"/>
              <text x="168" y="4" font-family="Lora,serif" font-size="10" fill="#3a2f27">Delivery area</text>
            </g>
          </svg>
        </div>
      </div>
      <div class="pickup-list reveal">
        <h3 style="font-family:var(--font-hand);font-size:1.4rem;color:var(--ink)">Pickup Locations</h3>
        <div class="pickup-item">
          <div class="pickup-info">
            <h4>Elm Street Market</h4>
            <p>142 Elm St, Greenfield</p>
            <p style="font-size:0.82rem;color:var(--ink-faint)">Saturdays 9am‚Äì1pm</p>
          </div>
          <span class="distance-badge">3.2 mi</span>
        </div>
        <div class="pickup-item">
          <div class="pickup-info">
            <h4>River Bend Co-op</h4>
            <p>88 River Rd, Meadowview</p>
            <p style="font-size:0.82rem;color:var(--ink-faint)">Wednesdays 3‚Äì7pm</p>
          </div>
          <span class="distance-badge">5.8 mi</span>
        </div>
        <div class="pickup-item">
          <div class="pickup-info">
            <h4>Oak Park Community Center</h4>
            <p>301 Oak Ave, Willowbrook</p>
            <p style="font-size:0.82rem;color:var(--ink-faint)">Thursdays 4‚Äì6pm</p>
          </div>
          <span class="distance-badge">7.4 mi</span>
        </div>
        <div class="pickup-item">
          <div class="pickup-info">
            <h4>Sunrise Caf√©</h4>
            <p>55 Main St, Cedarville</p>
            <p style="font-size:0.82rem;color:var(--ink-faint)">Fridays 10am‚Äì2pm</p>
          </div>
          <span class="distance-badge">9.1 mi</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ============ TESTIMONIALS ============ -->
<section class="testimonials section" id="testimonials">
  <div class="container">
    <div class="text-center reveal">
      <span class="section-label">Voices from the Community</span>
      <h2 class="section-title">What Our Members Say</h2>
      <div class="ink-divider"></div>
    </div>
    <div class="carousel-wrapper reveal">
      <div class="carousel-track" id="carousel-track">
        <!-- Testimonial 1 -->
        <div class="testimonial-card">
          <div class="testimonial-inner">
            <div class="testimonial-portrait">
              <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <rect width="120" height="120" fill="#f5edd6"/>
                <circle cx="60" cy="45" r="22" fill="none" stroke="#3a2f27" stroke-width="1.5"/>
                <path d="M42 40 Q45 38 48 40" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M72 40 Q75 38 78 40" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M52 52 Q60 58 68 52" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <circle cx="50" cy="42" r="1.5" fill="#3a2f27"/>
                <circle cx="70" cy="42" r="1.5" fill="#3a2f27"/>
                <path d="M38 30 Q40 18 55 15 Q60 14 65 15 Q80 18 82 30" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M35 30 Q34 36 38 38" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M85 30 Q86 36 82 38" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M30 80 Q30 65 60 62 Q90 65 90 80" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M40 72 Q60 68 80 72" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.4"/>
                <circle cx="55" cy="48" r="4" fill="#c4724e" opacity="0.1"/>
              </svg>
            </div>
            <div class="testimonial-content">
              <blockquote>The Artisan CSA box has completely changed how we eat. My kids now get excited about vegetables ‚Äî they race to see what's in the box every Thursday!</blockquote>
              <p class="author">Sarah Mitchell</p>
              <p class="role">Member since 2022 ¬∑ Greenfield</p>
            </div>
          </div>
        </div>
        <!-- Testimonial 2 -->
        <div class="testimonial-card">
          <div class="testimonial-inner">
            <div class="testimonial-portrait">
              <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <rect width="120" height="120" fill="#f5edd6"/>
                <circle cx="60" cy="45" r="22" fill="none" stroke="#3a2f27" stroke-width="1.5"/>
                <path d="M44 42 Q47 40 50 42" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M70 42 Q73 40 76 42" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M54 54 Q60 56 66 54" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <circle cx="48" cy="44" r="1.5" fill="#3a2f27"/>
                <circle cx="72" cy="44" r="1.5" fill="#3a2f27"/>
                <path d="M38 28 Q42 12 60 10 Q78 12 82 28" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M38 28 Q36 32 38 36" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M82 28 Q84 32 82 36" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M82 24 Q88 28 90 22 Q92 16 86 14" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M30 82 Q30 66 60 63 Q90 66 90 82" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <rect x="42" y="66" width="36" height="6" rx="2" fill="none" stroke="#3a2f27" stroke-width="0.8" opacity="0.4"/>
              </svg>
            </div>
            <div class="testimonial-content">
              <blockquote>As a chef, I appreciate the quality and variety. The heirloom tomatoes alone are worth the membership. These are flavors you simply cannot find in stores.</blockquote>
              <p class="author">Marcus Chen</p>
              <p class="role">Member since 2021 ¬∑ Meadowview</p>
            </div>
          </div>
        </div>
        <!-- Testimonial 3 -->
        <div class="testimonial-card">
          <div class="testimonial-inner">
            <div class="testimonial-portrait">
              <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <rect width="120" height="120" fill="#f5edd6"/>
                <circle cx="60" cy="45" r="22" fill="none" stroke="#3a2f27" stroke-width="1.5"/>
                <path d="M44 40 Q47 38 50 40" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M70 40 Q73 38 76 40" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <circle cx="48" cy="42" r="1.5" fill="#3a2f27"/>
                <circle cx="72" cy="42" r="1.5" fill="#3a2f27"/>
                <path d="M52 54 Q60 60 68 54" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M35 38 Q32 28 40 18 Q50 10 65 12 Q80 14 85 24 Q88 34 85 38" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M35 38 Q28 40 32 48" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M85 38 Q92 40 88 48" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M50 12 Q60 6 70 12" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.3"/>
                <path d="M30 82 Q30 66 60 63 Q90 66 90 82" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <circle cx="54" cy="48" r="4" fill="#c4724e" opacity="0.1"/>
              </svg>
            </div>
            <div class="testimonial-content">
              <blockquote>I moved here last year knowing nobody. Through the CSA pickups, I've made real friendships. It's not just food ‚Äî it's a community that cares about the land and each other.</blockquote>
              <p class="author">Elena Vasquez</p>
              <p class="role">Member since 2023 ¬∑ Willowbrook</p>
            </div>
          </div>
        </div>
        <!-- Testimonial 4 -->
        <div class="testimonial-card">
          <div class="testimonial-inner">
            <div class="testimonial-portrait">
              <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                <rect width="120" height="120" fill="#f5edd6"/>
                <circle cx="60" cy="48" r="20" fill="none" stroke="#3a2f27" stroke-width="1.5"/>
                <path d="M46 44 Q49 42 52 44" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M68 44 Q71 42 74 44" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <circle cx="50" cy="46" r="1.5" fill="#3a2f27"/>
                <circle cx="70" cy="46" r="1.5" fill="#3a2f27"/>
                <path d="M54 56 Q60 60 66 56" stroke="#3a2f27" stroke-width="1.2" fill="none"/>
                <path d="M40 38 Q42 28 50 22 Q60 18 70 22 Q78 28 80 38" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M40 38 Q38 44 40 48" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M80 38 Q82 44 80 48" stroke="#3a2f27" stroke-width="1" fill="none"/>
                <path d="M30 85 Q32 70 60 67 Q88 70 90 85" stroke="#3a2f27" stroke-width="1.5" fill="none"/>
                <path d="M55 20 Q58 14 62 20" stroke="#3a2f27" stroke-width="0.8" fill="none" opacity="0.4"/>
              </svg>
            </div>
            <div class="testimonial-content">
              <blockquote>The winter cellar box was a revelation ‚Äî I had no idea local farming could provide so much variety even in the cold months. The preserves are absolutely divine.</blockquote>
              <p class="author">James Thornton</p>
              <p class="role">Member since 2021 ¬∑ Cedarville</p>
            </div>
          </div>
        </div>
      </div>
      <div class="carousel-controls">
        <button class="carousel-btn" aria-label="Previous testimonial" onclick="moveCarousel(-1)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <div class="carousel-dots" id="carousel-dots"></div>
        <button class="carousel-btn" aria-label="Next testimonial" onclick="moveCarousel(1)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- ============ FAQ + CONTACT ============ -->
<section class="faq-section section" id="faq">
  <div class="container">
    <div class="text-center reveal">
      <span class="section-label">Questions & Contact</span>
      <h2 class="section-title">We're Here to Help</h2>
      <div class="ink-divider"></div>
    </div>
    <div class="faq-grid">
      <div class="faq-list reveal">
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            How does the CSA membership work?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              When you join our CSA, you're purchasing a "share" of our farm's harvest. Each week (or bi-weekly), you'll receive a curated box of seasonal produce picked at peak freshness. Your membership supports our farm directly and ensures you get the best nature has to offer, all season long.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            Can I customize what's in my box?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              While the core produce selection is curated by our farmers based on what's freshest, you can set preferences and dislikes in your member portal. We also offer add-ons like eggs, flowers, bread, honey, cheese, and preserves that you can toggle on or off each delivery.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            What if I'm traveling or need to skip a week?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              No problem! You can pause or skip deliveries up to 48 hours before your scheduled drop-off through your member dashboard. You can also donate your box to a local food bank ‚Äî we'll handle the logistics and you'll receive a donation receipt.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            Are your farms certified organic?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              Our partner farms follow organic and regenerative farming practices. While not all carry the USDA organic certification (the process can be prohibitively expensive for small farms), we ensure zero synthetic pesticides, herbicides, or GMOs. We welcome farm visits ‚Äî come see for yourself!
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            What's your cancellation policy?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              We offer a full refund within the first two weeks. After that, you can cancel anytime and receive a prorated refund for remaining deliveries. We also offer the option to transfer your share to a friend or family member at no extra cost.
            </div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false" onclick="toggleFaq(this)">
            Do you accommodate dietary restrictions?
            <span class="faq-icon" aria-hidden="true">+</span>
          </button>
          <div class="faq-answer" role="region">
            <div class="faq-answer-inner">
              Our produce boxes are naturally vegan and gluten-free. For add-ons, we clearly label all allergens. The bread add-on contains gluten, and the cheese contains dairy. All items include full ingredient lists in your weekly delivery email, so you always know exactly what you're getting.
            </div>
          </div>
        </div>
      </div>
      <div class="reveal" style="transition-delay:0.15s">
        <div class="contact-form">
          <h3 style="font-family:var(--font-hand);font-size:1.5rem;color:var(--ink)">Drop Us a Line</h3>
          <p style="font-size:0.92rem;color:var(--ink-light);margin-bottom:20px">Have a question not answered above? We'd love to hear from you.</p>
          <form id="contact-form" onsubmit="handleContact(event)">
            <div class="form-group">
              <label for="contact-name">Name</label>
              <input type="text" id="contact-name" required placeholder="Your name" autocomplete="name">
            </div>
            <div class="form-group">
              <label for="contact-email">Email</label>
              <input type="email" id="contact-email" required placeholder="your@email.com" autocomplete="email">
            </div>
            <div class="form-group">
              <label for="contact-message">Message</label>
              <textarea id="contact-message" required placeholder="Tell us what's on your mind..."></textarea>
            </div>
            <button type="submit" class="form-submit">Send Message</button>
          </form>
          <div id="contact-success" style="display:none;text-align:center;padding:24px;color:var(--earth-green)">
            <p style="font-family:var(--font-hand);font-size:1.4rem;margin-bottom:4px">Message sent!</p>
            <p style="font-size:0.9rem;color:var(--ink-light)">We'll get back to you within 24 hours.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

</main>

<!-- ============ FOOTER ============ -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <div class="footer-brand">üåø Artisan CSA</div>
        <p class="footer-brand-text">Rooted in community, grown with care. Supporting local agriculture and bringing farm-fresh goodness to families since 2018.</p>
      </div>
      <div class="footer-col">
        <h4>Explore</h4>
        <a href="#shares">Seasonal Shares</a>
        <a href="#plans">Membership Plans</a>
        <a href="#delivery">Delivery & Pickup</a>
        <a href="#testimonials">Community Voices</a>
        <a href="#faq">FAQ</a>
      </div>
      <div class="footer-col">
        <h4>Connect</h4>
        <a href="#faq">Contact Us</a>
        <a href="#">Farm Blog</a>
        <a href="#">Instagram</a>
        <a href="#">Newsletter</a>
      </div>
    </div>
    <div class="footer-bottom">
      <span>&copy; 2026 Artisan CSA. All rights reserved.</span>
      <span>Made with care in Greenfield Valley</span>
    </div>
  </div>
</footer>

<script>
// ============ ZIP CODE CHECKER ============
const validZips = ['10001','10002','10003','10004','10005','10006','10007','10010','10011','10012','10013','10014','10016','10017','10018','10019','10020','10021','10022','10023','10024','10025','10026','10027','10028','10029','10030','10031','10032','10033','10034','10035','10036','10037','10038','10039','10040','11201','11205','11206','11211','11215','11217','11222','11225','11226','11231','11232','11233','11234','11235','11236','11237','11238','06001','06002','06010','06013','06016','06023','06029','06033','06040','06042','06051','06052','06053','06057','06060','06062','06066','06070','06073','06074','06078','06080','06081','06082','06083','06084','06085','06089','06090','06091','06092','06093','06095','06096','06098','06101','06103','06105','06106','06107','06108','06110','06111','06112','06114','06117','06118','06119','06120'];

function checkZip() {
  const input = document.getElementById('zip-input');
  const result = document.getElementById('zip-result');
  const zip = input.value.trim();

  if (!/^\d{5}$/.test(zip)) {
    result.className = 'zip-result error';
    result.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6M9 9l6 6"/></svg> Please enter a valid 5-digit ZIP code.';
    return;
  }

  if (validZips.includes(zip) || parseInt(zip) % 3 === 0) {
    result.className = 'zip-result success';
    result.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4L12 14.01l-3-3"/></svg> Great news! We deliver to your area.';
  } else {
    result.className = 'zip-result error';
    result.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/></svg> Sorry, we don\'t deliver there yet. Check back soon!';
  }
}

document.getElementById('zip-input').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') checkZip();
});

// ============ PLAN PRICING ============
const pricing = {
  weekly: { small: 28, medium: 38, large: 52 },
  biweekly: { small: 32, medium: 44, large: 58 }
};
const sizeNames = ['Small (2-3 people)', 'Medium (4-5 people)', 'Large (6+ people)'];
const sizeKeys = ['small', 'medium', 'large'];

let currentFreq = 'weekly';
let selectedAddons = new Set();

function setFrequency(freq) {
  currentFreq = freq;
  document.querySelectorAll('.freq-btn').forEach(btn => {
    const isActive = btn.dataset.freq === freq;
    btn.classList.toggle('active', isActive);
    btn.setAttribute('aria-checked', isActive);
  });
  updatePlan();
}

function toggleAddon(el) {
  const addon = el.dataset.addon;
  const isSelected = el.classList.toggle('selected');
  el.setAttribute('aria-checked', isSelected);
  if (isSelected) {
    selectedAddons.add(addon);
  } else {
    selectedAddons.delete(addon);
  }
  updatePlan();
}

function updatePlan() {
  const slider = document.getElementById('size-slider');
  const sizeIdx = parseInt(slider.value);
  const sizeKey = sizeKeys[sizeIdx];

  // Update slider background
  const pct = (sizeIdx / 2) * 100;
  slider.style.background = `linear-gradient(90deg, var(--earth-green) ${pct}%, var(--cream) ${pct}%)`;

  document.getElementById('size-label').textContent = sizeNames[sizeIdx];

  const basePrice = pricing[currentFreq][sizeKey];
  let addonsTotal = 0;
  selectedAddons.forEach(addon => {
    const el = document.querySelector(`[data-addon="${addon}"]`);
    if (el) addonsTotal += parseInt(el.dataset.price);
  });

  const total = basePrice + addonsTotal;
  const period = currentFreq === 'weekly' ? 'week' : 'delivery';

  document.getElementById('plan-price').textContent = `$${basePrice}`;
  document.getElementById('plan-period').textContent = ` / ${period}`;

  const savingsEl = document.getElementById('plan-savings');
  if (currentFreq === 'weekly') {
    savingsEl.textContent = 'Best value ‚Äî save 10% vs bi-weekly';
  } else {
    savingsEl.textContent = 'Flexible ‚Äî perfect for smaller households';
  }

  document.getElementById('plan-total').textContent = `$${total}/${period}`;
}

// Initialize plan
updatePlan();

// ============ CAROUSEL ============
let carouselIndex = 0;
const track = document.getElementById('carousel-track');
const cards = track.querySelectorAll('.testimonial-card');
const totalSlides = cards.length;

// Create dots
const dotsContainer = document.getElementById('carousel-dots');
for (let i = 0; i < totalSlides; i++) {
  const dot = document.createElement('button');
  dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
  dot.setAttribute('aria-label', `Go to testimonial ${i + 1}`);
  dot.onclick = () => goToSlide(i);
  dotsContainer.appendChild(dot);
}

function goToSlide(idx) {
  carouselIndex = idx;
  track.style.transform = `translateX(-${idx * 100}%)`;
  document.querySelectorAll('.carousel-dot').forEach((dot, i) => {
    dot.classList.toggle('active', i === idx);
  });
}

function moveCarousel(dir) {
  let newIdx = carouselIndex + dir;
  if (newIdx < 0) newIdx = totalSlides - 1;
  if (newIdx >= totalSlides) newIdx = 0;
  goToSlide(newIdx);
}

// Auto-advance carousel
let autoPlay = setInterval(() => moveCarousel(1), 6000);
document.querySelector('.carousel-wrapper').addEventListener('mouseenter', () => clearInterval(autoPlay));
document.querySelector('.carousel-wrapper').addEventListener('mouseleave', () => {
  autoPlay = setInterval(() => moveCarousel(1), 6000);
});

// ============ FAQ ACCORDION ============
function toggleFaq(button) {
  const item = button.parentElement;
  const answer = item.querySelector('.faq-answer');
  const inner = answer.querySelector('.faq-answer-inner');
  const isOpen = item.classList.contains('open');

  // Close all others
  document.querySelectorAll('.faq-item.open').forEach(openItem => {
    if (openItem !== item) {
      openItem.classList.remove('open');
      openItem.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
      openItem.querySelector('.faq-answer').style.maxHeight = '0';
    }
  });

  if (isOpen) {
    item.classList.remove('open');
    button.setAttribute('aria-expanded', 'false');
    answer.style.maxHeight = '0';
  } else {
    item.classList.add('open');
    button.setAttribute('aria-expanded', 'true');
    answer.style.maxHeight = inner.scrollHeight + 20 + 'px';
  }
}

// ============ CONTACT FORM ============
function handleContact(e) {
  e.preventDefault();
  const form = document.getElementById('contact-form');
  const success = document.getElementById('contact-success');
  form.style.display = 'none';
  success.style.display = 'block';
}

// ============ NAVIGATION ============
const nav = document.querySelector('nav');
const hamburger = document.querySelector('.hamburger');
const navLinks = document.querySelector('.nav-links');

// Scroll effect
window.addEventListener('scroll', () => {
  nav.classList.toggle('scrolled', window.scrollY > 20);
}, { passive: true });

// Mobile menu
hamburger.addEventListener('click', () => {
  const isOpen = navLinks.classList.toggle('open');
  hamburger.classList.toggle('active');
  hamburger.setAttribute('aria-expanded', isOpen);
});

// Close mobile menu on link click
navLinks.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', () => {
    navLinks.classList.remove('open');
    hamburger.classList.remove('active');
    hamburger.setAttribute('aria-expanded', 'false');
  });
});

// ============ PARALLAX ============
let ticking = false;
window.addEventListener('scroll', () => {
  if (!ticking) {
    requestAnimationFrame(() => {
      const scrollY = window.scrollY;
      document.querySelectorAll('.parallax-element[data-speed]').forEach(el => {
        const speed = parseFloat(el.dataset.speed);
        const rect = el.getBoundingClientRect();
        const centerY = rect.top + rect.height / 2;
        const viewportCenter = window.innerHeight / 2;
        const offset = (centerY - viewportCenter) * speed;
        el.style.transform = `translateY(${offset}px)`;
      });
      ticking = false;
    });
    ticking = true;
  }
}, { passive: true });

// ============ SCROLL REVEAL ============
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      revealObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));

// ============ SMOOTH SCROLL ============
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      e.preventDefault();
      const offset = 80;
      const top = target.getBoundingClientRect().top + window.scrollY - offset;
      window.scrollTo({ top, behavior: 'smooth' });
    }
  });
});

// ============ KEYBOARD SUPPORT ============
document.addEventListener('keydown', (e) => {
  // Carousel keyboard navigation
  if (document.activeElement.closest('.carousel-wrapper')) {
    if (e.key === 'ArrowLeft') moveCarousel(-1);
    if (e.key === 'ArrowRight') moveCarousel(1);
  }

  // Escape to close mobile menu
  if (e.key === 'Escape' && navLinks.classList.contains('open')) {
    navLinks.classList.remove('open');
    hamburger.classList.remove('active');
    hamburger.setAttribute('aria-expanded', 'false');
    hamburger.focus();
  }
});
</script>
</body>
</html>
