<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Company Acronym List</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Learn, search, and quiz yourself on internal company acronyms."
    />
    <meta name="theme-color" content="#0f172a" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #020617;
        --bg-elevated: #020617;
        --bg-elevated-alt: #020617;
        --bg-soft: rgba(15, 23, 42, 0.85);
        --bg-chip: rgba(148, 163, 184, 0.18);
        --bg-chip-active: rgba(56, 189, 248, 0.22);
        --border-subtle: rgba(148, 163, 184, 0.3);
        --border-strong: rgba(148, 163, 184, 0.5);
        --accent: #38bdf8;
        --accent-soft: rgba(56, 189, 248, 0.12);
        --accent-strong: #0ea5e9;
        --text: #e5e7eb;
        --text-soft: #9ca3af;
        --text-softer: #6b7280;
        --danger: #f97373;
        --success: #4ade80;
        --shadow-soft: 0 22px 60px rgba(15, 23, 42, 0.8);
        --radius-lg: 18px;
        --radius-full: 999px;
        --transition-fast: 150ms ease-out;
        --transition-med: 200ms ease-out;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        color: var(--text);
        background: radial-gradient(
            circle at 0% 0%,
            rgba(8, 47, 73, 0.8),
            transparent 60%
          ),
          radial-gradient(
            circle at 100% 0%,
            rgba(30, 64, 175, 0.8),
            transparent 55%
          ),
          radial-gradient(
            circle at 50% 100%,
            rgba(15, 23, 42, 0.95),
            #020617 65%
          );
        background-attachment: fixed;
        -webkit-font-smoothing: antialiased;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: stretch;
        padding: 20px 16px 32px;
      }

      .app-shell {
        width: 100%;
        max-width: 1120px;
        background: linear-gradient(
            135deg,
            rgba(15, 23, 42, 0.98),
            rgba(15, 23, 42, 0.96)
          );
        border-radius: 24px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        box-shadow: var(--shadow-soft);
        padding: 18px 18px 20px;
        display: flex;
        flex-direction: column;
        gap: 14px;
        backdrop-filter: blur(26px) saturate(150%);
      }

      .app-shell::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        background: radial-gradient(
          circle at top center,
          rgba(56, 189, 248, 0.08),
          transparent 55%
        );
        pointer-events: none;
        z-index: -1;
      }

      .top-row {
        display: flex;
        align-items: center;
        gap: 14px;
        flex-wrap: wrap;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        white-space: nowrap;
      }

      .brand-mark {
        width: 32px;
        height: 32px;
        border-radius: 15px;
        background: radial-gradient(circle at 30% 20%, #e5e7eb, #38bdf8);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.8),
          0 14px 30px rgba(8, 47, 73, 0.9);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .brand-mark::before,
      .brand-mark::after {
        content: "";
        position: absolute;
        border-radius: 999px;
        border: 2px solid rgba(15, 23, 42, 0.9);
      }

      .brand-mark::before {
        width: 75%;
        height: 60%;
        transform: rotate(-36deg);
        border-top-color: transparent;
        border-right-color: transparent;
      }

      .brand-mark::after {
        width: 45%;
        height: 36%;
        transform: rotate(-36deg);
        border-bottom-color: transparent;
        border-left-color: transparent;
      }

      .brand-text-title {
        font-size: 1.05rem;
        font-weight: 600;
        letter-spacing: 0.03em;
        display: flex;
        align-items: baseline;
        gap: 4px;
      }

      .brand-text-title span.accent {
        color: var(--accent);
      }

      .brand-text-subtitle {
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        color: var(--text-soft);
      }

      .spacer {
        flex: 1;
        min-width: 16px;
      }

      .mode-toggle {
        position: relative;
        display: inline-flex;
        align-items: center;
        padding: 3px;
        background: rgba(15, 23, 42, 0.85);
        border-radius: var(--radius-full);
        border: 1px solid rgba(148, 163, 184, 0.4);
        box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9);
      }

      .mode-toggle button {
        position: relative;
        z-index: 1;
        border: none;
        background: transparent;
        color: var(--text-soft);
        font-size: 0.77rem;
        font-weight: 500;
        padding: 6px 14px;
        border-radius: var(--radius-full);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition:
          color var(--transition-fast),
          transform var(--transition-fast);
        white-space: nowrap;
      }

      .mode-toggle button span.icon {
        font-size: 0.9em;
        opacity: 0.82;
      }

      .mode-toggle button[data-active="true"] {
        color: #e5f2ff;
      }

      .mode-toggle button[data-active="true"] span.icon {
        opacity: 1;
      }

      .mode-toggle button:active {
        transform: scale(0.96);
      }

      .mode-toggle-indicator {
        position: absolute;
        inset: 3px;
        width: calc(50% - 3px);
        border-radius: var(--radius-full);
        background: linear-gradient(
          135deg,
          rgba(56, 189, 248, 0.15),
          rgba(8, 47, 73, 0.9)
        );
        box-shadow:
          0 12px 30px rgba(8, 47, 73, 0.85),
          0 0 0 1px rgba(56, 189, 248, 0.3);
        transform: translateX(0%);
        transition: transform var(--transition-med);
      }

      .mode-toggle[data-mode="quiz"] .mode-toggle-indicator {
        transform: translateX(100%);
      }

      .pill {
        display: inline-flex;
        padding: 4px 10px;
        border-radius: var(--radius-full);
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.35);
        color: var(--text-soft);
        font-size: 0.7rem;
        gap: 6px;
        align-items: center;
        white-space: nowrap;
      }

      .pill-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--accent);
        box-shadow: 0 0 0 5px rgba(56, 189, 248, 0.16);
      }

      .summary-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
        justify-content: space-between;
      }

      .summary-metrics {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
      }

      .metric {
        display: inline-flex;
        align-items: baseline;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.85);
        border: 1px solid rgba(148, 163, 184, 0.35);
        font-size: 0.7rem;
        color: var(--text-soft);
      }

      .metric-value {
        color: #e5e7eb;
        font-weight: 600;
        font-size: 0.78rem;
      }

      .search-row {
        display: grid;
        grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.2fr);
        gap: 12px;
        align-items: stretch;
      }

      .search-card,
      .filter-card {
        background: var(--bg-soft);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-subtle);
        padding: 10px 11px 10px;
        box-shadow: 0 10px 30px rgba(15, 23, 42, 0.7);
      }

      .search-inner {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .search-icon {
        width: 30px;
        height: 30px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 20%, #e5e7eb, #38bdf8);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.85rem;
        color: #020617;
      }

      .search-input-wrap {
        flex: 1;
        position: relative;
      }

      .search-input-wrap input {
        width: 100%;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.9);
        color: var(--text);
        padding: 9px 32px 9px 12px;
        font-size: 0.85rem;
        outline: none;
        transition:
          border-color var(--transition-med),
          box-shadow var(--transition-med),
          background var(--transition-med),
          transform var(--transition-fast);
      }

      .search-input-wrap input::placeholder {
        color: var(--text-softer);
      }

      .search-input-wrap input:focus {
        border-color: var(--accent);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 0 0 1px rgba(56, 189, 248, 0.32),
          0 22px 40px rgba(15, 23, 42, 0.9);
        background: radial-gradient(
          circle at 0% 0%,
          rgba(15, 118, 110, 0.18),
          rgba(15, 23, 42, 1)
        );
      }

      .kbd-hint {
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        display: inline-flex;
        align-items: center;
        gap: 2px;
        padding: 1px 5px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.4);
        font-size: 0.64rem;
        color: var(--text-softer);
      }

      .kbd-hint span.key {
        padding: 1px 4px;
        border-radius: 4px;
        border: 1px solid rgba(148, 163, 184, 0.6);
      }

      .search-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 6px;
        gap: 8px;
      }

      .search-meta span {
        font-size: 0.7rem;
        color: var(--text-softer);
      }

      .search-meta span strong {
        color: var(--accent);
        font-weight: 600;
      }

      .chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
      }

      .chip {
        border-radius: 999px;
        border: 1px solid var(--border-subtle);
        background: var(--bg-chip);
        color: var(--text-soft);
        padding: 4px 10px;
        font-size: 0.72rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        transition:
          border-color var(--transition-fast),
          background var(--transition-fast),
          color var(--transition-fast),
          transform var(--transition-fast),
          box-shadow var(--transition-fast);
      }

      .chip span.indicator {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.7);
      }

      .chip[data-active="true"] {
        border-color: rgba(56, 189, 248, 0.8);
        background: var(--bg-chip-active);
        color: #e5f2ff;
        box-shadow: 0 0 0 1px rgba(15, 23, 42, 1),
          0 14px 26px rgba(8, 47, 73, 0.9);
        transform: translateY(-1px);
      }

      .chip[data-active="true"] span.indicator {
        background: var(--accent);
      }

      .chip:hover {
        border-color: rgba(148, 163, 184, 0.7);
        transform: translateY(-1px);
        box-shadow: 0 12px 24px rgba(15, 23, 42, 0.85);
      }

      .chip span.badge {
        font-size: 0.64rem;
        padding: 1px 6px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.45);
        color: var(--text-softer);
      }

      .filter-card-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin-bottom: 8px;
      }

      .filter-card-header h2 {
        margin: 0;
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--text-soft);
      }

      .filter-card-header button {
        border: none;
        background: transparent;
        color: var(--text-softer);
        font-size: 0.7rem;
        cursor: pointer;
        text-decoration: underline;
        text-decoration-style: dotted;
        text-decoration-thickness: 1px;
        text-underline-offset: 3px;
      }

      .filter-card-header button:hover {
        color: var(--accent);
      }

      .content-row {
        display: grid;
        grid-template-columns: minmax(0, 2.3fr) minmax(0, 1.4fr);
        gap: 10px;
        min-height: 380px;
      }

      .panel {
        border-radius: 20px;
        background: radial-gradient(
            circle at 0% 0%,
            rgba(15, 118, 110, 0.12),
            transparent 50%
          ),
          rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(148, 163, 184, 0.25);
        padding: 10px 10px 8px;
        box-shadow: 0 16px 40px rgba(15, 23, 42, 0.9);
        display: flex;
        flex-direction: column;
        min-height: 0;
      }

      .panel-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        margin-bottom: 4px;
        gap: 8px;
      }

      .panel-title {
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--text-soft);
      }

      .panel-subtitle {
        font-size: 0.7rem;
        color: var(--text-softer);
      }

      .view-toggle {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        overflow: hidden;
      }

      .view-toggle button {
        border: none;
        background: transparent;
        color: var(--text-softer);
        font-size: 0.68rem;
        padding: 3px 9px;
        cursor: pointer;
      }

      .view-toggle button[data-active="true"] {
        background: rgba(15, 23, 42, 0.9);
        color: var(--accent);
      }

      .list-container {
        margin-top: 2px;
        border-radius: 16px;
        background: rgba(15, 23, 42, 0.88);
        border: 1px solid rgba(30, 64, 175, 0.45);
        padding: 4px 8px 6px;
        flex: 1;
        min-height: 0;
        overflow: hidden;
        position: relative;
      }

      .list-scroll {
        position: absolute;
        inset: 0;
        padding-right: 4px;
        overflow-y: auto;
        scrollbar-width: thin;
        scrollbar-color: rgba(51, 65, 85, 1) rgba(15, 23, 42, 1);
      }

      .list-scroll::-webkit-scrollbar {
        width: 6px;
      }

      .list-scroll::-webkit-scrollbar-track {
        background: rgba(15, 23, 42, 1);
      }

      .list-scroll::-webkit-scrollbar-thumb {
        background: rgba(51, 65, 85, 1);
        border-radius: 999px;
      }

      .acronym-card {
        border-radius: 14px;
        border: 1px solid rgba(30, 64, 175, 0.7);
        padding: 8px 9px;
        margin-bottom: 6px;
        background: linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.93),
          rgba(15, 23, 42, 0.98)
        );
        display: flex;
        gap: 10px;
        align-items: flex-start;
        position: relative;
        overflow: hidden;
        transition:
          transform var(--transition-fast),
          box-shadow var(--transition-fast),
          border-color var(--transition-fast),
          background var(--transition-fast);
      }

      .acronym-card::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 0% 0%,
          rgba(56, 189, 248, 0.22),
          transparent 55%
        );
        opacity: 0;
        pointer-events: none;
        transition: opacity var(--transition-med);
      }

      .acronym-card:hover {
        transform: translateY(-1px);
        box-shadow: 0 16px 35px rgba(15, 23, 42, 0.95);
        border-color: rgba(56, 189, 248, 0.9);
        background: linear-gradient(
          135deg,
          rgba(8, 47, 73, 1),
          rgba(15, 23, 42, 0.98)
        );
      }

      .acronym-card:hover::before {
        opacity: 1;
      }

      .acronym-letter {
        min-width: 42px;
        height: 42px;
        border-radius: 15px;
        background: radial-gradient(circle at 20% 20%, #e5e7eb, #38bdf8);
        color: #020617;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.02rem;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 15px 30px rgba(8, 47, 73, 1);
      }

      .acronym-main {
        flex: 1;
        min-width: 0;
      }

      .acronym-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
        margin-bottom: 2px;
      }

      .acronym-name {
        font-size: 0.9rem;
        font-weight: 600;
        letter-spacing: 0.08em;
      }

      .acronym-expansion {
        font-size: 0.82rem;
        color: var(--text-soft);
      }

      .acronym-category {
        font-size: 0.7rem;
        color: var(--text-softer);
        padding: 3px 7px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        background: rgba(15, 23, 42, 0.98);
      }

      .acronym-description {
        margin: 2px 0 4px;
        font-size: 0.78rem;
        color: var(--text-soft);
      }

      .acronym-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
      }

      .acronym-tag {
        font-size: 0.68rem;
        padding: 2px 7px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        background: rgba(15, 23, 42, 0.98);
        color: var(--text-softer);
      }

      .highlight {
        color: var(--accent-strong);
      }

      .empty-state {
        padding: 20px 10px;
        text-align: center;
        font-size: 0.82rem;
        color: var(--text-softer);
      }

      .empty-state strong {
        color: var(--accent);
      }

      .empty-state button {
        margin-top: 10px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        padding: 6px 14px;
        font-size: 0.78rem;
        background: rgba(15, 23, 42, 0.9);
        color: var(--text);
        cursor: pointer;
      }

      .empty-state button:hover {
        border-color: var(--accent);
        color: var(--accent);
      }

      .quiz-panel {
        border-radius: 20px;
        background: radial-gradient(
            circle at 100% 0%,
            rgba(56, 189, 248, 0.16),
            transparent 50%
          ),
          rgba(15, 23, 42, 0.98);
        border: 1px solid rgba(30, 64, 175, 0.8);
        padding: 10px 11px 10px;
        box-shadow: 0 18px 42px rgba(15, 23, 42, 0.96);
        display: flex;
        flex-direction: column;
        min-height: 0;
      }

      .quiz-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin-bottom: 6px;
        gap: 8px;
      }

      .quiz-title {
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--text-soft);
      }

      .quiz-badge {
        font-size: 0.68rem;
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.98);
        border: 1px solid rgba(56, 189, 248, 0.7);
        color: var(--accent);
      }

      .quiz-meta-row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
        margin-bottom: 6px;
      }

      .quiz-meta {
        font-size: 0.7rem;
        color: var(--text-softer);
      }

      .quiz-badges {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        flex-wrap: wrap;
      }

      .badge {
        font-size: 0.68rem;
        padding: 2px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.98);
        border: 1px solid rgba(148, 163, 184, 0.45);
        color: var(--text-soft);
        display: inline-flex;
        align-items: center;
        gap: 4px;
      }

      .badge-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent);
      }

      .quiz-main {
        border-radius: 16px;
        background: rgba(15, 23, 42, 0.96);
        border: 1px solid rgba(30, 64, 175, 0.7);
        padding: 8px 9px;
        flex: 1;
        min-height: 0;
        display: flex;
        flex-direction: column;
      }

      .quiz-states {
        flex: 1;
        min-height: 0;
        display: flex;
        flex-direction: column;
      }

      .quiz-state {
        display: none;
        flex-direction: column;
        flex: 1;
      }

      .quiz-state[data-active="true"] {
        display: flex;
      }

      .quiz-hero {
        padding: 10px;
        border-radius: 14px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: radial-gradient(
          circle at 0% 0%,
          rgba(56, 189, 248, 0.18),
          rgba(15, 23, 42, 0.96)
        );
        text-align: left;
      }

      .quiz-hero-title {
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .quiz-hero-subtitle {
        font-size: 0.78rem;
        color: var(--text-soft);
      }

      .quiz-hero-list {
        margin-top: 6px;
        font-size: 0.7rem;
        color: var(--text-softer);
      }

      .quiz-hero-list li {
        margin-bottom: 2px;
      }

      .quiz-hero-actions {
        margin-top: 8px;
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .btn {
        border-radius: 999px;
        border: 1px solid transparent;
        padding: 7px 13px;
        font-size: 0.8rem;
        font-weight: 500;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: rgba(15, 23, 42, 0.98);
        color: var(--text);
        transition:
          background var(--transition-fast),
          border-color var(--transition-fast),
          box-shadow var(--transition-fast),
          transform var(--transition-fast),
          color var(--transition-fast);
      }

      .btn-primary {
        background: linear-gradient(
          135deg,
          #38bdf8 0%,
          #0ea5e9 50%,
          #22c55e 100%
        );
        color: #020617;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 16px 30px rgba(8, 47, 73, 0.95);
      }

      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 22px 40px rgba(8, 47, 73, 1);
      }

      .btn-ghost {
        border-color: rgba(148, 163, 184, 0.55);
      }

      .btn-ghost:hover {
        border-color: var(--accent);
        color: var(--accent);
        box-shadow: 0 16px 30px rgba(15, 23, 42, 0.9);
      }

      .btn-small {
        padding: 4px 9px;
        font-size: 0.7rem;
      }

      .btn-text {
        border-radius: 999px;
        border: none;
        padding: 0;
        font-size: 0.7rem;
        color: var(--accent);
        background: transparent;
        cursor: pointer;
      }

      .pill-inline {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        font-size: 0.7rem;
        padding: 3px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.6);
        color: var(--text-soft);
      }

      .pill-inline strong {
        color: #e5e7eb;
      }

      .quiz-question-meta {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
        margin-bottom: 4px;
      }

      .quiz-question-type {
        font-size: 0.72rem;
        color: var(--text-softer);
      }

      .quiz-progress-dots {
        display: inline-flex;
        gap: 4px;
        align-items: center;
      }

      .quiz-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: rgba(30, 64, 175, 0.8);
      }

      .quiz-dot[data-state="done"] {
        background: var(--success);
      }

      .quiz-dot[data-state="current"] {
        background: var(--accent);
      }

      .quiz-dot[data-state="pending"] {
        opacity: 0.4;
      }

      .quiz-question-card {
        border-radius: 14px;
        border: 1px solid rgba(30, 64, 175, 0.85);
        padding: 8px 9px 7px;
        background: radial-gradient(
          circle at 0% 0%,
          rgba(56, 189, 248, 0.18),
          rgba(15, 23, 42, 0.98)
        );
        margin-bottom: 6px;
      }

      .quiz-question-main {
        font-size: 0.87rem;
        font-weight: 500;
        margin-bottom: 4px;
      }

      .quiz-question-acronym {
        font-size: 1.02rem;
        font-weight: 700;
        letter-spacing: 0.1em;
      }

      .quiz-question-secondary {
        font-size: 0.78rem;
        color: var(--text-soft);
      }

      .quiz-options {
        display: grid;
        grid-template-columns: 1fr;
        gap: 5px;
        margin-top: 6px;
      }

      .quiz-option {
        border-radius: 10px;
        border: 1px solid rgba(30, 64, 175, 0.7);
        padding: 7px 9px;
        font-size: 0.8rem;
        background: rgba(15, 23, 42, 0.98);
        color: var(--text-soft);
        display: flex;
        align-items: flex-start;
        gap: 6px;
        cursor: pointer;
        transition:
          background var(--transition-fast),
          border-color var(--transition-fast),
          transform var(--transition-fast),
          box-shadow var(--transition-fast),
          color var(--transition-fast);
      }

      .quiz-option-label {
        font-weight: 600;
        color: var(--text-soft);
        min-width: 16px;
      }

      .quiz-option:hover {
        transform: translateY(-1px);
        box-shadow: 0 12px 24px rgba(15, 23, 42, 0.9);
        border-color: rgba(56, 189, 248, 0.9);
        color: #e5e7eb;
      }

      .quiz-option[data-state="correct"] {
        border-color: rgba(74, 222, 128, 0.9);
        background: radial-gradient(
          circle at 0% 0%,
          rgba(74, 222, 128, 0.2),
          rgba(15, 23, 42, 0.98)
        );
        color: #dcfce7;
      }

      .quiz-option[data-state="incorrect"] {
        border-color: rgba(248, 113, 113, 0.9);
        background: radial-gradient(
          circle at 0% 0%,
          rgba(248, 113, 113, 0.14),
          rgba(15, 23, 42, 0.98)
        );
        color: #fee2e2;
      }

      .quiz-footer {
        margin-top: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        padding-top: 4px;
        border-top: 1px solid rgba(30, 64, 175, 0.6);
        font-size: 0.7rem;
        color: var(--text-softer);
      }

      .quiz-score {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .score-pill {
        padding: 3px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.98);
        border: 1px solid rgba(148, 163, 184, 0.5);
        color: var(--text-soft);
      }

      .score-pill strong {
        color: var(--success);
      }

      .quiz-feedback {
        border-radius: 10px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        padding: 6px 8px;
        font-size: 0.78rem;
        margin-bottom: 6px;
      }

      .quiz-feedback[data-state="correct"] {
        border-color: rgba(74, 222, 128, 0.9);
        background: rgba(22, 101, 52, 0.3);
        color: #bbf7d0;
      }

      .quiz-feedback[data-state="incorrect"] {
        border-color: rgba(248, 113, 113, 0.9);
        background: rgba(127, 29, 29, 0.5);
        color: #fee2e2;
      }

      .quiz-summary {
        padding: 8px 9px;
        border-radius: 14px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: radial-gradient(
          circle at 0% 0%,
          rgba(56, 189, 248, 0.2),
          rgba(15, 23, 42, 0.98)
        );
      }

      .quiz-summary-title {
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .quiz-summary-body {
        font-size: 0.78rem;
        color: var(--text-soft);
      }

      .quiz-summary-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin: 6px 0 8px;
      }

      .footer {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
        margin-top: 2px;
        padding-top: 6px;
        border-top: 1px dashed rgba(148, 163, 184, 0.35);
        font-size: 0.68rem;
        color: var(--text-softer);
      }

      .footer a {
        color: var(--accent);
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      @media (max-width: 900px) {
        body {
          padding: 10px 10px 20px;
        }

        .app-shell {
          padding: 12px 12px 14px;
          border-radius: 18px;
        }

        .content-row {
          grid-template-columns: minmax(0, 1fr);
        }

        .search-row {
          grid-template-columns: minmax(0, 1fr);
        }

        .brand-text-subtitle {
          display: none;
        }

        .summary-row {
          align-items: flex-start;
        }
      }

      @media (max-width: 640px) {
        .top-row {
          align-items: flex-start;
        }

        .mode-toggle {
          order: 3;
          width: 100%;
          justify-content: space-between;
        }

        .mode-toggle button {
          justify-content: center;
          width: 50%;
        }

        .pill {
          width: auto;
        }

        .acronym-card {
          padding: 7px 8px;
        }

        .acronym-letter {
          min-width: 36px;
          height: 36px;
          font-size: 0.95rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <div class="top-row">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true"></div>
          <div>
            <div class="brand-text-title">
              <span>Company</span>
              <span class="accent">Acronym</span>
              <span>List</span>
            </div>
            <div class="brand-text-subtitle">
              Learn â€¢ Browse â€¢ Quiz Yourself
            </div>
          </div>
        </div>
        <div class="spacer"></div>
        <div class="mode-toggle" data-mode="browse" aria-label="Mode toggle">
          <div class="mode-toggle-indicator" aria-hidden="true"></div>
          <button
            type="button"
            id="mode-browse"
            data-mode="browse"
            data-active="true"
          >
            <span class="icon">ðŸ“š</span>
            Browse
          </button>
          <button type="button" id="mode-quiz" data-mode="quiz">
            <span class="icon">ðŸ§ </span>
            Quiz
          </button>
        </div>
        <div class="pill" aria-live="polite" id="pill-summary">
          <span class="pill-dot"></span>
          <span>Ready to learn your internal lingo.</span>
        </div>
      </div>

      <div class="summary-row">
        <div class="summary-metrics">
          <div class="metric">
            <span class="metric-label">Acronyms</span>
            <span class="metric-value" id="metric-total">0</span>
          </div>
          <div class="metric">
            <span class="metric-label">Categories</span>
            <span class="metric-value" id="metric-categories">0</span>
          </div>
          <div class="metric">
            <span class="metric-label">Quiz streak</span>
            <span class="metric-value" id="metric-streak">0</span>
          </div>
        </div>
        <div class="pill-inline">
          <span>Tip:</span>
          <span>Press <strong>Ctrl</strong> + <strong>K</strong> to focus search</span>
        </div>
      </div>

      <div class="search-row">
        <section class="search-card" aria-label="Search acronyms">
          <div class="search-inner">
            <div class="search-icon" aria-hidden="true">A</div>
            <div class="search-input-wrap">
              <input
                id="search-input"
                type="search"
                placeholder="Search by acronym, meaning, team, or keyword..."
                autocomplete="off"
              />
              <div class="kbd-hint" aria-hidden="true">
                <span class="key">Ctrl</span><span>+</span
                ><span class="key">K</span>
              </div>
              <div class="search-meta">
                <span
                  >Showing <strong id="count-visible">0</strong> of
                  <strong id="count-total">0</strong> acronyms</span
                >
                <span id="active-filters-label">No filters applied</span>
              </div>
            </div>
          </div>
        </section>

        <section class="filter-card" aria-label="Filter by category">
          <div class="filter-card-header">
            <h2>Categories</h2>
            <button type="button" id="clear-filters">Clear</button>
          </div>
          <div class="chip-row" id="category-chips">
            <!-- category chips rendered by JS -->
          </div>
        </section>
      </div>

      <div class="content-row">
        <section class="panel" aria-label="Acronym list">
          <div class="panel-header">
            <div>
              <div class="panel-title">Acronym Library</div>
              <div class="panel-subtitle">
                Browse definitions, teams, and usage notes.
              </div>
            </div>
            <div class="view-toggle" aria-label="List density">
              <button type="button" data-view="cozy" data-active="true">
                Cozy
              </button>
              <button type="button" data-view="compact">Compact</button>
            </div>
          </div>
          <div class="list-container">
            <div class="list-scroll" id="acronym-list">
              <!-- list rendered by JS -->
            </div>
          </div>
        </section>

        <section class="quiz-panel" aria-label="Quiz mode">
          <header class="quiz-header">
            <div>
              <div class="quiz-title">Quiz Mode</div>
              <div class="panel-subtitle">
                Turn your glossary into a quick brain workout.
              </div>
            </div>
            <span class="quiz-badge" id="quiz-difficulty-label"
              >Difficulty: Adaptive</span
            >
          </header>

          <div class="quiz-meta-row">
            <div class="quiz-meta">
              <span id="quiz-pool-label">Quiz pool: all categories</span>
            </div>
            <div class="quiz-badges">
              <span class="badge">
                <span class="badge-dot"></span>
                <span id="quiz-questions-label">5 questions</span>
              </span>
              <span class="badge">
                <span>Mode:</span>
                <strong id="quiz-mode-label">Mixed</strong>
              </span>
            </div>
          </div>

          <div class="quiz-main">
            <div class="quiz-states">
              <div class="quiz-state" id="quiz-state-idle" data-active="true">
                <div class="quiz-hero">
                  <div class="quiz-hero-title">
                    Ready when you are. ðŸŽ¯
                  </div>
                  <div class="quiz-hero-subtitle">
                    Weâ€™ll mix quick multipleâ€‘choice questions based on the
                    acronyms currently visible in your list.
                  </div>
                  <ul class="quiz-hero-list">
                    <li>Uses your active search and category filters.</li>
                    <li>Adapts difficulty based on your streak.</li>
                    <li>Perfect for a 60â€‘second knowledge check.</li>
                  </ul>
                  <div class="quiz-hero-actions">
                    <button
                      type="button"
                      class="btn btn-primary"
                      id="start-quiz"
                    >
                      <span>Start 5â€‘question quiz</span>
                    </button>
                    <button
                      type="button"
                      class="btn btn-ghost"
                      id="start-quick-quiz"
                    >
                      <span>3â€‘question speed round</span>
                    </button>
                  </div>
                </div>
              </div>

              <div class="quiz-state" id="quiz-state-active">
                <div class="quiz-question-meta">
                  <div class="quiz-question-type" id="quiz-question-type">
                    Question
                  </div>
                  <div class="quiz-progress-dots" id="quiz-progress-dots">
                    <!-- dots inserted by JS -->
                  </div>
                </div>
                <div class="quiz-question-card">
                  <div class="quiz-question-main" id="quiz-question-main">
                    <!-- question text -->
                  </div>
                  <div
                    class="quiz-question-secondary"
                    id="quiz-question-secondary"
                  ></div>
                  <div class="quiz-options" id="quiz-options">
                    <!-- options -->
                  </div>
                </div>
                <div
                  class="quiz-feedback"
                  id="quiz-feedback"
                  aria-live="polite"
                  style="display: none"
                ></div>
              </div>

              <div class="quiz-state" id="quiz-state-complete">
                <div class="quiz-summary">
                  <div class="quiz-summary-title">Nice work. âœ…</div>
                  <div class="quiz-summary-body" id="quiz-summary-body">
                    <!-- summary text -->
                  </div>
                  <div class="quiz-summary-row" id="quiz-summary-metrics">
                    <!-- summary metrics -->
                  </div>
                  <div class="quiz-hero-actions">
                    <button
                      type="button"
                      class="btn btn-primary"
                      id="quiz-retry"
                    >
                      <span>Retry same quiz</span>
                    </button>
                    <button
                      type="button"
                      class="btn btn-ghost"
                      id="quiz-new"
                    >
                      <span>New quiz from current filters</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <footer class="quiz-footer">
              <div class="quiz-score">
                <span>Score</span>
                <span class="score-pill" id="quiz-score-pill">
                  <strong>0</strong> / 0 correct
                </span>
              </div>
              <div class="quiz-controls">
                <button
                  type="button"
                  class="btn-text"
                  id="quiz-reset"
                  aria-label="Reset quiz state"
                >
                  Reset
                </button>
              </div>
            </footer>
          </div>
        </section>
      </div>

      <footer class="footer">
        <span
          >Made to help teams onboard faster. Keep this glossary close during
          standâ€‘ups, planning, and reviews.</span
        >
        <span
          >Shortcut: filter your quiz by using search or category chips first.</span
        >
      </footer>
    </div>

    <script>
      (function () {
        const ACRONYMS = [
          {
            acronym: "OKR",
            expansion: "Objectives and Key Results",
            category: "Processes",
            tags: ["goal-setting", "planning", "leadership"],
            description:
              "A collaborative goal-setting framework that defines what we want to achieve and how we'll measure success.",
          },
          {
            acronym: "KPI",
            expansion: "Key Performance Indicator",
            category: "Metrics",
            tags: ["measurement", "reporting"],
            description:
              "A quantifiable measure used to evaluate how effectively a team is achieving key business objectives.",
          },
          {
            acronym: "SLA",
            expansion: "Service Level Agreement",
            category: "Processes",
            tags: ["support", "contracts", "customers"],
            description:
              "A contract that defines the expected level of service, such as response or resolution times.",
          },
          {
            acronym: "SLO",
            expansion: "Service Level Objective",
            category: "Metrics",
            tags: ["reliability", "sre", "targets"],
            description:
              "A reliability target for a service, usually defined as an uptime or success rate percentage.",
          },
          {
            acronym: "SLI",
            expansion: "Service Level Indicator",
            category: "Metrics",
            tags: ["reliability", "sre"],
            description:
              "A carefully defined metric that indicates how well a service is performing from the userâ€™s perspective.",
          },
          {
            acronym: "NPS",
            expansion: "Net Promoter Score",
            category: "Metrics",
            tags: ["customer", "survey", "experience"],
            description:
              "A metric that measures customer loyalty by asking how likely customers are to recommend our product.",
          },
          {
            acronym: "CSAT",
            expansion: "Customer Satisfaction",
            category: "Metrics",
            tags: ["customers", "survey"],
            description:
              "A measure of customer satisfaction with a specific interaction, feature, or experience.",
          },
          {
            acronym: "CX",
            expansion: "Customer Experience",
            category: "Teams",
            tags: ["customers", "support"],
            description:
              "The overall perception customers have of their interactions with our company across touchpoints.",
          },
          {
            acronym: "PM",
            expansion: "Product Manager",
            category: "Teams",
            tags: ["product", "roadmap", "discovery"],
            description:
              "The role responsible for defining product vision, prioritizing work, and aligning teams around outcomes.",
          },
          {
            acronym: "EM",
            expansion: "Engineering Manager",
            category: "Teams",
            tags: ["engineering", "people", "management"],
            description:
              "A manager who supports engineers, removes blockers, and ensures healthy team delivery.",
          },
          {
            acronym: "PD",
            expansion: "Product Design",
            category: "Teams",
            tags: ["design", "ux", "ui"],
            description:
              "The discipline focused on understanding user needs and designing intuitive product experiences.",
          },
          {
            acronym: "GTM",
            expansion: "Go-To-Market",
            category: "Projects",
            tags: ["launch", "marketing", "sales"],
            description:
              "The cross-functional plan for how we introduce a product or feature to customers.",
          },
          {
            acronym: "PRD",
            expansion: "Product Requirements Document",
            category: "Processes",
            tags: ["documentation", "product", "spec"],
            description:
              "A document that describes the problem, goals, requirements, and constraints for a product change.",
          },
          {
            acronym: "RFC",
            expansion: "Request for Comments",
            category: "Processes",
            tags: ["proposal", "design", "collaboration"],
            description:
              "A structured proposal shared with stakeholders to gather feedback before making a significant decision.",
          },
          {
            acronym: "ADR",
            expansion: "Architecture Decision Record",
            category: "Processes",
            tags: ["engineering", "architecture", "documentation"],
            description:
              "A short document that captures an important technical decision and its context.",
          },
          {
            acronym: "SRE",
            expansion: "Site Reliability Engineering",
            category: "Teams",
            tags: ["reliability", "operations", "infrastructure"],
            description:
              "An engineering discipline focused on building and running highly reliable, scalable services.",
          },
          {
            acronym: "Infra",
            expansion: "Infrastructure",
            category: "Teams",
            tags: ["platform", "cloud", "foundations"],
            description:
              "The team responsible for the foundational systems, tooling, and platforms that other teams build on.",
          },
          {
            acronym: "LTV",
            expansion: "Customer Lifetime Value",
            category: "Metrics",
            tags: ["revenue", "growth", "business"],
            description:
              "The projected revenue a customer will generate over their entire relationship with our company.",
          },
          {
            acronym: "CAC",
            expansion: "Customer Acquisition Cost",
            category: "Metrics",
            tags: ["spend", "marketing", "efficiency"],
            description:
              "The average cost of acquiring a new customer, including marketing and sales expenses.",
          },
          {
            acronym: "ARR",
            expansion: "Annual Recurring Revenue",
            category: "Metrics",
            tags: ["revenue", "saas", "business"],
            description:
              "A normalized metric that shows the predictable recurring revenue generated over a year.",
          },
          {
            acronym: "MRR",
            expansion: "Monthly Recurring Revenue",
            category: "Metrics",
            tags: ["revenue", "saas"],
            description:
              "The predictable recurring revenue generated each month from subscriptions.",
          },
          {
            acronym: "MQL",
            expansion: "Marketing Qualified Lead",
            category: "Processes",
            tags: ["sales", "funnel", "marketing"],
            description:
              "A lead that has reached a defined engagement threshold and is ready for sales outreach.",
          },
          {
            acronym: "SQL",
            expansion: "Sales Qualified Lead",
            category: "Processes",
            tags: ["sales", "pipeline"],
            description:
              "A lead that sales has validated as a good fit and is actively working.",
          },
          {
            acronym: "QBR",
            expansion: "Quarterly Business Review",
            category: "Processes",
            tags: ["review", "customers", "accounts"],
            description:
              "A structured quarterly review with customers or stakeholders to align on goals, value, and roadmap.",
          },
          {
            acronym: "ETA",
            expansion: "Estimated Time of Arrival",
            category: "Processes",
            tags: ["planning", "communication"],
            description:
              "A communicated estimate for when a task, feature, or shipment is expected to be completed.",
          },
          {
            acronym: "TTR",
            expansion: "Time to Resolution",
            category: "Metrics",
            tags: ["support", "operations"],
            description:
              "The average duration between an issue being reported and fully resolved.",
          },
          {
            acronym: "MTTR",
            expansion: "Mean Time to Recovery",
            category: "Metrics",
            tags: ["incidents", "reliability"],
            description:
              "The average time it takes to recover from an incident and restore normal service.",
          },
          {
            acronym: "RACI",
            expansion: "Responsible, Accountable, Consulted, Informed",
            category: "Processes",
            tags: ["roles", "clarity", "ownership"],
            description:
              "A responsibility assignment model that clarifies who is doing, deciding, consulted, and informed.",
          },
          {
            acronym: "ROI",
            expansion: "Return on Investment",
            category: "Metrics",
            tags: ["finance", "prioritization"],
            description:
              "A ratio that compares the expected benefit of an investment to its cost.",
          },
          {
            acronym: "E2E",
            expansion: "Endâ€‘toâ€‘End",
            category: "Processes",
            tags: ["testing", "workflow"],
            description:
              "A perspective that covers the full journey from start to finish, often used for tests or processes.",
          },
          {
            acronym: "CI",
            expansion: "Continuous Integration",
            category: "Systems",
            tags: ["engineering", "automation", "testing"],
            description:
              "A practice where code is integrated and tested automatically whenever changes are committed.",
          },
          {
            acronym: "CD",
            expansion: "Continuous Delivery",
            category: "Systems",
            tags: ["deployments", "automation"],
            description:
              "A practice where changes are automatically prepared for release, keeping the codebase always deployable.",
          },
        ];

        const searchInput = document.getElementById("search-input");
        const acronymList = document.getElementById("acronym-list");
        const categoryChipsContainer =
          document.getElementById("category-chips");
        const countVisibleEl = document.getElementById("count-visible");
        const countTotalEl = document.getElementById("count-total");
        const activeFiltersLabel =
          document.getElementById("active-filters-label");
        const clearFiltersBtn = document.getElementById("clear-filters");
        const metricTotal = document.getElementById("metric-total");
        const metricCategories = document.getElementById("metric-categories");
        const metricStreak = document.getElementById("metric-streak");
        const pillSummary = document.getElementById("pill-summary");

        const modeToggle = document.querySelector(".mode-toggle");
        const btnModeBrowse = document.getElementById("mode-browse");
        const btnModeQuiz = document.getElementById("mode-quiz");

        const quizStateIdle = document.getElementById("quiz-state-idle");
        const quizStateActive = document.getElementById("quiz-state-active");
        const quizStateComplete =
          document.getElementById("quiz-state-complete");
        const btnStartQuiz = document.getElementById("start-quiz");
        const btnStartQuickQuiz =
          document.getElementById("start-quick-quiz");
        const btnQuizReset = document.getElementById("quiz-reset");
        const quizPoolLabel = document.getElementById("quiz-pool-label");
        const quizQuestionsLabel =
          document.getElementById("quiz-questions-label");
        const quizModeLabel = document.getElementById("quiz-mode-label");
        const quizQuestionType = document.getElementById("quiz-question-type");
        const quizQuestionMain = document.getElementById("quiz-question-main");
        const quizQuestionSecondary = document.getElementById(
          "quiz-question-secondary"
        );
        const quizOptionsContainer = document.getElementById("quiz-options");
        const quizProgressDots = document.getElementById("quiz-progress-dots");
        const quizFeedback = document.getElementById("quiz-feedback");
        const quizScorePill = document.getElementById("quiz-score-pill");
        const quizSummaryBody = document.getElementById("quiz-summary-body");
        const quizSummaryMetrics = document.getElementById(
          "quiz-summary-metrics"
        );
        const btnQuizRetry = document.getElementById("quiz-retry");
        const btnQuizNew = document.getElementById("quiz-new");
        const quizDifficultyLabel = document.getElementById(
          "quiz-difficulty-label"
        );

        const viewToggleButtons = document.querySelectorAll(
          ".view-toggle button"
        );

        const CATEGORIES = Array.from(
          new Set(ACRONYMS.map((a) => a.category))
        ).sort();

        const state = {
          search: "",
          categoryFilter: null,
          quiz: {
            inProgress: false,
            questions: [],
            currentIndex: 0,
            correct: 0,
            total: 0,
            streak: 0,
            lastPool: [],
          },
        };

        function normalize(text) {
          return text.toLowerCase();
        }

        function matchesSearch(item, term) {
          if (!term) return true;
          const v = normalize(term);
          const haystack = [
            item.acronym,
            item.expansion,
            item.category,
            ...(item.tags || []),
            item.description,
          ]
            .join(" ")
            .toLowerCase();
          return haystack.includes(v);
        }

        function applyFilters() {
          const term = normalize(state.search || "");
          const category = state.categoryFilter;
          const filtered = ACRONYMS.filter((item) => {
            const byCategory = !category || item.category === category;
            const bySearch = matchesSearch(item, term);
            return byCategory && bySearch;
          });

          renderList(filtered, term);
          updateCounts(filtered);
          updateActiveFiltersLabel(filtered);
          updateQuizPoolLabel(filtered);
          state.quiz.lastPool = filtered;
          return filtered;
        }

        function escapeHtml(str) {
          return str
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
        }

        function highlight(text, term) {
          if (!term) return escapeHtml(text);
          const safeTerm = term.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
          const re = new RegExp(safeTerm, "ig");
          return escapeHtml(text).replace(
            re,
            (match) => '<span class="highlight">' + match + "</span>"
          );
        }

        function renderList(items, term) {
          if (!items.length) {
            acronymList.innerHTML =
              '<div class="empty-state"><div><strong>No acronyms found.</strong> Try a different keyword or clear filters.</div><button type="button" id="btn-clear-all">Clear search &amp; filters</button></div>';
            const clearAllBtn = document.getElementById("btn-clear-all");
            clearAllBtn.addEventListener("click", () => {
              searchInput.value = "";
              state.search = "";
              state.categoryFilter = null;
              syncCategoryChips();
              applyFilters();
            });
            return;
          }

          const searchTerm = term;

          const fragments = items
            .map((item) => {
              const acronymHtml = highlight(item.acronym, searchTerm);
              const expansionHtml = highlight(item.expansion, searchTerm);
              const descriptionHtml = highlight(item.description, searchTerm);
              return (
                '<article class="acronym-card" data-category="' +
                escapeHtml(item.category) +
                '">' +
                '<div class="acronym-letter" aria-hidden="true">' +
                escapeHtml(item.acronym.slice(0, 3)) +
                "</div>" +
                '<div class="acronym-main">' +
                '<header class="acronym-header">' +
                '<div class="acronym-title-block">' +
                '<div class="acronym-name">' +
                acronymHtml +
                "</div>" +
                '<div class="acronym-expansion">' +
                expansionHtml +
                "</div>" +
                "</div>" +
                '<div class="acronym-category">' +
                escapeHtml(item.category) +
                "</div>" +
                "</header>" +
                '<p class="acronym-description">' +
                descriptionHtml +
                "</p>" +
                '<div class="acronym-tags">' +
                (item.tags || [])
                  .map(function (tag) {
                    return (
                      '<span class="acronym-tag">' +
                      highlight(tag, searchTerm) +
                      "</span>"
                    );
                  })
                  .join("") +
                "</div>" +
                "</div>" +
                "</article>"
              );
            })
            .join("");

          acronymList.innerHTML = fragments;
        }

        function updateCounts(filtered) {
          const total = ACRONYMS.length;
          const visible = filtered.length;
          countTotalEl.textContent = total.toString();
          countVisibleEl.textContent = visible.toString();
        }

        function updateActiveFiltersLabel(filtered) {
          const parts = [];
          if (state.categoryFilter) {
            parts.push("Category: " + state.categoryFilter);
          }
          if (state.search) {
            parts.push('Search: "' + state.search + '"');
          }
          if (!parts.length) {
            activeFiltersLabel.textContent = "No filters applied";
          } else {
            activeFiltersLabel.textContent = parts.join(" â€¢ ");
          }

          pillSummary.textContent =
            filtered.length === ACRONYMS.length && !state.search
              ? "Browsing full company glossary."
              : "Filtered down to " +
                filtered.length +
                " acronyms based on your criteria.";
        }

        function updateSummaryMetrics() {
          metricTotal.textContent = ACRONYMS.length.toString();
          metricCategories.textContent = CATEGORIES.length.toString();
          metricStreak.textContent = state.quiz.streak.toString();
        }

        function updateQuizPoolLabel(filtered) {
          if (!filtered.length) {
            quizPoolLabel.textContent =
              "Quiz pool: waiting for at least 1 visible acronym";
          } else if (state.categoryFilter) {
            quizPoolLabel.textContent =
              "Quiz pool: " +
              filtered.length +
              " in category â€œ" +
              state.categoryFilter +
              "â€";
          } else {
            quizPoolLabel.textContent =
              "Quiz pool: " + filtered.length + " across all categories";
          }
        }

        function renderCategoryChips() {
          const html =
            '<button type="button" class="chip" data-category="__all" data-active="true">' +
            '<span class="indicator"></span>' +
            "<span>All</span>" +
            '<span class="badge">' +
            ACRONYMS.length +
            "</span>" +
            "</button>" +
            CATEGORIES.map(function (cat) {
              const count = ACRONYMS.filter(
                (a) => a.category === cat
              ).length;
              return (
                '<button type="button" class="chip" data-category="' +
                escapeHtml(cat) +
                '">' +
                '<span class="indicator"></span>' +
                "<span>" +
                escapeHtml(cat) +
                "</span>" +
                '<span class="badge">' +
                count +
                "</span>" +
                "</button>"
              );
            }).join("");
          categoryChipsContainer.innerHTML = html;
          categoryChipsContainer.addEventListener("click", (event) => {
            const target = event.target.closest(".chip");
            if (!target) return;
            const cat = target.getAttribute("data-category");
            if (cat === "__all") {
              state.categoryFilter = null;
            } else {
              state.categoryFilter =
                state.categoryFilter === cat ? null : cat;
            }
            syncCategoryChips();
            applyFilters();
          });
        }

        function syncCategoryChips() {
          const chips =
            categoryChipsContainer.querySelectorAll(".chip");
          chips.forEach((chip) => {
            const cat = chip.getAttribute("data-category");
            const active =
              (state.categoryFilter === null && cat === "__all") ||
              (state.categoryFilter !== null && cat === state.categoryFilter);
            chip.setAttribute("data-active", active ? "true" : "false");
          });
        }

        function handleSearchInput() {
          const value = (searchInput.value || "").trim();
          state.search = value;
          applyFilters();
        }

        function initSearchKeyboardShortcut() {
          window.addEventListener("keydown", (event) => {
            const isCmdOrCtrl =
              event.ctrlKey || event.metaKey || event.key === "Meta";
            if (isCmdOrCtrl && (event.key === "k" || event.key === "K")) {
              event.preventDefault();
              searchInput.focus();
              searchInput.select();
            }
          });
        }

        function setMode(mode) {
          modeToggle.setAttribute("data-mode", mode);
          btnModeBrowse.setAttribute(
            "data-active",
            mode === "browse" ? "true" : "false"
          );
          btnModeQuiz.setAttribute(
            "data-active",
            mode === "quiz" ? "true" : "false"
          );
          pillSummary.textContent =
            mode === "browse"
              ? "Browsing full company glossary."
              : "Quiz mode uses whatever is visible in your list.";
        }

        function attachModeToggleHandlers() {
          modeToggle.addEventListener("click", (event) => {
            const btn = event.target.closest("button[data-mode]");
            if (!btn) return;
            const mode = btn.getAttribute("data-mode") || "browse";
            setMode(mode);
          });
        }

        function shuffle(array) {
          const arr = array.slice();
          for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            const tmp = arr[i];
            arr[i] = arr[j];
            arr[j] = tmp;
          }
          return arr;
        }

        function buildQuizQuestion(item, pool, difficultyHint) {
          const type =
            Math.random() < 0.5
              ? "meaning-from-acronym"
              : "acronym-from-meaning";
          const candidates = shuffle(
            pool.filter((x) => x.acronym !== item.acronym)
          ).slice(0, 3);
          const optionsRaw = [...candidates, item];
          const shuffled = shuffle(optionsRaw);
          const options = shuffled.map((opt, idx) => {
            const label = String.fromCharCode("A".charCodeAt(0) + idx);
            return {
              label,
              key:
                type === "meaning-from-acronym"
                  ? opt.expansion
                  : opt.acronym,
              correct: opt.acronym === item.acronym,
              item: opt,
            };
          });

          if (type === "meaning-from-acronym") {
            return {
              type,
              prompt:
                "What does this acronym stand for?",
              primary: item.acronym,
              secondary: item.description,
              options,
              difficultyHint,
            };
          }

          return {
            type,
            prompt:
              "Which acronym matches this description?",
            primary: item.description,
            secondary: item.expansion,
            options,
            difficultyHint,
          };
        }

        function startQuiz({ questionsCount }) {
          const pool =
            state.quiz.lastPool && state.quiz.lastPool.length
              ? state.quiz.lastPool
              : ACRONYMS;
          if (!pool.length) {
            alert(
              "No acronyms are visible. Try clearing your search filters first."
            );
            return;
          }
          const actualCount = Math.min(
            questionsCount,
            Math.max(1, pool.length)
          );
          const poolShuffled = shuffle(pool);
          const questions = [];
          const difficultyHint =
            state.quiz.streak >= 5
              ? "Hard"
              : state.quiz.streak >= 2
              ? "Medium"
              : "Easy";

          for (let i = 0; i < actualCount; i++) {
            const item = poolShuffled[i % poolShuffled.length];
            questions.push(buildQuizQuestion(item, pool, difficultyHint));
          }

          state.quiz.inProgress = true;
          state.quiz.questions = questions;
          state.quiz.currentIndex = 0;
          state.quiz.correct = 0;
          state.quiz.total = questions.length;

          quizQuestionsLabel.textContent =
            questions.length + " questions";
          quizDifficultyLabel.textContent =
            "Difficulty: " + (questions[0]?.difficultyHint || "Adaptive");
          quizModeLabel.textContent = "Mixed";
          quizFeedback.style.display = "none";
          quizFeedback.textContent = "";

          setQuizState("active");
          renderCurrentQuestion();
          updateQuizProgressDots();
          updateQuizScorePill();
          setMode("quiz");
        }

        function setQuizState(stateName) {
          const map = {
            idle: quizStateIdle,
            active: quizStateActive,
            complete: quizStateComplete,
          };
          Object.keys(map).forEach((key) => {
            map[key].setAttribute(
              "data-active",
              key === stateName ? "true" : "false"
            );
          });
        }

        function updateQuizProgressDots() {
          const total = state.quiz.total;
          const current = state.quiz.currentIndex;
          const dots = [];
          for (let i = 0; i < total; i++) {
            let stateAttr = "pending";
            if (i < current) stateAttr = "done";
            else if (i === current) stateAttr = "current";
            dots.push(
              '<span class="quiz-dot" data-state="' +
                stateAttr +
                '"></span>'
            );
          }
          quizProgressDots.innerHTML = dots.join("");
        }

        function updateQuizScorePill() {
          quizScorePill.innerHTML =
            "<strong>" +
            state.quiz.correct +
            "</strong> / " +
            state.quiz.total +
            " correct";
        }

        function renderCurrentQuestion() {
          const q = state.quiz.questions[state.quiz.currentIndex];
          if (!q) return;
          quizQuestionType.textContent =
            "Question " +
            (state.quiz.currentIndex + 1) +
            " of " +
            state.quiz.total;
          quizQuestionMain.innerHTML =
            '<div class="quiz-question-acronym">' +
            escapeHtml(q.primary) +
            "</div>";
          quizQuestionSecondary.textContent = q.secondary || "";

          const optionsHtml = q.options
            .map(
              (opt) =>
                '<button type="button" class="quiz-option" data-label="' +
                opt.label +
                '" data-correct="' +
                (opt.correct ? "true" : "false") +
                '">' +
                '<span class="quiz-option-label">' +
                opt.label +
                ".</span>" +
                "<span>" +
                escapeHtml(opt.key) +
                "</span>" +
                "</button>"
            )
            .join("");

          quizOptionsContainer.innerHTML = optionsHtml;
        }

        function handleQuizOptionClick(event) {
          const btn = event.target.closest(".quiz-option");
          if (!btn) return;
          if (!state.quiz.inProgress) return;

          const isCorrect = btn.getAttribute("data-correct") === "true";

          const optionButtons =
            quizOptionsContainer.querySelectorAll(".quiz-option");
          optionButtons.forEach((b) => {
            const correct = b.getAttribute("data-correct") === "true";
            if (correct) {
              b.setAttribute("data-state", "correct");
            } else if (b === btn) {
              b.setAttribute("data-state", "incorrect");
            } else {
              b.removeAttribute("data-state");
            }
            b.disabled = true;
          });

          if (isCorrect) {
            state.quiz.correct += 1;
            state.quiz.streak += 1;
            quizFeedback.textContent = "Correct â€” nice catch.";
            quizFeedback.setAttribute("data-state", "correct");
          } else {
            state.quiz.streak = 0;
            const currentQuestion =
              state.quiz.questions[state.quiz.currentIndex];
            quizFeedback.textContent =
              "Not quite. The correct answer is highlighted.";
            quizFeedback.setAttribute("data-state", "incorrect");
          }

          quizFeedback.style.display = "block";
          updateQuizScorePill();
          updateSummaryMetrics();

          const hasMore =
            state.quiz.currentIndex < state.quiz.total - 1;
          setTimeout(() => {
            if (!state.quiz.inProgress) return;
            if (hasMore) {
              state.quiz.currentIndex += 1;
              quizFeedback.style.display = "none";
              quizFeedback.textContent = "";
              renderCurrentQuestion();
              updateQuizProgressDots();
            } else {
              finishQuiz();
            }
          }, isCorrect ? 800 : 1100);
        }

        function finishQuiz() {
          state.quiz.inProgress = false;
          updateQuizScorePill();
          setQuizState("complete");
          updateQuizSummary();
        }

        function resetQuiz() {
          state.quiz.inProgress = false;
          state.quiz.questions = [];
          state.quiz.currentIndex = 0;
          state.quiz.correct = 0;
          state.quiz.total = 0;
          quizQuestionsLabel.textContent = "0 questions";
          quizScorePill.innerHTML =
            "<strong>0</strong> / 0 correct";
          quizFeedback.style.display = "none";
          quizFeedback.textContent = "";
          quizDifficultyLabel.textContent = "Difficulty: Adaptive";
          setQuizState("idle");
        }

        function updateQuizSummary() {
          const { correct, total } = state.quiz;
          if (!total) {
            quizSummaryBody.textContent =
              "No questions were answered. Start a new quiz when you're ready.";
            quizSummaryMetrics.innerHTML = "";
            return;
          }
          const percent = Math.round((correct / total) * 100);
          let message;
          if (percent === 100) {
            message =
              "Perfect score. Youâ€™re speaking the company language fluently.";
          } else if (percent >= 80) {
            message =
              "Great job. Youâ€™ve got a strong handle on our acronyms.";
          } else if (percent >= 50) {
            message =
              "Solid start. A couple more runs and these will feel secondâ€‘nature.";
          } else {
            message =
              "Everyone starts somewhere. Use the list view to review explanations, then try again.";
          }
          quizSummaryBody.textContent = message;

          quizSummaryMetrics.innerHTML =
            '<span class="badge"><span>Score</span><strong>' +
            correct +
            "/" +
            total +
            " (" +
            percent +
            "%)</strong></span>" +
            '<span class="badge"><span>Current streak</span><strong>' +
            state.quiz.streak +
            "</strong></span>";
        }

        function attachQuizHandlers() {
          btnStartQuiz.addEventListener("click", () =>
            startQuiz({ questionsCount: 5 })
          );
          btnStartQuickQuiz.addEventListener("click", () =>
            startQuiz({ questionsCount: 3 })
          );
          btnQuizReset.addEventListener("click", () => resetQuiz());
          btnQuizRetry.addEventListener("click", () => {
            if (!state.quiz.lastPool.length) {
              applyFilters();
            }
            startQuiz({ questionsCount: state.quiz.total || 5 });
          });
          btnQuizNew.addEventListener("click", () =>
            startQuiz({ questionsCount: 5 })
          );
          quizOptionsContainer.addEventListener(
            "click",
            handleQuizOptionClick
          );
        }

        function attachViewToggleHandlers() {
          viewToggleButtons.forEach((btn) => {
            btn.addEventListener("click", () => {
              const view = btn.getAttribute("data-view") || "cozy";
              viewToggleButtons.forEach((b) => {
                b.setAttribute(
                  "data-active",
                  b === btn ? "true" : "false"
                );
              });
              const cards =
                acronymList.querySelectorAll(".acronym-card");
              cards.forEach((card) => {
                card.style.padding =
                  view === "compact" ? "6px 8px" : "8px 9px";
              });
            });
          });
        }

        function init() {
          renderCategoryChips();
          syncCategoryChips();
          updateSummaryMetrics();
          applyFilters();

          searchInput.addEventListener("input", handleSearchInput);
          clearFiltersBtn.addEventListener("click", () => {
            state.search = "";
            state.categoryFilter = null;
            searchInput.value = "";
            syncCategoryChips();
            applyFilters();
          });

          initSearchKeyboardShortcut();
          attachModeToggleHandlers();
          attachQuizHandlers();
          attachViewToggleHandlers();

          setMode("browse");
        }

        init();
      })();
    </script>
  </body>
</html>

