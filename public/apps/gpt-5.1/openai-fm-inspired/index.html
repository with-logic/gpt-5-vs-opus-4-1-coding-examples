<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>OpenAI.fm Â· AI Radio for Builders</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="An OpenAI.fmâ€‘inspired singleâ€‘page experience with an AIâ€‘driven radio player, animated visualizer, and curated episodes."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #020111;
        --bg-elevated: rgba(15, 23, 42, 0.88);
        --bg-soft: rgba(15, 23, 42, 0.7);
        --border-subtle: rgba(148, 163, 184, 0.3);
        --border-strong: rgba(148, 163, 184, 0.6);
        --text-main: #e5e7eb;
        --text-soft: #9ca3af;
        --text-dim: #6b7280;
        --text-strong: #f9fafb;
        --accent: #22d3ee;
        --accent-soft: rgba(56, 189, 248, 0.16);
        --accent-strong: #38bdf8;
        --danger: #fb7185;
        --radius-lg: 24px;
        --radius-md: 18px;
        --glass-blur: 28px;
        --shadow-soft: 0 22px 45px rgba(15, 23, 42, 0.8);
        --shadow-subtle: 0 10px 30px rgba(15, 23, 42, 0.7);
        --transition-fast: 150ms ease-out;
        --transition-med: 220ms ease-out;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
      }

      body {
        min-height: 100vh;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        background:
          radial-gradient(circle at top, #1f2933 0, transparent 55%),
          radial-gradient(circle at 10% 90%, #22d3ee33 0, transparent 55%),
          radial-gradient(circle at 100% 0, #a855f733 0, transparent 55%),
          radial-gradient(circle at 80% 100%, #22c55e22 0, transparent 40%),
          radial-gradient(circle at center, #020617 0, #020111 65%, #020008 100%);
        color: var(--text-main);
        -webkit-font-smoothing: antialiased;
      }

      body::before {
        content: "";
        position: fixed;
        inset: -40%;
        background:
          conic-gradient(
            from 220deg,
            rgba(34, 211, 238, 0.22),
            rgba(59, 130, 246, 0.07),
            rgba(56, 189, 248, 0.2),
            rgba(14, 165, 233, 0.1),
            rgba(34, 197, 94, 0.12),
            rgba(94, 234, 212, 0.1),
            rgba(217, 249, 157, 0.08),
            rgba(34, 211, 238, 0.22)
          );
        opacity: 0.08;
        mix-blend-mode: screen;
        filter: blur(80px);
        z-index: -2;
        animation: haloRotate 38s linear infinite;
      }

      @keyframes haloRotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      .app-shell {
        max-width: 1180px;
        margin: 0 auto;
        padding: 20px 16px 120px;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      @media (min-width: 1024px) {
        .app-shell {
          padding: 28px 24px 140px;
          gap: 26px;
        }
      }

      .app-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
      }

      .app-header-main {
        display: flex;
        align-items: center;
        gap: 14px;
      }

      .logo-mark {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        background:
          conic-gradient(
            from 190deg,
            #22d3ee,
            #a855f7,
            #f97316,
            #22c55e,
            #22d3ee
          );
        padding: 2px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.7),
          0 0 20px rgba(56, 189, 248, 0.4);
      }

      .logo-core {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background: radial-gradient(circle at 30% 30%, #e5e7eb 0, #020617 55%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #e5e7eb;
        font-weight: 700;
        font-size: 15px;
      }

      .logo-core span {
        letter-spacing: 0.02em;
      }

      .app-title {
        display: flex;
        flex-direction: column;
        gap: 1px;
      }

      .app-title-main {
        display: flex;
        align-items: baseline;
        gap: 6px;
      }

      .app-title-main span:first-child {
        font-size: 18px;
        font-weight: 600;
        letter-spacing: 0.03em;
        color: var(--text-strong);
      }

      .app-title-main span:last-child {
        font-size: 13px;
        font-weight: 500;
        color: var(--text-dim);
        text-transform: uppercase;
        letter-spacing: 0.16em;
      }

      .app-subtitle {
        font-size: 12px;
        color: var(--text-soft);
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        padding: 4px 10px 4px 4px;
        background: radial-gradient(circle at top left, #0f172a, #020617);
        box-shadow: 0 10px 35px rgba(15, 23, 42, 0.6);
        font-size: 11px;
        color: var(--text-soft);
        white-space: nowrap;
      }

      .pill-dot {
        width: 16px;
        height: 16px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #f9fafb, #22c55e);
        box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.15),
          0 0 18px rgba(52, 211, 153, 0.75);
        position: relative;
      }

      .pill-dot::after {
        content: "";
        position: absolute;
        inset: -4px;
        border-radius: inherit;
        border: 1px solid rgba(52, 211, 153, 0.55);
        opacity: 0.6;
        animation: pulse 1.8s ease-out infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(0.95);
          opacity: 0.9;
        }
        75% {
          transform: scale(1.15);
          opacity: 0;
        }
        100% {
          transform: scale(0.95);
          opacity: 0;
        }
      }

      .pill-label {
        font-weight: 500;
        color: #d1fae5;
      }

      .pill-caption {
        font-size: 11px;
        opacity: 0.7;
      }

      .header-links {
        display: none;
        align-items: center;
        gap: 12px;
        font-size: 12px;
        color: var(--text-soft);
      }

      .header-link {
        border-radius: 999px;
        padding: 6px 12px;
        border: 1px solid transparent;
        cursor: pointer;
        background: transparent;
        color: inherit;
        font: inherit;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        transition: border-color var(--transition-fast),
          background-color var(--transition-fast), color var(--transition-fast),
          transform var(--transition-fast);
      }

      .header-link span {
        opacity: 0.9;
      }

      .header-link svg {
        width: 10px;
        height: 10px;
        opacity: 0.7;
      }

      .header-link:hover {
        border-color: rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top, #0b1120, #020617);
        color: #e5e7eb;
        transform: translateY(-1px);
      }

      @media (min-width: 768px) {
        .header-links {
          display: flex;
        }
      }

      .app-main {
        display: grid;
        grid-template-columns: minmax(0, 1.6fr) minmax(0, 2.1fr);
        gap: 18px;
        align-items: flex-start;
      }

      @media (min-width: 1100px) {
        .app-main {
          gap: 22px;
        }
      }

      @media (max-width: 960px) {
        .app-main {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .panel {
        border-radius: var(--radius-lg);
        border: 1px solid rgba(148, 163, 184, 0.38);
        background: linear-gradient(
            145deg,
            rgba(15, 23, 42, 0.97),
            rgba(15, 23, 42, 0.92),
            rgba(15, 23, 42, 0.94)
          );
        box-shadow: var(--shadow-soft);
        padding: 18px 18px 18px;
        position: relative;
        overflow: hidden;
      }

      @media (min-width: 1024px) {
        .panel {
          padding: 22px;
        }
      }

      .panel::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 10% 0,
          rgba(56, 189, 248, 0.24),
          transparent 55%
        );
        opacity: 0.9;
        mix-blend-mode: soft-light;
        pointer-events: none;
      }

      .panel-inner {
        position: relative;
        z-index: 1;
      }

      .hero-top {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 8px;
        margin-bottom: 16px;
      }

      .hero-copy {
        display: flex;
        flex-direction: column;
        gap: 6px;
        max-width: 260px;
      }

      .eyebrow {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--text-dim);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .eyebrow-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #e5e7eb, var(--accent));
        box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.35);
      }

      .hero-title {
        font-size: 24px;
        line-height: 1.25;
        font-weight: 600;
        color: var(--text-strong);
      }

      .hero-title span {
        background: linear-gradient(120deg, #e5e7eb, #bae6fd, #f9fafb);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .hero-subtitle {
        font-size: 13px;
        color: var(--text-soft);
      }

      .hero-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 4px;
      }

      .hero-tag {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        padding: 3px 9px;
        font-size: 11px;
        color: var(--text-soft);
        background: radial-gradient(circle at top, #020617, #020617);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .hero-tag svg {
        width: 11px;
        height: 11px;
        opacity: 0.7;
      }

      .orbit-labels {
        position: relative;
        width: 120px;
        height: 80px;
      }

      .orbit-label {
        position: absolute;
        padding: 6px 9px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.38);
        background: radial-gradient(circle at top, #020617, #020617);
        color: var(--text-soft);
        font-size: 11px;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        box-shadow: var(--shadow-subtle);
        backdrop-filter: blur(18px);
        transform-origin: center;
        animation: orbit 18s linear infinite;
      }

      .orbit-label:nth-child(1) {
        top: 0;
        right: 2px;
        animation-duration: 19s;
        animation-delay: -2s;
      }

      .orbit-label:nth-child(2) {
        bottom: 4px;
        left: 0;
        animation-duration: 21s;
        animation-direction: reverse;
      }

      .orbit-label:nth-child(3) {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation-duration: 24s;
      }

      .orbit-label-badge {
        width: 14px;
        height: 14px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #e5e7eb, #22d3ee);
      }

      @keyframes orbit {
        from {
          transform: translate(-10px, 0) rotate(0deg);
        }
        50% {
          transform: translate(8px, -6px) rotate(180deg);
        }
        to {
          transform: translate(-10px, 0) rotate(360deg);
        }
      }

      .hero-main {
        display: grid;
        grid-template-rows: minmax(260px, 1.2fr) auto;
        gap: 14px;
      }

      .visualizer-shell {
        position: relative;
        border-radius: 22px;
        border: 1px solid rgba(148, 163, 184, 0.45);
        background:
          radial-gradient(circle at top, rgba(15, 23, 42, 0.96), #020617),
          radial-gradient(circle at 10% 0, rgba(56, 189, 248, 0.26), transparent 45%);
        overflow: hidden;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
        min-height: 240px;
      }

      .visualizer-shell::before {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at 50% 0,
          rgba(148, 163, 253, 0.25),
          transparent 55%
        );
        opacity: 0.5;
        pointer-events: none;
      }

      .visualizer-shell::after {
        content: "";
        position: absolute;
        inset: -20%;
        background-image: radial-gradient(
          circle at 0 0,
          rgba(56, 189, 248, 0.16),
          transparent 60%
        );
        opacity: 0.45;
        mix-blend-mode: color-dodge;
        pointer-events: none;
      }

      .visualizer-layer {
        position: absolute;
        inset: 0;
        z-index: 1;
        pointer-events: none;
      }

      .visualizer-orbit-ring {
        position: absolute;
        width: 76%;
        height: 76%;
        border-radius: 999px;
        border: 1px dashed rgba(148, 163, 184, 0.25);
        left: 12%;
        top: 12%;
        box-shadow: 0 0 30px rgba(15, 23, 42, 0.9) inset;
      }

      .visualizer-core-ring {
        position: absolute;
        width: 40%;
        height: 40%;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        left: 30%;
        top: 30%;
        background: radial-gradient(circle at 30% 30%, #e5e7eb22, #020617ff);
        box-shadow:
          0 0 0 12px rgba(15, 23, 42, 0.8),
          0 0 40px rgba(56, 189, 248, 0.7);
      }

      .visualizer-glow {
        position: absolute;
        inset: 10%;
        background: radial-gradient(
          circle at 50% 40%,
          rgba(56, 189, 248, 0.5),
          transparent 65%
        );
        mix-blend-mode: screen;
        opacity: 0.7;
      }

      .visualizer-metadata {
        position: absolute;
        left: 18px;
        top: 18px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 5px 11px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.55);
        box-shadow: 0 14px 34px rgba(15, 23, 42, 0.9);
        font-size: 11px;
      }

      .visualizer-metadata span {
        color: var(--text-soft);
      }

      .visualizer-metadata strong {
        color: #e5e7eb;
        font-weight: 500;
      }

      .visualizer-chip-dot {
        width: 9px;
        height: 9px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #f9fafb, #22d3ee);
        box-shadow: 0 0 12px rgba(56, 189, 248, 0.9);
      }

      .visualizer-state {
        position: absolute;
        right: 18px;
        bottom: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 11px;
        color: var(--text-soft);
        padding: 5px 11px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.78);
        border: 1px solid rgba(148, 163, 184, 0.55);
        box-shadow: 0 16px 30px rgba(15, 23, 42, 0.9);
      }

      .visualizer-state-icon {
        width: 18px;
        height: 18px;
        border-radius: 7px;
        background: radial-gradient(circle at 25% 20%, #e5e7eb, #38bdf8);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9),
          0 0 16px rgba(56, 189, 248, 0.85);
      }

      .visualizer-state-icon svg {
        width: 13px;
        height: 13px;
        color: #020617;
      }

      #visualizer {
        position: relative;
        z-index: 2;
        width: 100%;
        height: 240px;
        display: block;
      }

      @media (min-width: 1024px) {
        #visualizer {
          height: 280px;
        }
      }

      .hero-footer {
        display: grid;
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
        gap: 10px;
        align-items: stretch;
      }

      @media (max-width: 640px) {
        .hero-footer {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .now-playing {
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.65);
        background: radial-gradient(circle at top, #020617, #020617);
        padding: 9px 10px;
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto;
        gap: 10px;
        align-items: center;
        box-shadow: var(--shadow-subtle);
      }

      .now-playing-cover {
        width: 44px;
        height: 44px;
        border-radius: 16px;
        background:
          radial-gradient(circle at 30% 20%, #e5e7eb, #bae6fd, #0ea5e9),
          conic-gradient(
            from 180deg,
            rgba(14, 165, 233, 0.8),
            rgba(244, 63, 94, 0.9),
            rgba(129, 140, 248, 0.8),
            rgba(14, 165, 233, 0.8)
          );
        padding: 1px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 18px 40px rgba(15, 23, 42, 0.9);
      }

      .now-playing-cover-inner {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background: radial-gradient(circle at 30% 30%, #020617, #020617);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
      }

      .now-playing-meta {
        display: flex;
        flex-direction: column;
        gap: 2px;
        min-width: 0;
      }

      .now-playing-title {
        font-size: 13px;
        font-weight: 600;
        color: var(--text-strong);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .now-playing-guest {
        font-size: 12px;
        color: var(--text-soft);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .now-playing-meta-footer {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 11px;
        color: var(--text-dim);
      }

      .pill-mini {
        border-radius: 999px;
        padding: 2px 8px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: radial-gradient(circle at top, #020617, #020617);
        font-size: 10px;
        color: var(--text-soft);
      }

      .now-playing-cta {
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }

      .play-toggle {
        border-radius: 999px;
        border: none;
        cursor: pointer;
        padding: 8px 13px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: radial-gradient(circle at 20% 0, var(--accent-strong), #0ea5e9);
        color: #020617;
        font-size: 12px;
        font-weight: 600;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 18px 40px rgba(8, 47, 73, 0.9),
          0 0 26px rgba(56, 189, 248, 0.75);
        transition: transform var(--transition-fast),
          box-shadow var(--transition-fast), filter var(--transition-fast),
          opacity var(--transition-fast);
      }

      .play-toggle .icon {
        width: 16px;
        height: 16px;
      }

      .play-toggle .icon svg {
        width: 100%;
        height: 100%;
      }

      .play-toggle-label {
        white-space: nowrap;
      }

      .play-toggle-sub {
        font-size: 10px;
        font-weight: 500;
        opacity: 0.8;
      }

      .play-toggle:hover {
        transform: translateY(-1px) translateZ(0);
        filter: brightness(1.02);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.8),
          0 22px 50px rgba(8, 47, 73, 0.98),
          0 0 32px rgba(56, 189, 248, 0.9);
      }

      .play-toggle:active {
        transform: translateY(0);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 12px 24px rgba(8, 47, 73, 0.9);
      }

      .play-toggle .icon-pause {
        display: none;
      }

      .is-playing .play-toggle .icon-play {
        display: none;
      }

      .is-playing .play-toggle .icon-pause {
        display: block;
      }

      .is-playing .play-toggle-sub[data-state="idle"] {
        display: none;
      }

      .play-toggle-sub[data-state="live"] {
        display: none;
      }

      .is-playing .play-toggle-sub[data-state="live"] {
        display: inline;
      }

      .ai-notes {
        border-radius: 18px;
        border: 1px dashed rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top, #020617, #020617);
        padding: 9px 12px;
        font-size: 11px;
        color: var(--text-soft);
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .ai-notes-header {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .ai-notes-header span {
        font-weight: 500;
        color: var(--text-main);
      }

      .ai-notes-chip {
        font-size: 10px;
        color: var(--text-dim);
        border-radius: 999px;
        padding: 2px 7px;
        border: 1px solid rgba(148, 163, 184, 0.6);
      }

      .ai-notes-body {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
      }

      .ai-notes-pill {
        border-radius: 999px;
        padding: 3px 7px;
        background-color: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.5);
        color: var(--text-soft);
      }

      .ai-notes-pill strong {
        color: var(--accent-strong);
        font-weight: 500;
      }

      .episodes-panel {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .episodes-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .episodes-header-left {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .episodes-eyebrow {
        font-size: 11px;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: var(--text-dim);
      }

      .episodes-title {
        font-size: 16px;
        color: var(--text-strong);
        font-weight: 600;
      }

      .episodes-caption {
        font-size: 12px;
        color: var(--text-soft);
      }

      .episodes-filter {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border-radius: 999px;
        padding: 5px 10px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top, #020617, #020617);
        font-size: 11px;
        color: var(--text-soft);
      }

      .episodes-filter svg {
        width: 13px;
        height: 13px;
        opacity: 0.75;
      }

      .episodes-list {
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        gap: 8px;
        max-height: 420px;
        overflow: auto;
        padding-right: 2px;
      }

      .episodes-list::-webkit-scrollbar {
        width: 4px;
      }

      .episodes-list::-webkit-scrollbar-track {
        background: transparent;
      }

      .episodes-list::-webkit-scrollbar-thumb {
        background: rgba(148, 163, 184, 0.6);
        border-radius: 999px;
      }

      @media (min-width: 1100px) {
        .episodes-list {
          max-height: 460px;
        }
      }

      .episode-card {
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.96),
          rgba(15, 23, 42, 0.9)
        );
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto;
        gap: 10px;
        padding: 8px 10px;
        align-items: center;
        cursor: pointer;
        transition: border-color var(--transition-med),
          background-color var(--transition-med),
          box-shadow var(--transition-med), transform var(--transition-fast);
      }

      .episode-card:hover {
        border-color: rgba(56, 189, 248, 0.9);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 20px 40px rgba(15, 23, 42, 0.95),
          0 0 34px rgba(56, 189, 248, 0.6);
        transform: translateY(-1px);
      }

      .episode-card:active {
        transform: translateY(0);
        box-shadow: 0 12px 30px rgba(15, 23, 42, 0.9);
      }

      .episode-card-cover {
        width: 40px;
        height: 40px;
        border-radius: 15px;
        background: radial-gradient(circle at 30% 20%, #e5e7eb, #0ea5e9);
        padding: 1px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 10px 26px rgba(15, 23, 42, 0.9);
      }

      .episode-card-cover-inner {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background: radial-gradient(circle at 30% 30%, #020617, #020617);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }

      .episode-card-meta {
        display: flex;
        flex-direction: column;
        gap: 4px;
        min-width: 0;
      }

      .episode-card-topline {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 11px;
        color: var(--text-dim);
      }

      .episode-chip {
        border-radius: 999px;
        padding: 2px 7px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        font-size: 10px;
        color: var(--text-soft);
        background: radial-gradient(circle at top, #020617, #020617);
      }

      .episode-card-title {
        font-size: 13px;
        font-weight: 600;
        color: var(--text-strong);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .episode-card-sub {
        font-size: 12px;
        color: var(--text-soft);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .episode-card-meta-footer {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 11px;
        color: var(--text-dim);
      }

      .meta-dot {
        width: 3px;
        height: 3px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.9);
      }

      .episode-card-cta {
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }

      .episode-play {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.65);
        background: radial-gradient(circle at top, #020617, #020617);
        padding: 6px 9px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background-color var(--transition-fast),
          border-color var(--transition-fast), transform var(--transition-fast),
          box-shadow var(--transition-fast), color var(--transition-fast);
      }

      .episode-play svg {
        width: 15px;
        height: 15px;
        color: #e5e7eb;
      }

      .episode-card.is-active {
        border-color: rgba(56, 189, 248, 0.95);
        background: radial-gradient(circle at top, #020617, #020617);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 20px 40px rgba(8, 47, 73, 0.95),
          0 0 38px rgba(56, 189, 248, 0.7);
      }

      .episode-card.is-active .episode-play {
        background: radial-gradient(circle at 0 0, var(--accent-strong), #0ea5e9);
        border-color: rgba(34, 211, 238, 0.9);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 16px 36px rgba(8, 47, 73, 0.95),
          0 0 30px rgba(56, 189, 248, 0.8);
      }

      .episode-card.is-active .episode-play svg {
        color: #020617;
      }

      .chapters-panel {
        border-radius: 16px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top, #020617, #020617);
        padding: 10px 11px;
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .chapters-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 6px;
        font-size: 11px;
        color: var(--text-soft);
      }

      .chapters-header span {
        font-weight: 500;
        color: var(--text-main);
      }

      .chapters-list {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
      }

      .chapter-chip {
        border-radius: 999px;
        padding: 4px 9px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: radial-gradient(circle at top, #020617, #020617);
        color: var(--text-soft);
        font-size: 11px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        transition: background-color var(--transition-fast),
          border-color var(--transition-fast), color var(--transition-fast),
          transform var(--transition-fast), box-shadow var(--transition-fast);
      }

      .chapter-chip-time {
        color: var(--text-dim);
      }

      .chapter-chip:hover {
        border-color: rgba(56, 189, 248, 0.85);
        color: var(--text-main);
        transform: translateY(-1px);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 14px 28px rgba(15, 23, 42, 0.95);
      }

      .chapter-chip.is-active {
        border-color: rgba(56, 189, 248, 0.98);
        background: radial-gradient(circle at 0 0, var(--accent-strong), #0ea5e9);
        color: #020617;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 16px 34px rgba(8, 47, 73, 0.96),
          0 0 30px rgba(56, 189, 248, 0.85);
      }

      .chapter-chip.is-active .chapter-chip-time {
        color: rgba(15, 23, 42, 0.8);
      }

      .player-shell {
        position: fixed;
        left: 50%;
        bottom: 18px;
        transform: translateX(-50%);
        width: min(960px, calc(100% - 24px));
        z-index: 40;
        pointer-events: none;
      }

      @media (max-width: 480px) {
        .player-shell {
          bottom: 12px;
          width: calc(100% - 16px);
        }
      }

      .player-card {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: radial-gradient(circle at top, #020617ee, #020617f7);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 24px 50px rgba(0, 0, 0, 0.95),
          0 0 40px rgba(15, 23, 42, 0.95);
        padding: 9px 12px;
        display: grid;
        grid-template-columns: minmax(0, 1.35fr) minmax(0, 1.4fr) minmax(0, 0.8fr);
        gap: 10px;
        align-items: center;
        pointer-events: auto;
        backdrop-filter: blur(var(--glass-blur));
      }

      @media (max-width: 900px) {
        .player-card {
          grid-template-columns: minmax(0, 1.8fr) minmax(0, 1.2fr);
          grid-template-rows: auto auto;
        }

        .player-meta {
          grid-row: 1;
          grid-column: 1 / -1;
        }

        .player-center {
          grid-row: 2;
          grid-column: 1;
        }

        .player-right {
          grid-row: 2;
          grid-column: 2;
        }
      }

      @media (max-width: 640px) {
        .player-card {
          grid-template-columns: minmax(0, 1fr);
          grid-template-rows: auto auto auto;
          border-radius: 20px;
        }

        .player-meta,
        .player-center,
        .player-right {
          grid-column: 1;
        }
      }

      .player-meta {
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 0;
      }

      .player-cover {
        width: 40px;
        height: 40px;
        border-radius: 16px;
        background: radial-gradient(circle at 30% 20%, #e5e7eb, #0ea5e9);
        padding: 1px;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 12px 26px rgba(15, 23, 42, 0.9);
      }

      .player-cover-inner {
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background: radial-gradient(circle at 30% 30%, #020617, #020617);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }

      .player-meta-text {
        display: flex;
        flex-direction: column;
        gap: 2px;
        min-width: 0;
      }

      .player-title {
        font-size: 13px;
        font-weight: 600;
        color: var(--text-strong);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .player-subtitle {
        font-size: 12px;
        color: var(--text-soft);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .player-meta-tags {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 11px;
        color: var(--text-dim);
      }

      .player-center {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .player-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .player-button {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: radial-gradient(circle at top, #020617, #020617);
        padding: 6px 8px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #e5e7eb;
        transition: background-color var(--transition-fast),
          border-color var(--transition-fast), transform var(--transition-fast),
          box-shadow var(--transition-fast), color var(--transition-fast);
      }

      .player-button svg {
        width: 16px;
        height: 16px;
      }

      .player-button:hover {
        border-color: rgba(148, 163, 184, 0.9);
        box-shadow: 0 10px 25px rgba(15, 23, 42, 0.95);
        transform: translateY(-1px);
      }

      .player-toggle-main {
        padding-inline: 10px;
        background: radial-gradient(circle at 0 0, var(--accent-strong), #0ea5e9);
        border-color: rgba(34, 211, 238, 0.9);
        color: #020617;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 1),
          0 18px 40px rgba(8, 47, 73, 0.96),
          0 0 34px rgba(56, 189, 248, 0.8);
      }

      .player-toggle-main .icon-pause {
        display: none;
      }

      .is-playing .player-toggle-main .icon-play {
        display: none;
      }

      .is-playing .player-toggle-main .icon-pause {
        display: block;
      }

      .player-progress {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 10px;
        color: var(--text-dim);
      }

      .player-progress-track {
        position: relative;
        flex: 1;
        height: 6px;
        border-radius: 999px;
        background: radial-gradient(
          circle at top,
          rgba(15, 23, 42, 0.95),
          rgba(15, 23, 42, 1)
        );
        overflow: hidden;
        cursor: pointer;
      }

      .player-progress-fill {
        position: absolute;
        inset: 0;
        width: 0%;
        background: linear-gradient(
          90deg,
          rgba(248, 250, 252, 0.7),
          var(--accent-strong)
        );
      }

      .player-progress-handle {
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 12px;
        height: 12px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #f9fafb, var(--accent-strong));
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 0 16px rgba(56, 189, 248, 0.8);
        pointer-events: none;
      }

      .player-right {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        font-size: 11px;
        color: var(--text-soft);
      }

      .player-metadata-stat {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .player-metadata-stat span:first-child {
        font-size: 10px;
        color: var(--text-dim);
      }

      .player-metadata-stat span:last-child {
        font-size: 11px;
        color: var(--text-main);
      }

      .volume-control {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .volume-track {
        position: relative;
        width: 70px;
        height: 6px;
        border-radius: 999px;
        background: radial-gradient(
          circle at top,
          rgba(15, 23, 42, 0.95),
          rgba(15, 23, 42, 1)
        );
        cursor: pointer;
        overflow: hidden;
      }

      .volume-fill {
        position: absolute;
        inset: 0;
        width: 80%;
        background: linear-gradient(
          90deg,
          rgba(148, 163, 184, 0.5),
          rgba(148, 163, 184, 0.9)
        );
      }

      .volume-handle {
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 10px;
        height: 10px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 30%, #e5e7eb, #9ca3af);
        box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9);
        pointer-events: none;
      }

      .visually-hidden {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }

      .app-footer {
        margin-top: 4px;
        font-size: 11px;
        color: var(--text-dim);
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
      }

      .app-footer span {
        opacity: 0.9;
      }

      .app-footer a {
        color: var(--text-soft);
        text-decoration: none;
        border-bottom: 1px solid rgba(148, 163, 184, 0.4);
      }

      .app-footer a:hover {
        color: var(--text-main);
        border-color: rgba(248, 250, 252, 0.7);
      }

      @media (max-width: 640px) {
        .app-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .header-right {
          align-self: stretch;
          justify-content: space-between;
        }

        .app-footer {
          flex-direction: column;
          align-items: flex-start;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell" id="app">
      <header class="app-header">
        <div class="app-header-main">
          <div class="logo-mark">
            <div class="logo-core">
              <span>â—Ž</span>
            </div>
          </div>
          <div class="app-title">
            <div class="app-title-main">
              <span>OpenAI.fm</span>
              <span>experimental radio</span>
            </div>
            <div class="app-subtitle">
              Longâ€‘form conversations, sound experiments, and AIâ€‘native radio.
            </div>
          </div>
        </div>
        <div class="header-right">
          <div class="pill" aria-hidden="true">
            <div class="pill-dot"></div>
            <div>
              <div class="pill-label">Live mix</div>
              <div class="pill-caption">Now streaming from synthetic studio</div>
            </div>
          </div>
          <nav class="header-links" aria-label="Primary">
            <button class="header-link" data-scroll-target="episodes">
              <span>Episodes</span>
              <svg viewBox="0 0 20 20" aria-hidden="true">
                <path
                  d="M6 4.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0V6.81l-7.22 7.23a.75.75 0 1 1-1.06-1.06L12.44 5.75H6.75A.75.75 0 0 1 6 4.75Z"
                  fill="currentColor"
                />
              </svg>
            </button>
            <button class="header-link" data-scroll-target="chapters">
              <span>Chapters</span>
              <svg viewBox="0 0 20 20" aria-hidden="true">
                <path
                  d="M4.75 5A.75.75 0 0 1 5.5 4.25h9a.75.75 0 0 1 0 1.5h-9A.75.75 0 0 1 4.75 5Zm0 4A.75.75 0 0 1 5.5 8.25h9a.75.75 0 0 1 0 1.5h-9A.75.75 0 0 1 4.75 9Zm0 4A.75.75 0 0 1 5.5 12.25h5a.75.75 0 0 1 0 1.5h-5a.75.75 0 0 1-.75-.75Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </nav>
        </div>
      </header>

      <main class="app-main">
        <section class="panel" aria-labelledby="hero-heading">
          <div class="panel-inner">
            <div class="hero-top">
              <div class="hero-copy">
                <div class="eyebrow">
                  <div class="eyebrow-dot"></div>
                  <span>AIâ€‘native listening</span>
                </div>
                <h1 class="hero-title" id="hero-heading">
                  Radio for <span>builders, researchers, and dreamers</span>.
                </h1>
                <p class="hero-subtitle">
                  A continuous stream of conversations about alignment, tooling, and
                  creative frontiers â€” recorded with humans, remixed with models.
                </p>
                <div class="hero-tags">
                  <span class="hero-tag">
                    <svg viewBox="0 0 20 20" aria-hidden="true">
                      <path
                        d="M10 2.25a.75.75 0 0 1 .67.42l1.65 3.35 3.7.54a.75.75 0 0 1 .41 1.28l-2.68 2.6.63 3.68a.75.75 0 0 1-1.09.79L10 13.89l-3.29 1.72a.75.75 0 0 1-1.09-.79l.63-3.68-2.68-2.6a.75.75 0 0 1 .41-1.28l3.7-.54 1.65-3.35A.75.75 0 0 1 10 2.25Z"
                        fill="currentColor"
                      />
                    </svg>
                    Curated by humans, scored by models
                  </span>
                  <span class="hero-tag">
                    <svg viewBox="0 0 20 20" aria-hidden="true">
                      <path
                        d="M3.75 4A.75.75 0 0 1 4.5 3.25h11a.75.75 0 0 1 .75.75v9.5a.75.75 0 0 1-.75.75H4.5a.75.75 0 0 1-.75-.75V4Zm1.5.75v8h9.5v-8h-9.5Zm1 1.5a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"
                        fill="currentColor"
                      />
                    </svg>
                    Rich transcripts & semantic chapters
                  </span>
                </div>
              </div>
              <div class="orbit-labels" aria-hidden="true">
                <div class="orbit-label">
                  <div class="orbit-label-badge"></div>
                  research &amp; safety
                </div>
                <div class="orbit-label">
                  <div class="orbit-label-badge"></div>
                  tools, infra, &amp; evals
                </div>
                <div class="orbit-label">
                  <div class="orbit-label-badge"></div>
                  creative experiments
                </div>
              </div>
            </div>

            <div class="hero-main">
              <div class="visualizer-shell" aria-hidden="true">
                <canvas id="visualizer"></canvas>
                <div class="visualizer-layer">
                  <div class="visualizer-orbit-ring"></div>
                  <div class="visualizer-core-ring"></div>
                  <div class="visualizer-glow"></div>
                  <div class="visualizer-metadata">
                    <div class="visualizer-chip-dot"></div>
                    <span>AI DJ mode Â· <strong id="hero-episode-label">Intro mix</strong></span>
                  </div>
                  <div class="visualizer-state">
                    <div class="visualizer-state-icon">
                      <svg viewBox="0 0 20 20" aria-hidden="true">
                        <path
                          d="M5 4.75A.75.75 0 0 1 5.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H6.5v4.25a.75.75 0 0 1-1.5 0V4.75Zm7 0A.75.75 0 0 1 12.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H13.5v4.25a.75.75 0 0 1-1.5 0V4.75Z"
                          fill="currentColor"
                        />
                      </svg>
                    </div>
                    <span id="visualizer-state-label">Visualizer idle Â· press play</span>
                  </div>
                </div>
              </div>

              <div class="hero-footer">
                <section
                  class="now-playing"
                  aria-label="Now playing"
                  data-role="now-playing"
                >
                  <div class="now-playing-cover" aria-hidden="true">
                    <div class="now-playing-cover-inner" id="now-playing-emoji">
                      ðŸŽ§
                    </div>
                  </div>
                  <div class="now-playing-meta">
                    <div class="now-playing-title" id="now-playing-title">
                      Loadingâ€¦
                    </div>
                    <div class="now-playing-guest" id="now-playing-guest">
                      â€”
                    </div>
                    <div class="now-playing-meta-footer">
                      <span class="pill-mini" id="now-playing-chip">AI conversation</span>
                      <span>
                        <span id="now-playing-episode-index">E01</span>
                        Â·
                        <span id="now-playing-duration">00:00</span>
                      </span>
                    </div>
                  </div>
                  <div class="now-playing-cta">
                    <button
                      class="play-toggle"
                      type="button"
                      aria-label="Play or pause"
                      data-action="toggle-play"
                    >
                      <span class="icon icon-play" aria-hidden="true">
                        <svg viewBox="0 0 20 20">
                          <path
                            d="M7.25 4.9c0-1.02 1.1-1.65 1.99-1.12l6.03 3.6c.85.51.85 1.73 0 2.24l-6.03 3.6c-.89.53-1.99-.1-1.99-1.12V4.9Z"
                            fill="currentColor"
                          />
                        </svg>
                      </span>
                      <span class="icon icon-pause" aria-hidden="true">
                        <svg viewBox="0 0 20 20">
                          <path
                            d="M6 4.75A.75.75 0 0 1 6.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H7.5v4.25a.75.75 0 0 1-1.5 0V4.75Zm7 0A.75.75 0 0 1 13.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H14.5v4.25a.75.75 0 0 1-1.5 0V4.75Z"
                            fill="currentColor"
                          />
                        </svg>
                      </span>
                      <span class="play-toggle-label">
                        Listen
                        <span class="play-toggle-sub" data-state="idle">
                          Â· 3 curated episodes
                        </span>
                        <span class="play-toggle-sub" data-state="live">
                          Â· Now playing
                        </span>
                      </span>
                    </button>
                  </div>
                </section>

                <section
                  class="ai-notes"
                  aria-label="AI generated show notes summary"
                >
                  <div class="ai-notes-header">
                    <span>Instant AI show notes</span>
                    <span class="ai-notes-chip">semantic summary Â· live</span>
                  </div>
                  <div class="ai-notes-body" id="ai-notes">
                    <span class="ai-notes-pill">
                      <strong>Alignment</strong> Â· fast intuition for safety tradeâ€‘offs
                    </span>
                    <span class="ai-notes-pill">
                      <strong>Tooling</strong> Â· what the team is building behind the
                      scenes
                    </span>
                    <span class="ai-notes-pill">
                      <strong>Creative</strong> Â· playful experiments with language and
                      sound
                    </span>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" aria-labelledby="episodes-heading">
          <div class="panel-inner episodes-panel">
            <header class="episodes-header">
              <div class="episodes-header-left">
                <span class="episodes-eyebrow">Featured drops</span>
                <h2 class="episodes-title" id="episodes-heading">
                  Three episodes to start with
                </h2>
                <p class="episodes-caption">
                  Click any card to jump the stream, or let the queue flow in order.
                </p>
              </div>
              <div class="episodes-filter" aria-hidden="true">
                <svg viewBox="0 0 20 20">
                  <path
                    d="M4 5.25A.75.75 0 0 1 4.75 4.5h10.5a.75.75 0 0 1 .53 1.28L12 9.56v4.69a.75.75 0 0 1-1.1.67l-2.5-1.39a.75.75 0 0 1-.4-.66V9.56L4.22 5.78A.75.75 0 0 1 4 5.25Z"
                    fill="currentColor"
                  />
                </svg>
                <span>Sequence tuned for new listeners</span>
              </div>
            </header>

            <div
              class="episodes-list"
              id="episodes"
              aria-label="Episode list"
            ></div>

            <section
              class="chapters-panel"
              aria-label="Semantic chapter navigation"
              id="chapters"
            >
              <header class="chapters-header">
                <span>Semantic chapters</span>
                <span id="chapters-label">Autoâ€‘generated per episode</span>
              </header>
              <div class="chapters-list" id="chapters-list"></div>
            </section>
          </div>
        </section>
      </main>

      <footer class="app-footer">
        <span>
          Built as an OpenAI.fmâ€‘inspired demo. Audio, transcripts, and
          personalities are synthetic.
        </span>
        <span>
          Prototype UI &amp; visualizer by
          <a href="#hero-heading">an AI assistant</a>.
        </span>
      </footer>
    </div>

    <div class="player-shell" aria-label="Global playback controls">
      <section class="player-card" aria-live="polite">
        <div class="player-meta">
          <div class="player-cover" aria-hidden="true">
            <div class="player-cover-inner" id="player-emoji">ðŸŽ§</div>
          </div>
          <div class="player-meta-text">
            <div class="player-title" id="player-title">Loadingâ€¦</div>
            <div class="player-subtitle" id="player-subtitle">â€”</div>
            <div class="player-meta-tags">
              <span id="player-tag">AI conversation</span>
              <span class="meta-dot"></span>
              <span id="player-series">OpenAI.fm experiments</span>
            </div>
          </div>
        </div>

        <div class="player-center">
          <div class="player-controls">
            <button
              class="player-button"
              type="button"
              aria-label="Previous episode"
              data-action="prev"
            >
              <svg viewBox="0 0 20 20">
                <path
                  d="M4.75 4A.75.75 0 0 1 5.5 4.75v10.5a.75.75 0 0 1-1.5 0V4.75A.75.75 0 0 1 4.75 4ZM8.1 4.3 15 8.33c.89.53.89 1.81 0 2.34L8.1 14.7C7.12 15.3 6 14.56 6 13.44V5.56C6 4.44 7.12 3.7 8.1 4.3Z"
                  fill="currentColor"
                />
              </svg>
            </button>
            <button
              class="player-button player-toggle-main"
              type="button"
              aria-label="Play or pause"
              data-action="toggle-play"
            >
              <span class="icon icon-play" aria-hidden="true">
                <svg viewBox="0 0 20 20">
                  <path
                    d="M7.25 4.9c0-1.02 1.1-1.65 1.99-1.12l6.03 3.6c.85.51.85 1.73 0 2.24l-6.03 3.6c-.89.53-1.99-.1-1.99-1.12V4.9Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
              <span class="icon icon-pause" aria-hidden="true">
                <svg viewBox="0 0 20 20">
                  <path
                    d="M6 4.75A.75.75 0 0 1 6.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H7.5v4.25a.75.75 0 0 1-1.5 0V4.75Zm7 0A.75.75 0 0 1 13.75 4h2.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-1.5 0V11H14.5v4.25a.75.75 0 0 1-1.5 0V4.75Z"
                    fill="currentColor"
                  />
                </svg>
              </span>
            </button>
            <button
              class="player-button"
              type="button"
              aria-label="Next episode"
              data-action="next"
            >
              <svg viewBox="0 0 20 20">
                <path
                  d="M15.25 4A.75.75 0 0 1 16 4.75v10.5a.75.75 0 0 1-1.5 0V4.75A.75.75 0 0 1 15.25 4ZM6.9 4.3 13.8 8.33c.89.53.89 1.81 0 2.34L6.9 14.7C5.92 15.3 4.8 14.56 4.8 13.44V5.56C4.8 4.44 5.92 3.7 6.9 4.3Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>

          <div
            class="player-progress"
            role="slider"
            aria-label="Playback position"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
            tabindex="0"
            id="player-progress-slider"
          >
            <span class="player-time" id="player-time-current">0:00</span>
            <div class="player-progress-track" id="player-progress-track">
              <div class="player-progress-fill" id="player-progress-fill"></div>
              <div class="player-progress-handle" id="player-progress-handle"></div>
            </div>
            <span class="player-time" id="player-time-total">0:00</span>
          </div>
        </div>

        <div class="player-right">
          <div class="player-metadata-stat">
            <span>Now playing</span>
            <span id="player-episode-index">E01 Â· Queue</span>
          </div>
          <div class="volume-control" aria-label="Volume control">
            <svg viewBox="0 0 20 20" aria-hidden="true">
              <path
                d="M10.25 4.3a.75.75 0 0 0-1.13-.63L6.4 5.91H4.75A1.75 1.75 0 0 0 3 7.66v2.68A1.75 1.75 0 0 0 4.75 12.1H6.4l2.72 2.24a.75.75 0 0 0 1.23-.57V4.3Z"
                fill="currentColor"
              />
              <path
                d="M13.2 6.4a.75.75 0 0 1 1.06.06 4.36 4.36 0 0 1 0 5.08.75.75 0 1 1-1.12-.98 2.86 2.86 0 0 0 0-3.12.75.75 0 0 1 .06-1.04Z"
                fill="currentColor"
              />
            </svg>
            <div class="volume-track" id="volume-track">
              <div class="volume-fill" id="volume-fill"></div>
              <div class="volume-handle" id="volume-handle"></div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <audio id="audio-element" class="visually-hidden" crossorigin="anonymous"></audio>

    <script>
      (function () {
        const episodes = [
          {
            id: "alignment",
            indexLabel: "E01",
            emoji: "ðŸŽ™ï¸",
            title: "Alignment, interfaces, and the shape of progress",
            guest: "w/ an OpenAI research lead & a model",
            series: "Studio conversations",
            tag: "Research & safety",
            accent: "#22d3ee",
            accentSoft: "rgba(56, 189, 248, 0.18)",
            durationLabel: "53:21",
            estimatedMinutes: 53,
            vibe: "Deep dive Â· calm Â· considered",
            audioUrl:
              "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
            chapters: [
              { label: "Why alignment feels different now", at: 30 },
              { label: "Interfaces as safety rails", at: 480 },
              { label: "Models, agency & tools", at: 1320 },
              { label: "Open problems ahead", at: 2160 },
            ],
            notes: [
              "Concrete intuitions for <strong>practical alignment work</strong>.",
              "How product surfaces become <strong>safety layers</strong>.",
              "Where evals, agents, and humans <strong>mesh together</strong>.",
            ],
          },
          {
            id: "tooling",
            indexLabel: "E02",
            emoji: "ðŸ› ï¸",
            title: "Building with models that build with you",
            guest: "w/ infra, API, and UX folks",
            series: "Developer stack",
            tag: "Tooling & platforms",
            accent: "#a855f7",
            accentSoft: "rgba(168, 85, 247, 0.18)",
            durationLabel: "47:09",
            estimatedMinutes: 47,
            vibe: "Handsâ€‘on Â· fast paced",
            audioUrl:
              "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
            chapters: [
              { label: "Designing agents like products", at: 40 },
              { label: "Latency, loops & DX", at: 540 },
              { label: "Orchestrating many tools", at: 1320 },
              { label: "Shipping safely at speed", at: 2040 },
            ],
            notes: [
              "What it means to <strong>ship with an agent</strong> on your team.",
              "APIs, memory, and <strong>feedbackâ€‘rich loops</strong>.",
              "Stories from the infra that keeps <strong>OpenAI.fm online</strong>.",
            ],
          },
          {
            id: "creative",
            indexLabel: "E03",
            emoji: "ðŸŒŒ",
            title: "Models as instruments, not just tools",
            guest: "w/ musicians, artists, and researchers",
            series: "Creative experiments",
            tag: "Play & exploration",
            accent: "#22c55e",
            accentSoft: "rgba(34, 197, 94, 0.2)",
            durationLabel: "41:36",
            estimatedMinutes: 41,
            vibe: "Playful Â· textured Â· surprising",
            audioUrl:
              "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",
            chapters: [
              { label: "The studio as a playground", at: 25 },
              { label: "Composing with constraints", at: 480 },
              { label: "Audio, images, and code", at: 1260 },
              { label: "What feels genuinely new", at: 2040 },
            ],
            notes: [
              "Treating models as <strong>creative collaborators</strong>.",
              "Liveâ€‘coded textures and <strong>audioâ€‘reactive</strong> visuals.",
              "Where art, research, and play <strong>collide</strong>.",
            ],
          },
        ];

        const audio = document.getElementById("audio-element");
        const appRoot = document.getElementById("app");

        const nowPlayingEmoji = document.getElementById("now-playing-emoji");
        const nowPlayingTitle = document.getElementById("now-playing-title");
        const nowPlayingGuest = document.getElementById("now-playing-guest");
        const nowPlayingChip = document.getElementById("now-playing-chip");
        const nowPlayingEpisodeIndex = document.getElementById(
          "now-playing-episode-index",
        );
        const nowPlayingDuration = document.getElementById(
          "now-playing-duration",
        );

        const aiNotesContainer = document.getElementById("ai-notes");
        const heroEpisodeLabel = document.getElementById("hero-episode-label");
        const visualizerStateLabel = document.getElementById(
          "visualizer-state-label",
        );

        const episodesList = document.getElementById("episodes");
        const chaptersList = document.getElementById("chapters-list");
        const chaptersLabel = document.getElementById("chapters-label");

        const playerEmoji = document.getElementById("player-emoji");
        const playerTitle = document.getElementById("player-title");
        const playerSubtitle = document.getElementById("player-subtitle");
        const playerTag = document.getElementById("player-tag");
        const playerEpisodeIndex = document.getElementById(
          "player-episode-index",
        );

        const playToggles = Array.from(
          document.querySelectorAll('[data-action="toggle-play"]'),
        );

        const playerProgressTrack = document.getElementById(
          "player-progress-track",
        );
        const playerProgressFill = document.getElementById(
          "player-progress-fill",
        );
        const playerProgressHandle = document.getElementById(
          "player-progress-handle",
        );
        const playerTimeCurrent = document.getElementById(
          "player-time-current",
        );
        const playerTimeTotal = document.getElementById("player-time-total");
        const playerSlider = document.getElementById("player-progress-slider");

        const volumeTrack = document.getElementById("volume-track");
        const volumeFill = document.getElementById("volume-fill");
        const volumeHandle = document.getElementById("volume-handle");

        const headerLinks = Array.from(
          document.querySelectorAll(".header-link[data-scroll-target]"),
        );

        let currentIndex = 0;
        let isPlaying = false;
        let isSeeking = false;
        let isScrubbing = false;
        let isVolumeScrubbing = false;

        let audioContext;
        let analyser;
        let analyserData;
        let sourceNode;
        let rafId;

        const visualizerCanvas = document.getElementById("visualizer");
        const visCtx = visualizerCanvas.getContext("2d");
        let visWidth = 0;
        let visHeight = 0;

        function setAccent(accent, accentSoft) {
          const rootStyle = document.documentElement.style;
          rootStyle.setProperty("--accent", accent);
          rootStyle.setProperty("--accent-strong", accent);
          rootStyle.setProperty("--accent-soft", accentSoft);
        }

        function formatTime(seconds) {
          if (!isFinite(seconds) || seconds < 0) return "0:00";
          const m = Math.floor(seconds / 60);
          const s = Math.floor(seconds % 60)
            .toString()
            .padStart(2, "0");
          return m + ":" + s;
        }

        function syncUiWithEpisode(ep) {
          nowPlayingEmoji.textContent = ep.emoji;
          nowPlayingTitle.textContent = ep.title;
          nowPlayingGuest.textContent = ep.guest;
          nowPlayingChip.textContent = ep.tag;
          nowPlayingEpisodeIndex.textContent = ep.indexLabel;
          nowPlayingDuration.textContent = ep.durationLabel;
          heroEpisodeLabel.textContent = ep.indexLabel + " Â· " + ep.series;

          playerEmoji.textContent = ep.emoji;
          playerTitle.textContent = ep.title;
          playerSubtitle.textContent = ep.guest;
          playerTag.textContent = ep.tag;
          playerEpisodeIndex.textContent = ep.indexLabel + " Â· Queue";

          syncAiNotes(ep);
          syncChapters(ep);
        }

        function syncAiNotes(ep) {
          aiNotesContainer.innerHTML = "";
          (ep.notes || []).forEach((html) => {
            const span = document.createElement("span");
            span.className = "ai-notes-pill";
            span.innerHTML = html;
            aiNotesContainer.appendChild(span);
          });
        }

        function syncChapters(ep) {
          chaptersList.innerHTML = "";
          const chapters = ep.chapters || [];
          if (!chapters.length) {
            chaptersLabel.textContent = "No chapters available for this episode yet";
            return;
          }
          chaptersLabel.textContent =
            "Tap a chapter to jump Â· " + chapters.length + " segments";
          chapters.forEach((chapter, index) => {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "chapter-chip";
            btn.dataset.index = String(index);
            btn.innerHTML =
              '<span class="chapter-chip-label">' +
              chapter.label +
              '</span><span class="chapter-chip-time">' +
              formatTime(chapter.at) +
              "</span>";
            btn.addEventListener("click", () => {
              if (!isFinite(audio.duration) || !audio.src) return;
              audio.currentTime = Math.min(chapter.at, audio.duration - 1);
              if (!isPlaying) {
                play();
              }
            });
            chaptersList.appendChild(btn);
          });
        }

        function highlightActiveChapter() {
          const ep = episodes[currentIndex];
          const chapters = ep.chapters || [];
          if (!chapters.length) return;
          const now = audio.currentTime || 0;
          let activeIndex = 0;
          for (let i = 0; i < chapters.length; i++) {
            if (now >= chapters[i].at) {
              activeIndex = i;
            } else {
              break;
            }
          }
          const chips = Array.from(
            chaptersList.querySelectorAll(".chapter-chip"),
          );
          chips.forEach((chip, idx) => {
            chip.classList.toggle("is-active", idx === activeIndex);
          });
        }

        function renderEpisodeList() {
          episodesList.innerHTML = "";
          episodes.forEach((ep, index) => {
            const card = document.createElement("article");
            card.className = "episode-card";
            card.dataset.index = String(index);
            card.innerHTML = `
              <div class="episode-card-cover" aria-hidden="true">
                <div class="episode-card-cover-inner">${ep.emoji}</div>
              </div>
              <div class="episode-card-meta">
                <div class="episode-card-topline">
                  <span class="episode-chip">${ep.indexLabel}</span>
                  <span class="episode-chip">${ep.tag}</span>
                  <span>${ep.series}</span>
                </div>
                <div class="episode-card-title">${ep.title}</div>
                <div class="episode-card-sub">${ep.guest}</div>
                <div class="episode-card-meta-footer">
                  <span>${ep.durationLabel}</span>
                  <span class="meta-dot"></span>
                  <span>${ep.vibe}</span>
                </div>
              </div>
              <div class="episode-card-cta">
                <button
                  type="button"
                  class="episode-play"
                  aria-label="Play ${ep.title}"
                >
                  <svg viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      d="M7.25 4.9c0-1.02 1.1-1.65 1.99-1.12l6.03 3.6c.85.51.85 1.73 0 2.24l-6.03 3.6c-.89.53-1.99-.1-1.99-1.12V4.9Z"
                      fill="currentColor"
                    />
                  </svg>
                </button>
              </div>
            `;
            card.addEventListener("click", (event) => {
              const target = event.target;
              if (target.closest && target.closest("button")) {
                event.stopPropagation();
              }
              if (index === currentIndex && isPlaying) {
                pause();
              } else if (index === currentIndex && !isPlaying) {
                play();
              } else {
                setCurrentEpisode(index, true);
              }
            });
            const playButton = card.querySelector("button.episode-play");
            if (playButton) {
              playButton.addEventListener("click", (event) => {
                event.stopPropagation();
                if (index === currentIndex && isPlaying) {
                  pause();
                } else {
                  setCurrentEpisode(index, true);
                }
              });
            }
            episodesList.appendChild(card);
          });
          syncEpisodeListActiveState();
        }

        function syncEpisodeListActiveState() {
          const cards = Array.from(
            episodesList.querySelectorAll(".episode-card"),
          );
          cards.forEach((card, index) => {
            card.classList.toggle("is-active", index === currentIndex);
          });
        }

        function setCurrentEpisode(index, autoPlay) {
          currentIndex = (index + episodes.length) % episodes.length;
          const ep = episodes[currentIndex];
          audio.src = ep.audioUrl;
          audio.load();
          syncUiWithEpisode(ep);
          syncEpisodeListActiveState();
          setAccent(ep.accent, ep.accentSoft);
          playerTimeCurrent.textContent = "0:00";
          playerTimeTotal.textContent = ep.durationLabel;
          setProgress(0);
          highlightActiveChapter();
          visualizerStateLabel.textContent = "Visualizer armed Â· press play";
          if (autoPlay) {
            play();
          }
        }

        function play() {
          if (!audio.src) {
            setCurrentEpisode(currentIndex, false);
          }
          ensureAudioGraph();
          audio
            .play()
            .then(() => {
              isPlaying = true;
              updatePlayingState();
              startVisualizerLoop();
            })
            .catch(() => {
              isPlaying = false;
              updatePlayingState();
            });
        }

        function pause() {
          audio.pause();
          isPlaying = false;
          updatePlayingState();
          stopVisualizerLoop();
        }

        function togglePlay() {
          if (isPlaying) {
            pause();
          } else {
            play();
          }
        }

        function next() {
          setCurrentEpisode(currentIndex + 1, isPlaying);
        }

        function previous() {
          setCurrentEpisode(currentIndex - 1, isPlaying);
        }

        function updatePlayingState() {
          if (isPlaying) {
            appRoot.classList.add("is-playing");
            visualizerStateLabel.textContent = "Visualizer live Â· reacting to audio";
          } else {
            appRoot.classList.remove("is-playing");
            visualizerStateLabel.textContent = "Visualizer paused";
          }
        }

        function setProgress(percent) {
          const clamped = Math.max(0, Math.min(100, percent));
          playerProgressFill.style.width = clamped + "%";
          playerProgressHandle.style.left = clamped + "%";
          playerSlider.setAttribute("aria-valuenow", String(clamped));
        }

        function handleTimeUpdate() {
          if (isSeeking || isScrubbing) return;
          const current = audio.currentTime || 0;
          const duration = audio.duration || 0;
          if (!duration) return;
          const percent = (current / duration) * 100;
          setProgress(percent);
          playerTimeCurrent.textContent = formatTime(current);
          playerTimeTotal.textContent = formatTime(duration);
          highlightActiveChapter();
        }

        function handleLoadedMetadata() {
          const duration = audio.duration || 0;
          if (duration) {
            playerTimeTotal.textContent = formatTime(duration);
          }
        }

        function handleSeekFromClient(clientX) {
          const rect = playerProgressTrack.getBoundingClientRect();
          const ratio = (clientX - rect.left) / rect.width;
          const clamped = Math.max(0, Math.min(1, ratio || 0));
          const duration = audio.duration || 0;
          const newTime = duration * clamped;
          setProgress(clamped * 100);
          playerTimeCurrent.textContent = formatTime(newTime);
          if (duration) {
            audio.currentTime = newTime;
          }
        }

        function handleVolumeFromClient(clientX) {
          const rect = volumeTrack.getBoundingClientRect();
          const ratio = (clientX - rect.left) / rect.width;
          const clamped = Math.max(0, Math.min(1, ratio || 0));
          audio.volume = clamped;
          const percent = clamped * 100;
          volumeFill.style.width = percent + "%";
          volumeHandle.style.left = percent + "%";
        }

        function ensureAudioGraph() {
          if (audioContext) return;
          const AC =
            window.AudioContext ||
            // eslint-disable-next-line no-undef
            window.webkitAudioContext;
          if (!AC) {
            return;
          }
          audioContext = new AC();
          analyser = audioContext.createAnalyser();
          analyser.fftSize = 256;
          const bufferLength = analyser.frequencyBinCount;
          analyserData = new Uint8Array(bufferLength);
          sourceNode = audioContext.createMediaElementSource(audio);
          sourceNode.connect(analyser);
          analyser.connect(audioContext.destination);
        }

        function resizeVisualizer() {
          if (!visualizerCanvas) return;
          const rect = visualizerCanvas.getBoundingClientRect();
          const dpr = window.devicePixelRatio || 1;
          visualizerCanvas.width = rect.width * dpr;
          visualizerCanvas.height = rect.height * dpr;
          visWidth = visualizerCanvas.width;
          visHeight = visualizerCanvas.height;
          visCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
        }

        function startVisualizerLoop() {
          if (!analyser || !visCtx) return;
          if (rafId) return;
          resizeVisualizer();
          const bars = 72;

          function draw() {
            if (!analyser) return;
            analyser.getByteFrequencyData(analyserData);
            const width = visWidth;
            const height = visHeight;
            visCtx.clearRect(0, 0, width, height);

            const cx = width / (window.devicePixelRatio || 1) / 2;
            const cy = height / (window.devicePixelRatio || 1) / 2;
            const baseRadius =
              Math.min(width, height) / (window.devicePixelRatio || 1) / 4;

            const gradient = visCtx.createRadialGradient(
              cx,
              cy * 0.8,
              baseRadius * 0.1,
              cx,
              cy,
              baseRadius * 1.6,
            );
            gradient.addColorStop(0, "rgba(248, 250, 252, 0.14)");
            gradient.addColorStop(0.5, "rgba(56, 189, 248, 0.25)");
            gradient.addColorStop(1, "rgba(15, 23, 42, 0.0)");
            visCtx.fillStyle = gradient;
            visCtx.fillRect(
              0,
              0,
              width / (window.devicePixelRatio || 1),
              height / (window.devicePixelRatio || 1),
            );

            for (let i = 0; i < bars; i++) {
              const dataIndex = Math.floor(
                (i / bars) * analyserData.length * 0.9,
              );
              const value = analyserData[dataIndex] / 255;
              const angle = (i / bars) * Math.PI * 2;
              const barBaseRadius = baseRadius * (0.8 + value * 0.6);
              const barLength = baseRadius * 0.7 * value + 10;

              const innerX = cx + Math.cos(angle) * barBaseRadius;
              const innerY = cy + Math.sin(angle) * barBaseRadius;
              const outerX = cx + Math.cos(angle) * (barBaseRadius + barLength);
              const outerY = cy + Math.sin(angle) * (barBaseRadius + barLength);

              const hue = 180 + value * 120 + i * 2;
              visCtx.strokeStyle =
                "hsla(" +
                hue +
                ", 90%, " +
                (60 + value * 20) +
                "%, " +
                (0.18 + value * 0.9) +
                ")";
              visCtx.lineWidth = 1.6 + value * 3;
              visCtx.beginPath();
              visCtx.moveTo(innerX, innerY);
              visCtx.lineTo(outerX, outerY);
              visCtx.stroke();
            }

            visCtx.beginPath();
            visCtx.arc(cx, cy, baseRadius * 0.8, 0, Math.PI * 2);
            visCtx.strokeStyle = "rgba(15, 23, 42, 0.9)";
            visCtx.lineWidth = 12;
            visCtx.stroke();

            visCtx.beginPath();
            visCtx.arc(cx, cy, baseRadius * 0.52, 0, Math.PI * 2);
            visCtx.strokeStyle = "rgba(148, 163, 184, 0.35)";
            visCtx.lineWidth = 1;
            visCtx.stroke();

            visCtx.beginPath();
            visCtx.arc(cx, cy, baseRadius * 0.42, 0, Math.PI * 2);
            visCtx.strokeStyle = "rgba(248, 250, 252, 0.15)";
            visCtx.setLineDash([4, 5]);
            visCtx.lineWidth = 1;
            visCtx.stroke();
            visCtx.setLineDash([]);

            rafId = window.requestAnimationFrame(draw);
          }

          rafId = window.requestAnimationFrame(draw);
        }

        function stopVisualizerLoop() {
          if (rafId) {
            window.cancelAnimationFrame(rafId);
            rafId = undefined;
          }
        }

        function handleEnded() {
          next();
        }

        playToggles.forEach((btn) =>
          btn.addEventListener("click", () => togglePlay()),
        );

        const prevButton = document.querySelector(
          'button[data-action="prev"]',
        );
        const nextButton = document.querySelector(
          'button[data-action="next"]',
        );
        if (prevButton) prevButton.addEventListener("click", () => previous());
        if (nextButton) nextButton.addEventListener("click", () => next());

        playerProgressTrack.addEventListener("mousedown", (event) => {
          isScrubbing = true;
          handleSeekFromClient(event.clientX);
        });

        window.addEventListener("mousemove", (event) => {
          if (isScrubbing) {
            handleSeekFromClient(event.clientX);
          }
          if (isVolumeScrubbing) {
            handleVolumeFromClient(event.clientX);
          }
        });

        window.addEventListener("mouseup", () => {
          if (isScrubbing) {
            isScrubbing = false;
          }
          if (isVolumeScrubbing) {
            isVolumeScrubbing = false;
          }
        });

        playerProgressTrack.addEventListener(
          "touchstart",
          (event) => {
            const touch = event.touches[0];
            if (!touch) return;
            isScrubbing = true;
            handleSeekFromClient(touch.clientX);
          },
          { passive: true },
        );

        window.addEventListener(
          "touchmove",
          (event) => {
            if (!isScrubbing && !isVolumeScrubbing) return;
            const touch = event.touches[0];
            if (!touch) return;
            if (isScrubbing) {
              handleSeekFromClient(touch.clientX);
            }
            if (isVolumeScrubbing) {
              handleVolumeFromClient(touch.clientX);
            }
          },
          { passive: true },
        );

        window.addEventListener("touchend", () => {
          if (isScrubbing) {
            isScrubbing = false;
          }
          if (isVolumeScrubbing) {
            isVolumeScrubbing = false;
          }
        });

        playerSlider.addEventListener("keydown", (event) => {
          if (event.key !== "ArrowLeft" && event.key !== "ArrowRight") return;
          event.preventDefault();
          const duration = audio.duration || 0;
          if (!duration) return;
          const delta = event.key === "ArrowRight" ? 5 : -5;
          const nextTime = Math.min(
            Math.max(0, (audio.currentTime || 0) + delta),
            duration,
          );
          audio.currentTime = nextTime;
        });

        volumeTrack.addEventListener("mousedown", (event) => {
          isVolumeScrubbing = true;
          handleVolumeFromClient(event.clientX);
        });

        volumeTrack.addEventListener(
          "touchstart",
          (event) => {
            const touch = event.touches[0];
            if (!touch) return;
            isVolumeScrubbing = true;
            handleVolumeFromClient(touch.clientX);
          },
          { passive: true },
        );

        window.addEventListener("keydown", (event) => {
          if (
            event.repeat ||
            event.target instanceof HTMLInputElement ||
            event.target instanceof HTMLTextAreaElement ||
            event.metaKey ||
            event.ctrlKey ||
            event.altKey
          ) {
            return;
          }
          if (event.code === "Space") {
            event.preventDefault();
            togglePlay();
          } else if (event.key === "ArrowRight") {
            if (audio.duration) {
              audio.currentTime = Math.min(
                audio.currentTime + 10,
                audio.duration,
              );
            }
          } else if (event.key === "ArrowLeft") {
            audio.currentTime = Math.max(audio.currentTime - 10, 0);
          } else if (event.key === "ArrowUp") {
            event.preventDefault();
            audio.volume = Math.min(1, audio.volume + 0.05);
            const percent = audio.volume * 100;
            volumeFill.style.width = percent + "%";
            volumeHandle.style.left = percent + "%";
          } else if (event.key === "ArrowDown") {
            event.preventDefault();
            audio.volume = Math.max(0, audio.volume - 0.05);
            const percent = audio.volume * 100;
            volumeFill.style.width = percent + "%";
            volumeHandle.style.left = percent + "%";
          }
        });

        headerLinks.forEach((link) => {
          const targetId = link.getAttribute("data-scroll-target");
          if (!targetId) return;
          link.addEventListener("click", () => {
            const el = document.getElementById(targetId);
            if (!el) return;
            const rect = el.getBoundingClientRect();
            const offset = rect.top + window.scrollY - 80;
            window.scrollTo({
              top: offset,
              behavior: "smooth",
            });
          });
        });

        window.addEventListener("resize", resizeVisualizer);
        audio.addEventListener("timeupdate", handleTimeUpdate);
        audio.addEventListener("loadedmetadata", handleLoadedMetadata);
        audio.addEventListener("ended", handleEnded);

        function init() {
          const initialEpisode = episodes[0];
          syncUiWithEpisode(initialEpisode);
          renderEpisodeList();
          setAccent(initialEpisode.accent, initialEpisode.accentSoft);
          playerTimeCurrent.textContent = "0:00";
          playerTimeTotal.textContent = initialEpisode.durationLabel;
          setProgress(0);
          audio.volume = 0.8;
          volumeFill.style.width = audio.volume * 100 + "%";
          volumeHandle.style.left = audio.volume * 100 + "%";
          resizeVisualizer();
        }

        if (document.readyState === "complete" || document.readyState === "interactive") {
          init();
        } else {
          document.addEventListener("DOMContentLoaded", init);
        }
      })();
    </script>
  </body>
</html>

