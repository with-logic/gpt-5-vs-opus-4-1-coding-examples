<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Event Countdown</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Create a beautiful live countdown page for your next event."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: dark;
        --accent: #7cf9d2;
        --accent-soft: rgba(124, 249, 210, 0.18);
        --accent-strong: rgba(124, 249, 210, 0.4);
        --bg: #040615;
        --bg-elevated: rgba(10, 14, 40, 0.9);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --text-main: #f9fafb;
        --text-soft: #9ca3af;
        --danger: #f97373;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        background: radial-gradient(circle at top, #15192f 0, #020617 40%, #000 90%);
        color: var(--text-main);
        -webkit-font-smoothing: antialiased;
      }

      body {
        min-height: 100vh;
        display: flex;
        align-items: stretch;
        justify-content: center;
        padding: 24px;
        overflow: hidden;
      }

      .app-shell {
        position: relative;
        flex: 1;
        max-width: 1160px;
        border-radius: 28px;
        overflow: hidden;
        border: 1px solid rgba(148, 163, 184, 0.25);
        background:
          radial-gradient(circle at top left, rgba(56, 189, 248, 0.23), transparent 55%),
          radial-gradient(circle at bottom right, rgba(219, 39, 119, 0.18), transparent 55%),
          linear-gradient(145deg, rgba(15, 23, 42, 0.96), rgba(2, 6, 23, 0.98));
        box-shadow:
          0 40px 120px rgba(15, 23, 42, 0.85),
          0 0 0 1px rgba(148, 163, 184, 0.35),
          0 0 60px rgba(94, 234, 212, 0.22);
        backdrop-filter: blur(18px) saturate(1.2);
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
        isolation: isolate;
      }

      @media (max-width: 900px) {
        body {
          padding: 12px;
        }
        .app-shell {
          grid-template-columns: minmax(0, 1fr);
          max-width: 100%;
          max-height: 100vh;
        }
      }

      .background-layer {
        position: absolute;
        inset: -10%;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0.5;
        transform: translate3d(0, 0, 0) scale(1.08);
        transition: opacity 450ms ease-out;
        filter: saturate(1.2) contrast(1.05) brightness(0.95) blur(2px);
        z-index: -2;
        pointer-events: none;
      }

      .background-layer::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.35), transparent 55%),
          linear-gradient(to bottom right, rgba(15, 23, 42, 0.88), rgba(15, 23, 42, 0.96));
        mix-blend-mode: multiply;
      }

      .background-layer.placeholder {
        background-image: radial-gradient(
            circle at 20% 0%,
            rgba(59, 130, 246, 0.35),
            transparent 55%
          ),
          radial-gradient(
            circle at 80% 120%,
            rgba(236, 72, 153, 0.42),
            transparent 45%
          ),
          radial-gradient(circle at 10% 80%, rgba(45, 212, 191, 0.5), transparent 50%);
        opacity: 0.8;
        filter: blur(0);
      }

      .glass-fade {
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top left, rgba(148, 163, 184, 0.15), transparent 55%),
          radial-gradient(circle at bottom right, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.98));
        z-index: -1;
      }

      .app-content {
        position: relative;
        display: grid;
        grid-template-columns: minmax(0, 1.05fr) minmax(0, 1.3fr);
        width: 100%;
        height: 100%;
      }

      @media (max-width: 900px) {
        .app-content {
          grid-template-columns: minmax(0, 1fr);
          grid-auto-rows: minmax(0, auto);
        }
      }

      .panel {
        padding: 24px 28px;
        position: relative;
      }

      @media (max-width: 600px) {
        .panel {
          padding: 18px 18px 20px;
        }
      }

      .panel--left {
        border-right: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.7), rgba(15, 23, 42, 0.96));
      }

      @media (max-width: 900px) {
        .panel--left {
          border-right: none;
          border-bottom: 1px solid rgba(148, 163, 184, 0.4);
          background: rgba(15, 23, 42, 0.9);
        }
      }

      .panel--right {
        position: relative;
        padding-left: 24px;
        padding-right: 24px;
      }

      @media (max-width: 900px) {
        .panel--right {
          padding-top: 16px;
        }
      }

      .logo-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 18px;
      }

      .logomark {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .logomark-badge {
        width: 30px;
        height: 30px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 10%, #e5e7eb 0, #111827 45%, #020617 100%);
        box-shadow:
          0 0 0 1px rgba(148, 163, 184, 0.5),
          0 6px 18px rgba(15, 23, 42, 0.9),
          0 0 18px rgba(94, 234, 212, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .logomark-badge svg {
        width: 18px;
        height: 18px;
      }

      .logomark-text-main {
        font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        font-weight: 600;
        letter-spacing: 0.08em;
        font-size: 0.73rem;
        text-transform: uppercase;
        color: #e5e7eb;
      }

      .logomark-text-sub {
        font-size: 0.7rem;
        color: var(--text-soft);
      }

      .pill {
        padding: 6px 11px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: radial-gradient(circle at top, rgba(148, 163, 184, 0.2), transparent 70%),
          rgba(15, 23, 42, 0.65);
        color: var(--text-soft);
        font-size: 0.7rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        backdrop-filter: blur(10px);
      }

      .pill-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 0%, #fef3c7, #f97316);
        box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.22);
        animation: pulse-glow 2.1s ease-out infinite;
      }

      @keyframes pulse-glow {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.3);
        }
        40% {
          transform: scale(1.12);
          box-shadow: 0 0 0 8px rgba(249, 115, 22, 0.05);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 2px transparent;
        }
      }

      .title-block {
        margin-bottom: 18px;
      }

      .title-block h1 {
        margin: 0 0 6px;
        font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        font-weight: 600;
        letter-spacing: 0.04em;
        font-size: 1.6rem;
        text-transform: uppercase;
      }

      .title-block p {
        margin: 0;
        font-size: 0.9rem;
        color: var(--text-soft);
      }

      .form {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 10px;
      }

      .field-row {
        display: flex;
        gap: 10px;
      }

      .field-row .field {
        flex: 1;
      }

      @media (max-width: 600px) {
        .field-row {
          flex-direction: column;
        }
      }

      .field {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .field-label-row {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 8px;
      }

      label {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.11em;
        color: #e5e7eb;
        opacity: 0.9;
      }

      .field-hint {
        font-size: 0.7rem;
        color: var(--text-soft);
      }

      .input-shell {
        position: relative;
        border-radius: 999px;
        border: 1px solid var(--border-subtle);
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.98));
        overflow: hidden;
      }

      .input-shell:focus-within {
        border-color: rgba(148, 163, 184, 0.85);
        box-shadow:
          0 0 0 1px rgba(148, 163, 184, 0.8),
          0 0 0 14px rgba(148, 163, 184, 0.08);
      }

      .input,
      .input-file {
        width: 100%;
        border: none;
        outline: none;
        background: transparent;
        color: var(--text-main);
        padding: 9px 12px;
        font-size: 0.86rem;
      }

      .input::placeholder {
        color: rgba(148, 163, 184, 0.7);
      }

      .input[type="datetime-local"]::-webkit-calendar-picker-indicator {
        filter: invert(0.8);
      }

      .input-pill-addon {
        position: absolute;
        right: 7px;
        top: 50%;
        transform: translateY(-50%);
        padding: 2px 9px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.9);
        background: radial-gradient(circle at top, rgba(148, 163, 184, 0.32), transparent 75%),
          rgba(15, 23, 42, 0.8);
        font-size: 0.68rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        color: #e5e7eb;
        pointer-events: none;
      }

      .file-input-shell {
        display: flex;
        align-items: center;
        gap: 9px;
        border-radius: 999px;
        padding: 7px 10px 7px 9px;
      }

      .file-input-shell span {
        flex: 1;
        font-size: 0.8rem;
        color: rgba(148, 163, 184, 0.9);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .file-input-shell button {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.9);
        background: radial-gradient(circle at top, rgba(148, 163, 184, 0.32), transparent 75%),
          rgba(15, 23, 42, 0.8);
        color: #e5e7eb;
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        padding: 5px 10px;
        cursor: pointer;
      }

      .file-input-shell button:hover {
        background: radial-gradient(circle at top, rgba(148, 163, 184, 0.5), transparent 75%),
          rgba(15, 23, 42, 0.95);
      }

      .input-file {
        display: none;
      }

      .helper-text {
        margin-top: 6px;
        font-size: 0.74rem;
        color: var(--text-soft);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .helper-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(to bottom right, #22c55e, #16a34a);
      }

      .controls-row {
        margin-top: 14px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
      }

      .primary-cta {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 9px 18px;
        border-radius: 999px;
        border: 1px solid rgba(56, 189, 248, 0.9);
        background: radial-gradient(circle at top left, rgba(34, 211, 238, 0.4), transparent 65%),
          linear-gradient(135deg, rgba(45, 212, 191, 0.95), rgba(59, 130, 246, 0.98));
        color: #0b1220;
        font-size: 0.78rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.11em;
        cursor: pointer;
        box-shadow:
          0 12px 35px rgba(56, 189, 248, 0.48),
          0 0 0 1px rgba(8, 47, 73, 0.9);
        transition:
          transform 160ms ease,
          box-shadow 160ms ease,
          background 160ms ease,
          opacity 100ms ease;
      }

      .primary-cta[disabled] {
        opacity: 0.45;
        cursor: default;
        box-shadow: none;
      }

      .primary-cta:not([disabled]):hover {
        transform: translateY(-1px);
        box-shadow:
          0 15px 40px rgba(56, 189, 248, 0.6),
          0 0 0 1px rgba(15, 23, 42, 1);
      }

      .primary-cta svg {
        width: 15px;
        height: 15px;
      }

      .secondary-text {
        font-size: 0.72rem;
        color: rgba(148, 163, 184, 0.9);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .secondary-text svg {
        width: 13px;
        height: 13px;
      }

      .secondary-text strong {
        color: #e5e7eb;
        font-weight: 500;
      }

      .error-text {
        font-size: 0.72rem;
        color: var(--danger);
        margin-top: 6px;
        min-height: 0.9em;
      }

      .preview-shell {
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .preview-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        margin-bottom: 6px;
      }

      .preview-label {
        text-transform: uppercase;
        letter-spacing: 0.12em;
        font-size: 0.68rem;
        color: rgba(209, 213, 219, 0.9);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .preview-label span {
        display: inline-flex;
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 0%, #bfdbfe, #60a5fa);
        box-shadow: 0 0 0 5px rgba(59, 130, 246, 0.32);
      }

      .preview-sub {
        font-size: 0.7rem;
        color: rgba(148, 163, 184, 0.95);
      }

      .preview-card {
        position: relative;
        flex: 1;
        border-radius: 24px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        overflow: hidden;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.15), transparent 60%),
          rgba(15, 23, 42, 0.92);
        box-shadow:
          inset 0 0 0 1px rgba(15, 23, 42, 0.9),
          0 20px 60px rgba(15, 23, 42, 0.9);
        display: flex;
        padding: 18px 18px 16px;
      }

      @media (max-width: 900px) {
        .preview-card {
          margin-bottom: 4px;
        }
      }

      .preview-inner {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        width: 100%;
      }

      .preview-gradient-overlay {
        position: absolute;
        inset: -1px;
        background:
          radial-gradient(circle at 0% 0%, rgba(15, 23, 42, 0.2), transparent 60%),
          radial-gradient(circle at 100% 0%, rgba(8, 47, 73, 0.5), transparent 55%),
          radial-gradient(circle at 50% 120%, rgba(30, 64, 175, 0.85), rgba(15, 23, 42, 0.95));
        mix-blend-mode: soft-light;
        opacity: 0.9;
        z-index: 0;
      }

      .preview-top-row {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 10px;
      }

      .badge {
        padding: 5px 9px;
        border-radius: 999px;
        background: radial-gradient(circle at top, rgba(15, 23, 42, 0.85), rgba(15, 23, 42, 0.96));
        border: 1px solid rgba(148, 163, 184, 0.8);
        font-size: 0.68rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: rgba(209, 213, 219, 0.95);
        display: inline-flex;
        align-items: center;
        gap: 7px;
      }

      .badge-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: radial-gradient(circle at 20% 0%, #bbf7d0, #22c55e);
        box-shadow: 0 0 0 5px rgba(34, 197, 94, 0.28);
      }

      .event-meta {
        text-align: right;
        font-size: 0.7rem;
        color: rgba(209, 213, 219, 0.92);
        display: flex;
        flex-direction: column;
        gap: 2px;
        align-items: flex-end;
      }

      .event-meta span {
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .event-meta svg {
        width: 12px;
        height: 12px;
      }

      .event-meta-location {
        font-weight: 500;
      }

      .event-title {
        margin-top: 14px;
        margin-bottom: 0;
        font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-size: 1.15rem;
      }

      .event-subtitle {
        margin-top: 4px;
        margin-bottom: 14px;
        font-size: 0.8rem;
        color: rgba(209, 213, 219, 0.9);
      }

      .countdown-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: 8px;
        margin-top: 4px;
      }

      @media (max-width: 600px) {
        .countdown-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .countdown-unit {
        position: relative;
        padding: 10px 8px 9px;
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.65);
        background:
          linear-gradient(to bottom, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.98)),
          radial-gradient(circle at top, rgba(15, 23, 42, 0.5), transparent 65%);
        backdrop-filter: blur(10px);
        overflow: hidden;
      }

      .countdown-unit::before {
        content: "";
        position: absolute;
        inset: -1px;
        background: radial-gradient(circle at top, rgba(148, 163, 184, 0.4), transparent 60%);
        opacity: 0;
        pointer-events: none;
      }

      .countdown-unit.changed::before {
        animation: glow-flash 450ms ease-out;
      }

      @keyframes glow-flash {
        0% {
          opacity: 0.85;
        }
        100% {
          opacity: 0;
        }
      }

      .countdown-number {
        position: relative;
        z-index: 1;
        font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        font-weight: 700;
        font-size: clamp(2.4rem, 3.4vw + 1rem, 3.8rem);
        letter-spacing: 0.15em;
        text-align: center;
        text-shadow:
          0 0 18px rgba(15, 23, 42, 0.85),
          0 0 45px rgba(15, 23, 42, 0.9);
        transform-origin: center bottom;
      }

      .countdown-unit.changed .countdown-number {
        animation: tick-pop 450ms cubic-bezier(0.22, 1, 0.36, 1);
      }

      @keyframes tick-pop {
        0% {
          transform: translateY(0) scale(1);
          filter: brightness(1);
        }
        30% {
          transform: translateY(-6px) scale(1.07);
          filter: brightness(1.18);
        }
        100% {
          transform: translateY(0) scale(1);
          filter: brightness(1);
        }
      }

      .countdown-label {
        position: relative;
        z-index: 1;
        margin-top: 2px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: rgba(148, 163, 184, 0.98);
        text-align: center;
      }

      .status-row {
        margin-top: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        font-size: 0.74rem;
        color: rgba(209, 213, 219, 0.95);
      }

      .status-pill {
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.8);
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      .status-pill span {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(to bottom right, #22c55e, #16a34a);
      }

      .status-message {
        font-size: 0.74rem;
        color: rgba(209, 213, 219, 0.94);
        text-align: right;
      }

      .status-message--warning {
        color: #fbbf24;
      }

      .status-message--ended {
        color: var(--danger);
      }

      .scroll-hint {
        position: absolute;
        right: 14px;
        bottom: 10px;
        font-size: 0.7rem;
        color: rgba(148, 163, 184, 0.9);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .scroll-hint svg {
        width: 11px;
        height: 11px;
      }

      @media (min-width: 901px) {
        .scroll-hint {
          display: none;
        }
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    </style>
  </head>
  <body>
    <main class="app-shell" aria-label="Event Countdown Builder">
      <div
        class="background-layer placeholder"
        id="backgroundLayer"
        aria-hidden="true"
      ></div>
      <div class="glass-fade" aria-hidden="true"></div>
      <section class="app-content">
        <section class="panel panel--left" aria-label="Event details form">
          <div class="logo-row">
            <div class="logomark" aria-label="Event Countdown">
              <div class="logomark-badge">
                <svg viewBox="0 0 32 32" aria-hidden="true">
                  <defs>
                    <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0" stop-color="#38bdf8" />
                      <stop offset="1" stop-color="#22c55e" />
                    </linearGradient>
                    <linearGradient id="g2" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0" stop-color="#e5e7eb" />
                      <stop offset="1" stop-color="#94a3b8" />
                    </linearGradient>
                  </defs>
                  <rect
                    x="4"
                    y="4"
                    width="24"
                    height="24"
                    rx="8"
                    fill="url(#g2)"
                  />
                  <path
                    d="M10 17.5 14.2 22l7.8-12"
                    fill="none"
                    stroke="url(#g1)"
                    stroke-width="2.4"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
              <div>
                <div class="logomark-text-main">Event Countdown</div>
                <div class="logomark-text-sub">Design your perfect moment</div>
              </div>
            </div>
            <div class="pill" aria-hidden="true">
              <span class="pill-dot"></span>
              Live preview as you type
            </div>
          </div>

          <header class="title-block">
            <h1>Build your event hero</h1>
            <p>
              Name your event, choose the moment, drop in your venue and
              artwork. We&#8217;ll handle the cinematic countdown.
            </p>
          </header>

          <form class="form" id="eventForm" autocomplete="off" novalidate>
            <div class="field">
              <div class="field-label-row">
                <label for="eventName">Event name</label>
                <span class="field-hint">Visible as the hero title</span>
              </div>
              <div class="input-shell">
                <input
                  id="eventName"
                  class="input"
                  type="text"
                  name="eventName"
                  placeholder="Product Launch Night"
                  maxlength="80"
                  required
                />
              </div>
            </div>

            <div class="field-row">
              <div class="field">
                <div class="field-label-row">
                  <label for="eventDate">Date &amp; time</label>
                  <span class="field-hint">Local time zone</span>
                </div>
                <div class="input-shell">
                  <input
                    id="eventDate"
                    class="input"
                    type="datetime-local"
                    name="eventDate"
                    required
                  />
                  <span class="input-pill-addon">Live</span>
                </div>
              </div>
              <div class="field">
                <div class="field-label-row">
                  <label for="eventLocation">Location</label>
                  <span class="field-hint">Optional but recommended</span>
                </div>
                <div class="input-shell">
                  <input
                    id="eventLocation"
                    class="input"
                    type="text"
                    name="eventLocation"
                    placeholder="SoHo Loft · New York"
                    maxlength="120"
                  />
                </div>
              </div>
            </div>

            <div class="field">
              <div class="field-label-row">
                <label for="bgUpload">Background artwork</label>
                <span class="field-hint">High‑res landscape works best</span>
              </div>
              <div class="input-shell file-input-shell">
                <span id="fileLabel">No file selected yet</span>
                <button type="button" id="fileButton">Upload</button>
                <input
                  id="bgUpload"
                  class="input-file"
                  type="file"
                  accept="image/*"
                  aria-label="Upload background image"
                />
              </div>
              <p class="helper-text">
                <span class="helper-dot"></span>
                Your image stays in the browser &mdash; nothing is uploaded.
              </p>
            </div>

            <div class="controls-row">
              <button
                type="button"
                id="saveCalendarBtn"
                class="primary-cta"
                disabled
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M7 5.5V4m10 1.5V4M6 9.5h12M6.5 5H17.5A1.5 1.5 0 0 1 19 6.5v11A1.5 1.5 0 0 1 17.5 19H6.5A1.5 1.5 0 0 1 5 17.5v-11A1.5 1.5 0 0 1 6.5 5Z"
                    fill="none"
                    stroke="#020617"
                    stroke-width="1.5"
                    stroke-linecap="round"
                  />
                  <path
                    d="m9 13.5 1.8 1.8L15 11.1"
                    fill="none"
                    stroke="#020617"
                    stroke-width="1.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Save to Calendar
              </button>

              <div class="secondary-text">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M4 12h8m0 0 4-4m-4 4 4 4"
                    fill="none"
                    stroke="rgba(148,163,184,0.9)"
                    stroke-width="1.4"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Updates mirror instantly in the preview.
              </div>
            </div>

            <p id="errorMessage" class="error-text" role="status" aria-live="polite"></p>
          </form>
        </section>

        <section class="panel panel--right" aria-label="Countdown preview">
          <div class="preview-shell">
            <header class="preview-header">
              <div class="preview-label">
                <span aria-hidden="true"></span>
                Live event canvas
              </div>
              <div class="preview-sub">What your audience will see</div>
            </header>

            <section class="preview-card" aria-live="polite">
              <div class="preview-gradient-overlay" aria-hidden="true"></div>
              <div class="preview-inner">
                <div class="preview-top-row">
                  <div class="badge" aria-label="Event countdown active">
                    <span class="badge-dot"></span>
                    Countdown · Armed
                  </div>
                  <div class="event-meta" aria-label="Event schedule">
                    <span id="metaDate">
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path
                          d="M7 5.5V4m10 1.5V4M6 9.5h12M6.5 5H17.5A1.5 1.5 0 0 1 19 6.5v11A1.5 1.5 0 0 1 17.5 19H6.5A1.5 1.5 0 0 1 5 17.5v-11A1.5 1.5 0 0 1 6.5 5Z"
                          fill="none"
                          stroke="rgba(226,232,240,0.96)"
                          stroke-width="1.4"
                          stroke-linecap="round"
                        />
                      </svg>
                      <span>Pick a date to get started</span>
                    </span>
                    <span id="metaLocation" class="event-meta-location">
                      <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path
                          d="M12 4.75A4.25 4.25 0 0 0 7.75 9C7.75 11.899 10.5 15 12 17.25 13.5 15 16.25 11.899 16.25 9A4.25 4.25 0 0 0 12 4.75Z"
                          fill="none"
                          stroke="rgba(226,232,240,0.96)"
                          stroke-width="1.4"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                        <circle
                          cx="12"
                          cy="9"
                          r="1.6"
                          fill="rgba(226,232,240,0.96)"
                        />
                      </svg>
                      <span>Location coming soon</span>
                    </span>
                  </div>
                </div>

                <h2 id="previewTitle" class="event-title">
                  Untitled Launch Event
                </h2>
                <p id="previewSubtitle" class="event-subtitle">
                  Set the date to begin the countdown.
                </p>

                <div class="countdown-grid" aria-hidden="true">
                  <div class="countdown-unit">
                    <div id="days" class="countdown-number">000</div>
                    <div class="countdown-label">Days</div>
                  </div>
                  <div class="countdown-unit">
                    <div id="hours" class="countdown-number">00</div>
                    <div class="countdown-label">Hours</div>
                  </div>
                  <div class="countdown-unit">
                    <div id="minutes" class="countdown-number">00</div>
                    <div class="countdown-label">Minutes</div>
                  </div>
                  <div class="countdown-unit">
                    <div id="seconds" class="countdown-number">00</div>
                    <div class="countdown-label">Seconds</div>
                  </div>
                </div>

                <p class="sr-only" id="accessibleCountdown"></p>

                <div class="status-row">
                  <div class="status-pill">
                    <span aria-hidden="true"></span>
                    <span id="statusLabel">Idle · Awaiting event</span>
                  </div>
                  <p id="statusMessage" class="status-message">
                    Choose your date to start the countdown.
                  </p>
                </div>
              </div>
              <div class="scroll-hint">
                Drag to scroll
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M7 10.5 12 6l5 4.5M7 13.5 12 18l5-4.5"
                    fill="none"
                    stroke="rgba(148,163,184,0.9)"
                    stroke-width="1.4"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
            </section>
          </div>
        </section>
      </section>
    </main>

    <script>
      (function () {
        const eventNameEl = document.getElementById("eventName");
        const eventDateEl = document.getElementById("eventDate");
        const eventLocationEl = document.getElementById("eventLocation");
        const bgUploadEl = document.getElementById("bgUpload");
        const fileButtonEl = document.getElementById("fileButton");
        const fileLabelEl = document.getElementById("fileLabel");
        const saveCalendarBtn = document.getElementById("saveCalendarBtn");
        const errorMessageEl = document.getElementById("errorMessage");
        const backgroundLayerEl = document.getElementById("backgroundLayer");

        const previewTitleEl = document.getElementById("previewTitle");
        const previewSubtitleEl = document.getElementById("previewSubtitle");
        const metaDateEl = document.getElementById("metaDate").querySelector(
          "span:last-child"
        );
        const metaLocationEl = document
          .getElementById("metaLocation")
          .querySelector("span:last-child");
        const statusLabelEl = document.getElementById("statusLabel");
        const statusMessageEl = document.getElementById("statusMessage");
        const accessibleCountdownEl =
          document.getElementById("accessibleCountdown");

        const daysEl = document.getElementById("days");
        const hoursEl = document.getElementById("hours");
        const minutesEl = document.getElementById("minutes");
        const secondsEl = document.getElementById("seconds");

        let countdownInterval = null;
        let targetDate = null;

        function pad(num, length) {
          let str = String(Math.max(0, Math.floor(num)));
          while (str.length < length) str = "0" + str;
          return str;
        }

        function formatDateForMeta(date) {
          try {
            const locale = navigator.language || "en-US";
            const datePart = date.toLocaleDateString(locale, {
              weekday: "short",
              month: "short",
              day: "numeric",
              year: "numeric",
            });
            const timePart = date.toLocaleTimeString(locale, {
              hour: "numeric",
              minute: "2-digit",
            });
            return datePart + " · " + timePart;
          } catch {
            return date.toString();
          }
        }

        function updateCountdownVisuals(diffMs) {
          const totalSeconds = Math.max(0, Math.floor(diffMs / 1000));
          const seconds = totalSeconds % 60;
          const minutes = Math.floor(totalSeconds / 60) % 60;
          const hours = Math.floor(totalSeconds / 3600) % 24;
          const days = Math.floor(totalSeconds / (3600 * 24));

          const segments = [
            { el: daysEl, value: pad(days, 3) },
            { el: hoursEl, value: pad(hours, 2) },
            { el: minutesEl, value: pad(minutes, 2) },
            { el: secondsEl, value: pad(seconds, 2) },
          ];

          segments.forEach(({ el, value }) => {
            if (el.textContent !== value) {
              const unitEl = el.parentElement;
              unitEl.classList.remove("changed");
              // trigger reflow to restart animation
              void unitEl.offsetWidth;
              el.textContent = value;
              unitEl.classList.add("changed");
            }
          });

          const parts = [];
          if (days > 0) parts.push(days + " day" + (days === 1 ? "" : "s"));
          if (hours > 0) parts.push(hours + " hour" + (hours === 1 ? "" : "s"));
          if (minutes > 0)
            parts.push(minutes + " minute" + (minutes === 1 ? "" : "s"));
          if (seconds >= 0)
            parts.push(seconds + " second" + (seconds === 1 ? "" : "s"));

          accessibleCountdownEl.textContent =
            parts.length > 0
              ? "Event starts in " + parts.join(", ") + "."
              : "The event is starting now.";
        }

        function setStatusState(state) {
          if (!targetDate) {
            statusLabelEl.textContent = "Idle · Awaiting event";
            statusMessageEl.textContent =
              "Choose your date to start the countdown.";
            statusMessageEl.className = "status-message";
            return;
          }

          if (state === "upcoming") {
            statusLabelEl.textContent = "Armed · Counting down";
            statusMessageEl.textContent =
              "We\u2019ll keep this clock perfectly in sync.";
            statusMessageEl.className = "status-message";
          } else if (state === "imminent") {
            statusLabelEl.textContent = "Final moments";
            statusMessageEl.textContent = "It\u2019s almost time. Take a breath.";
            statusMessageEl.className =
              "status-message status-message--warning";
          } else if (state === "live") {
            statusLabelEl.textContent = "Live now";
            statusMessageEl.textContent =
              "The countdown has finished. Time to begin.";
            statusMessageEl.className = "status-message status-message--ended";
          }
        }

        function startCountdownLoop() {
          if (countdownInterval) {
            clearInterval(countdownInterval);
          }
          if (!targetDate) return;

          function tick() {
            const now = new Date();
            const diffMs = targetDate.getTime() - now.getTime();

            if (diffMs <= 0) {
              updateCountdownVisuals(0);
              setStatusState("live");
              clearInterval(countdownInterval);
              countdownInterval = null;
              return;
            }

            updateCountdownVisuals(diffMs);

            const minutesUntil = diffMs / 60000;
            if (minutesUntil <= 1) {
              setStatusState("imminent");
            } else {
              setStatusState("upcoming");
            }
          }

          tick();
          countdownInterval = window.setInterval(tick, 1000);
        }

        function parseLocalDateTime(value) {
          if (!value) return null;
          const date = new Date(value);
          if (Number.isNaN(date.getTime())) return null;
          return date;
        }

        function onDateChange() {
          const parsed = parseLocalDateTime(eventDateEl.value);
          const now = new Date();

          if (!parsed) {
            targetDate = null;
            errorMessageEl.textContent =
              "Enter a valid future date and time.";
            saveCalendarBtn.disabled = true;
            previewSubtitleEl.textContent =
              "Set the date to begin the countdown.";
            metaDateEl.textContent = "Pick a date to get started";
            setStatusState(null);
            updateCountdownVisuals(0);
            return;
          }

          if (parsed.getTime() <= now.getTime() + 15000) {
            targetDate = parsed;
            errorMessageEl.textContent =
              "The selected time is in the past or too close to now.";
          } else {
            targetDate = parsed;
            errorMessageEl.textContent = "";
          }

          metaDateEl.textContent = formatDateForMeta(parsed);
          previewSubtitleEl.textContent = "Counting down to this moment in time.";
          saveCalendarBtn.disabled = false;
          startCountdownLoop();
        }

        function onNameChange() {
          const name = eventNameEl.value.trim();
          previewTitleEl.textContent = name || "Untitled Launch Event";
        }

        function onLocationChange() {
          const location = eventLocationEl.value.trim();
          metaLocationEl.textContent = location || "Location coming soon";
        }

        function onFileUploadChange(event) {
          const file =
            event && event.target && event.target.files
              ? event.target.files[0]
              : null;
          if (!file) {
            fileLabelEl.textContent = "No file selected yet";
            backgroundLayerEl.classList.add("placeholder");
            backgroundLayerEl.style.backgroundImage = "";
            backgroundLayerEl.style.opacity = "0.8";
            return;
          }

          fileLabelEl.textContent = file.name;
          const reader = new FileReader();
          reader.onload = function (e) {
            const result = e.target && e.target.result;
            if (typeof result === "string") {
              backgroundLayerEl.classList.remove("placeholder");
              backgroundLayerEl.style.backgroundImage = "url('" + result + "')";
              backgroundLayerEl.style.opacity = "0.6";
            }
          };
          reader.readAsDataURL(file);
        }

        function createICSContent() {
          if (!targetDate) return null;

          const name =
            (eventNameEl.value || "Untitled Event").trim() ||
            "Untitled Event";
          const location = (eventLocationEl.value || "").trim();

          function escapeICS(text) {
            return text
              .replace(/\\/g, "\\\\")
              .replace(/,/g, "\\,")
              .replace(/;/g, "\\;")
              .replace(/\r?\n/g, "\\n");
          }

          const dtStart = targetDate;
          const dtEnd = new Date(dtStart.getTime() + 60 * 60 * 1000);

          function toICSDateUTC(date) {
            const pad2 = (n) => String(n).padStart(2, "0");
            return (
              date.getUTCFullYear().toString() +
              pad2(date.getUTCMonth() + 1) +
              pad2(date.getUTCDate()) +
              "T" +
              pad2(date.getUTCHours()) +
              pad2(date.getUTCMinutes()) +
              pad2(date.getUTCSeconds()) +
              "Z"
            );
          }

          const now = new Date();
          const uid =
            "event-countdown-" +
            now.getTime() +
            "-" +
            Math.random().toString(36).slice(2, 8) +
            "@local";

          const lines = [
            "BEGIN:VCALENDAR",
            "VERSION:2.0",
            "PRODID:-//Event Countdown//EN",
            "CALSCALE:GREGORIAN",
            "BEGIN:VEVENT",
            "UID:" + uid,
            "DTSTAMP:" + toICSDateUTC(now),
            "DTSTART:" + toICSDateUTC(dtStart),
            "DTEND:" + toICSDateUTC(dtEnd),
            "SUMMARY:" + escapeICS(name),
          ];

          if (location) {
            lines.push("LOCATION:" + escapeICS(location));
          }

          lines.push("END:VEVENT", "END:VCALENDAR", "");

          return lines.join("\r\n");
        }

        function onSaveCalendar() {
          if (!targetDate) {
            errorMessageEl.textContent =
              "Set a valid event date before saving.";
            return;
          }

          const ics = createICSContent();
          if (!ics) {
            errorMessageEl.textContent =
              "We couldn\u2019t generate a calendar invite.";
            return;
          }

          const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
          const url = URL.createObjectURL(blob);

          const name =
            (eventNameEl.value || "event").trim().replace(/[^\w\-]+/g, "-") ||
            "event";

          const a = document.createElement("a");
          a.href = url;
          a.download = name.toLowerCase() + "-invite.ics";
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);

          window.setTimeout(function () {
            URL.revokeObjectURL(url);
          }, 2000);
        }

        fileButtonEl.addEventListener("click", function () {
          bgUploadEl.click();
        });

        bgUploadEl.addEventListener("change", onFileUploadChange);
        eventNameEl.addEventListener("input", onNameChange);
        eventLocationEl.addEventListener("input", onLocationChange);
        eventDateEl.addEventListener("change", onDateChange);
        eventDateEl.addEventListener("input", onDateChange);
        saveCalendarBtn.addEventListener("click", onSaveCalendar);

        (function setupParallax() {
          let animationFrame = null;
          let latestX = 0.5;
          let latestY = 0.5;

          function applyParallax() {
            const xOffset = (latestX - 0.5) * 18;
            const yOffset = (latestY - 0.5) * 18;
            backgroundLayerEl.style.transform =
              "translate3d(" +
              xOffset.toFixed(1) +
              "px," +
              yOffset.toFixed(1) +
              "px,0) scale(1.08)";
            animationFrame = null;
          }

          function onPointerMove(e) {
            const width = window.innerWidth || 1;
            const height = window.innerHeight || 1;
            latestX = (e.clientX || width / 2) / width;
            latestY = (e.clientY || height / 2) / height;
            if (animationFrame === null) {
              animationFrame = window.requestAnimationFrame(applyParallax);
            }
          }

          document.addEventListener("pointermove", onPointerMove);

          window.addEventListener("scroll", function () {
            const maxOffset = 8;
            const scrollFactor = Math.min(
              1,
              window.scrollY / (window.innerHeight || 1)
            );
            const yShift = (scrollFactor - 0.5) * maxOffset;
            const currentTransform = backgroundLayerEl.style.transform || "";
            const match = currentTransform.match(/translate3d\(([^,]+),([^,]+),0\)/);
            let xPart = "0px";
            if (match) {
              xPart = match[1];
            }
            backgroundLayerEl.style.transform =
              "translate3d(" + xPart + "," + yShift.toFixed(1) + "px,0) scale(1.08)";
          });
        })();

        (function initDefaults() {
          const now = new Date();
          const defaultDate = new Date(now.getTime() + 24 * 60 * 60 * 1000);

          function toLocalInputValue(date) {
            const pad2 = (n) => String(n).padStart(2, "0");
            const year = date.getFullYear();
            const month = pad2(date.getMonth() + 1);
            const day = pad2(date.getDate());
            const hours = pad2(date.getHours());
            const minutes = pad2(date.getMinutes());
            return year + "-" + month + "-" + day + "T" + hours + ":" + minutes;
          }

          eventDateEl.value = toLocalInputValue(defaultDate);
          eventNameEl.value = "Launch Night";
          eventLocationEl.value = "Downtown Studio · Your City";

          onNameChange();
          onLocationChange();
          onDateChange();
        })();
      })();
    </script>
  </body>
</html>

