<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Artisan CSA — Hand-Drawn Farm Landing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Join Artisan CSA for seasonal, small-batch produce shares with a hand-drawn farm aesthetic and flexible weekly or bi-weekly plans."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Nunito:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light;
        --paper: #f7f1e6;
        --paper-deep: #efe2cf;
        --ink: #2e2620;
        --ink-soft: #5c4a3b;
        --accent-amber: #d79b43;
        --accent-sage: #a2b58b;
        --accent-sky: #9dbaca;
        --accent-rose: #d59a9a;
        --accent-deep: #6b4b38;
        --shadow-soft: 0 10px 25px rgba(56, 42, 31, 0.12);
        --radius-card: 18px;
        --radius-pill: 999px;
        --transition-fast: 180ms ease-out;
        --transition-med: 260ms ease-out;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        color: var(--ink-soft);
        background-color: var(--paper);
        scroll-behavior: smooth;
      }

      body {
        min-height: 100vh;
        line-height: 1.6;
        background-image: radial-gradient(
            circle at 10% 20%,
            rgba(255, 255, 255, 0.6),
            transparent 55%
          ),
          radial-gradient(
            circle at 80% 10%,
            rgba(255, 255, 255, 0.7),
            transparent 55%
          ),
          radial-gradient(
            circle at 10% 90%,
            rgba(255, 255, 255, 0.4),
            transparent 55%
          ),
          linear-gradient(135deg, #f9f4ea, #f3e6d4);
        background-attachment: fixed;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        opacity: 0.22;
        mix-blend-mode: multiply;
        background-image: url("data:image/svg+xml,%3Csvg width='160' height='160' viewBox='0 0 160 160' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='noStitch'/%3E%3C/fi%3Elter%3C/defs%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E");
      }

      .page-shell {
        max-width: 1120px;
        margin: 0 auto;
        padding: 1.5rem 1.25rem 4rem;
      }

      @media (min-width: 900px) {
        .page-shell {
          padding: 2.25rem 1.75rem 4.5rem;
        }
      }

      a {
        color: var(--accent-deep);
      }

      a:focus-visible,
      button:focus-visible,
      input:focus-visible,
      textarea:focus-visible {
        outline: 2px solid var(--accent-amber);
        outline-offset: 3px;
      }

      .skip-link {
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        top: -48px;
        padding: 0.4rem 0.9rem;
        background: #fff8ed;
        border-radius: var(--radius-pill);
        color: var(--ink);
        border: 1px solid rgba(84, 74, 63, 0.4);
        box-shadow: var(--shadow-soft);
        z-index: 40;
        transition: top var(--transition-fast);
      }

      .skip-link:focus {
        top: 12px;
      }

      header.site-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        padding: 0.75rem 1.15rem;
        margin-bottom: 1.5rem;
        border-radius: 999px;
        border: 1px solid rgba(120, 96, 76, 0.22);
        box-shadow: 0 12px 26px rgba(44, 32, 20, 0.12);
        background: radial-gradient(circle at 0 0, #fffaf0, #f0e2d0);
        backdrop-filter: blur(5px);
        position: sticky;
        top: 0.75rem;
        z-index: 30;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 0.7rem;
      }

      .brand-mark {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 20%, #fffdf8, #f0debe);
        border: 1px solid rgba(92, 73, 57, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 5px 8px rgba(61, 42, 30, 0.25);
      }

      .brand-mark svg {
        width: 22px;
        height: 22px;
      }

      .brand-text-title {
        font-family: "Cormorant Garamond", "Times New Roman", serif;
        font-size: 1.3rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        color: var(--ink);
      }

      .brand-text-sub {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: rgba(92, 73, 57, 0.8);
      }

      nav.site-nav {
        display: flex;
        gap: 0.4rem;
        font-size: 0.85rem;
        flex-wrap: wrap;
        justify-content: flex-end;
      }

      nav.site-nav a {
        padding: 0.25rem 0.75rem;
        border-radius: 999px;
        text-decoration: none;
        color: var(--ink-soft);
        border: 1px dashed transparent;
      }

      nav.site-nav a:hover {
        border-color: rgba(123, 96, 70, 0.55);
        background: rgba(248, 238, 222, 0.84);
      }

      .pill-cta {
        background: linear-gradient(135deg, #d79b43, #c06a3d);
        color: #fffdf7;
        border-radius: 999px;
        padding: 0.4rem 1.15rem;
        border: none;
        cursor: pointer;
        font-size: 0.88rem;
        letter-spacing: 0.09em;
        text-transform: uppercase;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        box-shadow: 0 10px 18px rgba(138, 82, 37, 0.27);
        transition: transform var(--transition-fast),
          box-shadow var(--transition-fast), filter var(--transition-fast);
      }

      .pill-cta:hover {
        transform: translateY(-1px);
        filter: brightness(1.02);
        box-shadow: 0 14px 22px rgba(138, 82, 37, 0.32);
      }

      .pill-cta span.icon {
        display: inline-block;
        transform: translateY(1px);
      }

      main {
        margin-top: 1.75rem;
      }

      section {
        margin-bottom: 3rem;
      }

      .section-label {
        font-family: "Cormorant Garamond", "Times New Roman", serif;
        text-transform: uppercase;
        letter-spacing: 0.22em;
        font-size: 0.8rem;
        color: rgba(98, 76, 57, 0.9);
        margin-bottom: 0.35rem;
      }

      h1,
      h2,
      h3 {
        font-family: "Cormorant Garamond", "Times New Roman", serif;
        color: var(--ink);
        margin: 0;
      }

      h1 {
        font-size: clamp(2.4rem, 4vw, 3.1rem);
        line-height: 1.1;
      }

      h2 {
        font-size: clamp(1.7rem, 3vw, 2.1rem);
        margin-bottom: 0.75rem;
      }

      h3 {
        font-size: 1.15rem;
        margin-bottom: 0.35rem;
      }

      .hero {
        display: grid;
        gap: 1.8rem;
        align-items: center;
      }

      @media (min-width: 880px) {
        .hero {
          grid-template-columns: minmax(0, 1.25fr) minmax(0, 1.1fr);
          gap: 2.3rem;
        }
      }

      .hero-copy {
        position: relative;
        z-index: 2;
      }

      .hero-intro-tag {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        font-size: 0.8rem;
        padding: 0.2rem 0.65rem;
        border-radius: var(--radius-pill);
        background: rgba(248, 238, 224, 0.95);
        border: 1px dashed rgba(138, 113, 85, 0.7);
        margin-bottom: 0.75rem;
      }

      .hero-intro-tag-dot {
        width: 9px;
        height: 9px;
        border-radius: 50%;
        background: radial-gradient(circle at 30% 20%, #fff7ea, #d79b43);
        box-shadow: 0 0 0 3px rgba(215, 155, 67, 0.3);
      }

      .hero-subtitle {
        margin-top: 0.75rem;
        font-size: 0.97rem;
        max-width: 38rem;
      }

      .hero-subtitle strong {
        color: var(--ink);
      }

      .hero-highlights {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
        margin-top: 0.9rem;
        font-size: 0.8rem;
        color: rgba(72, 57, 42, 0.9);
      }

      .hero-highlights span {
        padding: 0.15rem 0.6rem;
        border-radius: 999px;
        border: 1px dashed rgba(141, 116, 92, 0.7);
        background: rgba(251, 244, 233, 0.92);
      }

      .hero-cta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 0.9rem;
        align-items: center;
        margin-top: 1.25rem;
      }

      .zip-checker {
        background: rgba(255, 252, 246, 0.95);
        border-radius: var(--radius-card);
        padding: 0.9rem 1rem;
        border: 1px solid rgba(159, 131, 102, 0.55);
        box-shadow: 0 10px 24px rgba(89, 65, 44, 0.18);
        max-width: 420px;
      }

      .zip-label {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: rgba(71, 56, 41, 0.9);
        margin-bottom: 0.4rem;
      }

      .zip-form-row {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }

      .zip-form-row input[type="text"] {
        flex: 1;
        border-radius: 999px;
        border: 1px solid rgba(144, 121, 98, 0.7);
        padding: 0.5rem 0.7rem;
        font-size: 0.92rem;
        background: rgba(252, 247, 239, 0.98);
      }

      .zip-form-row button {
        font-size: 0.8rem;
        padding-inline: 0.9rem;
      }

      .zip-message {
        margin-top: 0.35rem;
        font-size: 0.82rem;
        min-height: 1.1em;
      }

      .zip-message-ok {
        color: #2f7a4b;
      }

      .zip-message-warn {
        color: #9a3e2a;
      }

      .zip-note {
        font-size: 0.72rem;
        margin-top: 0.2rem;
        color: rgba(86, 71, 54, 0.85);
      }

      .hero-side-illustration {
        position: relative;
        padding: 1.1rem;
      }

      .hero-card {
        position: relative;
        border-radius: 26px;
        padding: 1.1rem;
        background: radial-gradient(circle at 10% 0, #fffaf3, #f0e3d3 70%);
        border: 1px solid rgba(107, 86, 63, 0.54);
        box-shadow: 0 18px 40px rgba(64, 46, 32, 0.26);
        overflow: hidden;
      }

      .hero-card::before {
        content: "";
        position: absolute;
        inset: 12px;
        border-radius: 22px;
        border: 1px dashed rgba(118, 94, 69, 0.56);
        pointer-events: none;
      }

      .hero-parchment {
        position: absolute;
        inset: 16px;
        border-radius: 21px;
        background-image: linear-gradient(
            130deg,
            rgba(255, 255, 255, 0.9),
            rgba(246, 235, 220, 0.96)
          ),
          radial-gradient(
            circle at 0 0,
            rgba(255, 255, 255, 0.7),
            transparent 55%
          );
        mix-blend-mode: screen;
        opacity: 0.9;
      }

      .parallax {
        will-change: transform;
      }

      .basket-svg-wrap {
        position: relative;
        z-index: 1;
      }

      .hero-badge {
        position: absolute;
        right: 10px;
        top: 12px;
        z-index: 2;
        transform: rotate(-8deg);
      }

      .hero-badge-inner {
        padding: 0.45rem 0.75rem 0.5rem;
        border-radius: 999px;
        background: rgba(214, 154, 84, 0.96);
        color: #fffaf1;
        font-size: 0.75rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        border: 1px solid rgba(72, 44, 26, 0.8);
        box-shadow: 0 10px 16px rgba(107, 71, 40, 0.55);
      }

      .hero-badge-inner span {
        font-family: "Cormorant Garamond", "Times New Roman", serif;
        font-size: 0.95rem;
      }

      .hero-floating-note {
        position: absolute;
        left: 10px;
        bottom: 8px;
        font-size: 0.78rem;
        font-style: italic;
        color: rgba(74, 57, 42, 0.86);
      }

      .hero-floating-note::before {
        content: "✶";
        margin-right: 0.25rem;
      }

      /* Seasonal share grid */
      .season-grid {
        display: grid;
        gap: 1rem;
      }

      @media (min-width: 720px) {
        .season-grid {
          grid-template-columns: repeat(4, minmax(0, 1fr));
        }
      }

      .season-card {
        position: relative;
        border-radius: var(--radius-card);
        padding: 0.85rem 0.9rem 1rem;
        background: rgba(255, 252, 245, 0.97);
        border: 1px solid rgba(137, 112, 83, 0.6);
        box-shadow: 0 10px 22px rgba(64, 46, 32, 0.2);
        overflow: hidden;
        cursor: default;
        transition: transform var(--transition-med), box-shadow var(--transition-med),
          background var(--transition-med);
      }

      .season-card:hover {
        transform: translateY(-4px) rotate(-0.3deg);
        background: rgba(252, 246, 236, 0.98);
        box-shadow: 0 16px 32px rgba(64, 46, 32, 0.25);
      }

      .season-title-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.4rem;
      }

      .season-title {
        font-family: "Cormorant Garamond", "Times New Roman", serif;
        font-size: 1.1rem;
        letter-spacing: 0.1em;
        text-transform: uppercase;
      }

      .season-tag {
        font-size: 0.7rem;
        padding: 0.15rem 0.55rem;
        border-radius: 999px;
        border: 1px dashed rgba(109, 87, 65, 0.7);
      }

      .season-tag--spring {
        background: rgba(184, 204, 145, 0.36);
      }

      .season-tag--summer {
        background: rgba(220, 177, 110, 0.38);
      }

      .season-tag--fall {
        background: rgba(199, 150, 107, 0.42);
      }

      .season-tag--winter {
        background: rgba(166, 186, 200, 0.42);
      }

      .season-tooltip {
        margin-top: 0.4rem;
        font-size: 0.78rem;
        color: rgba(73, 56, 42, 0.88);
      }

      .season-tooltip strong {
        font-weight: 600;
      }

      .season-produce-list {
        margin: 0.45rem 0 0;
        padding-left: 1.1rem;
        font-size: 0.8rem;
      }

      .season-produce-list li {
        margin-bottom: 0.1rem;
      }

      .allergen-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.4rem;
        margin-top: 0.55rem;
        font-size: 0.7rem;
      }

      .allergen-label {
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: rgba(80, 65, 48, 0.9);
      }

      .allergen-icons {
        display: flex;
        gap: 0.25rem;
      }

      .allergen-icon {
        width: 22px;
        height: 22px;
        border-radius: 999px;
        border: 1px solid rgba(93, 74, 57, 0.8);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: rgba(252, 247, 240, 0.9);
        font-size: 0.68rem;
        position: relative;
      }

      .allergen-icon span {
        position: relative;
        top: -0.5px;
      }

      .allergen-icon--free::after {
        content: "✕";
        position: absolute;
        inset: -2px;
        font-size: 0.7rem;
        color: rgba(153, 40, 35, 0.9);
        pointer-events: none;
      }

      .allergen-icon[aria-label*="nut"] {
        background: rgba(198, 162, 117, 0.3);
      }

      .allergen-icon[aria-label*="dairy"] {
        background: rgba(201, 189, 162, 0.4);
      }

      .allergen-icon[aria-label*="gluten"] {
        background: rgba(208, 176, 154, 0.42);
      }

      /* Plans */
      .plans-layout {
        display: grid;
        gap: 1.4rem;
        align-items: flex-start;
      }

      @media (min-width: 880px) {
        .plans-layout {
          grid-template-columns: minmax(0, 1.3fr) minmax(0, 1.1fr);
        }
      }

      .plan-card,
      .price-summary {
        border-radius: var(--radius-card);
        background: rgba(255, 252, 245, 0.97);
        border: 1px solid rgba(139, 111, 82, 0.7);
        box-shadow: 0 12px 26px rgba(69, 50, 36, 0.22);
        padding: 1rem 1.1rem;
      }

      .plan-card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
      }

      .pill-muted {
        font-size: 0.75rem;
        padding: 0.2rem 0.8rem;
        border-radius: 999px;
        border: 1px dashed rgba(119, 95, 72, 0.7);
        background: rgba(248, 239, 228, 0.95);
        text-transform: uppercase;
        letter-spacing: 0.14em;
      }

      .slider-row {
        margin-top: 1rem;
      }

      .slider-label {
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
        margin-bottom: 0.4rem;
      }

      .slider-label span.current {
        font-weight: 600;
        color: var(--ink);
      }

      input[type="range"] {
        width: 100%;
        -webkit-appearance: none;
        background: transparent;
      }

      input[type="range"]::-webkit-slider-runnable-track {
        height: 6px;
        background: linear-gradient(
          90deg,
          #d79b43,
          #d8b464,
          #b2c37e,
          #7da6b7
        );
        border-radius: 999px;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        border: 2px solid #3f3024;
        background: radial-gradient(circle at 30% 20%, #fffdf7, #f3d8a4);
        margin-top: -6px;
        box-shadow: 0 4px 8px rgba(76, 57, 39, 0.4);
      }

      input[type="range"]::-moz-range-track {
        height: 6px;
        background: linear-gradient(
          90deg,
          #d79b43,
          #d8b464,
          #b2c37e,
          #7da6b7
        );
        border-radius: 999px;
      }

      input[type="range"]::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        border: 2px solid #3f3024;
        background: radial-gradient(circle at 30% 20%, #fffdf7, #f3d8a4);
        box-shadow: 0 4px 8px rgba(76, 57, 39, 0.4);
      }

      .addon-grid {
        display: grid;
        gap: 0.6rem;
        margin-top: 0.9rem;
      }

      @media (min-width: 520px) {
        .addon-grid {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }

      .addon {
        position: relative;
        border-radius: 16px;
        border: 1px dashed rgba(126, 98, 71, 0.8);
        padding: 0.55rem 0.6rem 0.5rem;
        cursor: pointer;
        background: rgba(252, 245, 235, 0.96);
        transition: background var(--transition-fast),
          transform var(--transition-fast), box-shadow var(--transition-fast);
      }

      .addon:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 18px rgba(83, 59, 40, 0.22);
      }

      .addon input {
        position: absolute;
        inset: 0;
        opacity: 0;
        cursor: pointer;
      }

      .addon-heading {
        display: flex;
        justify-content: space-between;
        gap: 0.4rem;
        align-items: baseline;
        font-size: 0.86rem;
      }

      .addon-label {
        font-weight: 600;
        color: var(--ink);
      }

      .addon-price {
        font-size: 0.78rem;
        color: rgba(77, 60, 45, 0.9);
      }

      .addon-note {
        margin-top: 0.2rem;
        font-size: 0.72rem;
      }

      .addon-indicator {
        position: absolute;
        right: 6px;
        top: 6px;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        border: 1px solid rgba(90, 69, 50, 0.9);
        background: rgba(251, 244, 235, 0.9);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.7);
      }

      .addon-selected {
        background: rgba(231, 209, 174, 0.94);
        box-shadow: 0 10px 20px rgba(90, 64, 42, 0.3);
      }

      .addon-selected .addon-indicator {
        background: radial-gradient(circle at 30% 30%, #fff8ee, #d79b43);
      }

      .price-summary-main {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 0.8rem;
        margin-bottom: 0.35rem;
      }

      .price-amount {
        font-size: 1.7rem;
        font-weight: 600;
        color: var(--ink);
      }

      .price-unit {
        font-size: 0.9rem;
        color: rgba(74, 60, 45, 0.9);
      }

      .price-lines {
        font-size: 0.8rem;
        list-style: none;
        padding-left: 0;
        margin: 0.4rem 0 0.3rem;
      }

      .price-lines li {
        margin-bottom: 0.15rem;
      }

      .price-accent {
        font-weight: 600;
        color: var(--accent-deep);
      }

      .price-footnote {
        font-size: 0.7rem;
        color: rgba(86, 70, 55, 0.9);
        margin-top: 0.2rem;
      }

      /* Map & locations */
      .map-layout {
        display: grid;
        gap: 1.3rem;
      }

      @media (min-width: 860px) {
        .map-layout {
          grid-template-columns: minmax(0, 1.35fr) minmax(0, 1.05fr);
        }
      }

      .map-card {
        border-radius: var(--radius-card);
        padding: 0.8rem;
        background: rgba(255, 252, 245, 0.97);
        border: 1px solid rgba(138, 111, 82, 0.7);
        box-shadow: 0 12px 24px rgba(70, 50, 35, 0.22);
      }

      .map-canvas {
        border-radius: 16px;
        overflow: hidden;
        border: 1px solid rgba(119, 97, 75, 0.9);
        background: #f4eadc;
      }

      .map-caption {
        font-size: 0.78rem;
        margin-top: 0.4rem;
        color: rgba(80, 65, 48, 0.92);
      }

      .pickup-list {
        list-style: none;
        padding-left: 0;
        margin: 0.4rem 0 0;
        font-size: 0.85rem;
      }

      .pickup-item {
        padding: 0.45rem 0.1rem;
        border-bottom: 1px dashed rgba(142, 118, 91, 0.5);
        display: flex;
        justify-content: space-between;
        gap: 0.4rem;
        align-items: baseline;
      }

      .pickup-item:last-child {
        border-bottom: none;
      }

      .pickup-name {
        font-weight: 600;
        color: var(--ink);
      }

      .pickup-meta {
        font-size: 0.8rem;
        color: rgba(86, 71, 54, 0.9);
      }

      .badge-distance {
        font-size: 0.75rem;
        padding: 0.1rem 0.55rem;
        border-radius: 999px;
        border: 1px solid rgba(111, 88, 65, 0.85);
        background: rgba(230, 202, 171, 0.95);
      }

      .badge-distance[data-tier="near"] {
        background: rgba(180, 204, 152, 0.9);
      }

      .badge-distance[data-tier="mid"] {
        background: rgba(223, 192, 151, 0.94);
      }

      .badge-distance[data-tier="far"] {
        background: rgba(190, 200, 211, 0.94);
      }

      /* Testimonials carousel */
      .testimonials-card {
        border-radius: var(--radius-card);
        padding: 1rem 1rem 1.1rem;
        background: rgba(255, 252, 244, 0.97);
        border: 1px solid rgba(138, 109, 81, 0.75);
        box-shadow: 0 12px 26px rgba(73, 52, 36, 0.23);
      }

      .testimonial-header-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 0.4rem;
      }

      .carousel-region {
        position: relative;
        overflow: hidden;
      }

      .carousel-track {
        display: flex;
        transition: transform var(--transition-med);
      }

      .testimonial {
        min-width: 100%;
        display: grid;
        grid-template-columns: auto minmax(0, 1fr);
        gap: 0.8rem;
        align-items: flex-start;
        padding-top: 0.4rem;
      }

      @media (max-width: 599px) {
        .testimonial {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .portrait-wrap {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.4rem;
      }

      .portrait-label {
        margin-top: 0.2rem;
        font-size: 0.75rem;
        opacity: 0.85;
      }

      .testimonial-quote {
        font-size: 0.9rem;
        font-style: italic;
      }

      .testimonial-name {
        margin-top: 0.45rem;
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--ink);
      }

      .testimonial-meta {
        font-size: 0.8rem;
      }

      .carousel-controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        margin-top: 0.7rem;
      }

      .carousel-buttons {
        display: flex;
        gap: 0.35rem;
      }

      .icon-button {
        border-radius: 999px;
        border: 1px solid rgba(117, 92, 69, 0.85);
        background: rgba(252, 246, 236, 0.96);
        padding: 0.25rem 0.55rem;
        cursor: pointer;
        font-size: 0.78rem;
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        transition: background var(--transition-fast),
          transform var(--transition-fast), box-shadow var(--transition-fast);
      }

      .icon-button:hover {
        background: rgba(238, 222, 201, 0.98);
        transform: translateY(-1px);
        box-shadow: 0 6px 12px rgba(79, 58, 39, 0.22);
      }

      .carousel-dots {
        display: flex;
        gap: 0.3rem;
      }

      .carousel-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        border: 1px solid rgba(117, 92, 69, 0.9);
        background: rgba(250, 242, 232, 0.96);
      }

      .carousel-dot.is-active {
        background: radial-gradient(circle at 30% 20%, #fff9f1, #d79b43);
      }

      /* FAQ & contact */
      .faq-contact-layout {
        display: grid;
        gap: 1.4rem;
      }

      @media (min-width: 860px) {
        .faq-contact-layout {
          grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
        }
      }

      .accordion {
        border-radius: var(--radius-card);
        background: rgba(255, 252, 244, 0.97);
        border: 1px solid rgba(137, 110, 81, 0.7);
        box-shadow: 0 12px 26px rgba(70, 50, 34, 0.23);
      }

      .accordion-item + .accordion-item {
        border-top: 1px dashed rgba(142, 113, 83, 0.7);
      }

      .accordion-header {
        width: 100%;
        padding: 0.7rem 0.9rem;
        text-align: left;
        background: transparent;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.6rem;
        font-size: 0.9rem;
        color: var(--ink);
      }

      .accordion-title {
        font-weight: 600;
      }

      .accordion-chevron {
        width: 18px;
        height: 18px;
        border-radius: 999px;
        border: 1px solid rgba(122, 97, 71, 0.9);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        background: rgba(252, 245, 235, 0.96);
        transition: transform var(--transition-fast), background var(--transition-fast);
      }

      .accordion-header[aria-expanded="true"] .accordion-chevron {
        transform: rotate(90deg);
        background: rgba(226, 203, 172, 0.95);
      }

      .accordion-panel {
        max-height: 0;
        overflow: hidden;
        transition: max-height 260ms ease-out;
      }

      .accordion-panel-inner {
        padding: 0 0.9rem 0.7rem;
        font-size: 0.86rem;
      }

      .accordion-panel-inner p {
        margin: 0.35rem 0;
      }

      .contact-card {
        border-radius: var(--radius-card);
        background: rgba(255, 252, 244, 0.97);
        border: 1px solid rgba(137, 109, 81, 0.72);
        box-shadow: 0 12px 26px rgba(72, 52, 35, 0.23);
        padding: 0.9rem 1rem 1rem;
      }

      .contact-card p {
        font-size: 0.86rem;
        margin-top: 0.2rem;
      }

      .contact-form {
        margin-top: 0.8rem;
      }

      .field {
        margin-bottom: 0.55rem;
      }

      .field label {
        display: block;
        font-size: 0.8rem;
        margin-bottom: 0.2rem;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        color: rgba(79, 62, 45, 0.95);
      }

      .field input,
      .field textarea {
        width: 100%;
        border-radius: 12px;
        border: 1px solid rgba(144, 121, 95, 0.8);
        padding: 0.45rem 0.6rem;
        font-size: 0.9rem;
        background: rgba(252, 247, 239, 0.98);
      }

      .field textarea {
        min-height: 96px;
        resize: vertical;
      }

      .contact-note {
        font-size: 0.76rem;
        margin-top: 0.3rem;
        color: rgba(82, 68, 52, 0.95);
      }

      .contact-success {
        font-size: 0.82rem;
        color: #2f7a4b;
        margin-top: 0.4rem;
        min-height: 1.1em;
      }

      footer.site-footer {
        margin-top: 2.4rem;
        font-size: 0.78rem;
        color: rgba(92, 76, 58, 0.95);
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem 1.1rem;
        align-items: center;
        justify-content: space-between;
      }

      .footer-pill {
        padding: 0.18rem 0.7rem;
        border-radius: 999px;
        border: 1px dashed rgba(123, 98, 74, 0.8);
        background: rgba(252, 246, 236, 0.97);
      }

      .footer-small {
        opacity: 0.9;
      }

      @media (max-width: 599px) {
        header.site-header {
          align-items: flex-start;
          padding-inline: 0.8rem;
        }

        nav.site-nav {
          width: 100%;
          justify-content: flex-start;
        }

        .hero-cta-row {
          flex-direction: column;
          align-items: stretch;
        }

        .zip-form-row {
          flex-direction: column;
          align-items: stretch;
        }

        .zip-form-row button {
          width: 100%;
          justify-content: center;
        }

        .price-summary-main {
          flex-direction: column;
          align-items: flex-start;
        }
      }
    </style>
  </head>
  <body>
    <a href="#main" class="skip-link">Skip to main content</a>
    <div class="page-shell">
      <header class="site-header">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">
            <svg viewBox="0 0 60 60" role="img" aria-hidden="true">
              <g
                fill="none"
                stroke="#3b291a"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <ellipse cx="30" cy="34" rx="15" ry="8.5" fill="#e2c99b" />
                <path
                  d="M17 34.5c0 5 6 9 13 9s13-4 13-9"
                  fill="none"
                />
                <path
                  d="M19 26c1.2-3.5 4.6-6 8.5-6.1 2.8-.1 5.3 1.1 7 3.1 1.5-1.9 3.7-3.1 6.2-3.1 1.7 0 3.3.5 4.6 1.4"
                  fill="none"
                />
                <path
                  d="M23.2 18.8c.2-1.7 1.5-3.1 3.2-3.3 1.5-.2 2.9.6 3.7 1.9"
                />
              </g>
            </svg>
          </div>
          <div>
            <div class="brand-text-title">Artisan CSA</div>
            <div class="brand-text-sub">Small-Batch Farm Shares</div>
          </div>
        </div>
        <nav class="site-nav" aria-label="Primary">
          <a href="#share">Seasons</a>
          <a href="#plans">Plans</a>
          <a href="#map">Delivery</a>
          <a href="#stories">Stories</a>
          <a href="#faq">FAQ &amp; Contact</a>
          <button type="button" class="pill-cta" onclick="document.getElementById('contact-email').focus()">
            <span>Join the harvest</span>
            <span class="icon" aria-hidden="true">↗</span>
          </button>
        </nav>
      </header>

      <main id="main" tabindex="-1">
        <section class="hero" aria-labelledby="hero-heading">
          <div class="hero-copy">
            <div class="hero-intro-tag">
              <span class="hero-intro-tag-dot" aria-hidden="true"></span>
              <span>Neighbourhood-grown · Hand-packed CSA</span>
            </div>
            <h1 id="hero-heading">
              Seasonal farm shares with a
              <span style="position: relative; white-space: nowrap">
                hand‑drawn harvest
                <svg
                  aria-hidden="true"
                  viewBox="0 0 140 32"
                  style="
                    position: absolute;
                    inset: auto -4px -5px;
                    width: 100%;
                    height: 16px;
                  "
                >
                  <path
                    d="M2 20c15-8 40-14 65-14s50 6 71 14"
                    fill="none"
                    stroke="#d79b43"
                    stroke-width="2.4"
                    stroke-linecap="round"
                    stroke-dasharray="3 4"
                  />
                </svg>
              </span>
            </h1>
            <p class="hero-subtitle">
              Every week, our farmers tuck
              <strong>small-batch vegetables, herbs, and flowers</strong>
              into watercolor-washed baskets — harvested at dawn, delivered the
              same day to your doorstep or neighborhood pick-up.
            </p>
            <div class="hero-highlights">
              <span>Harvested within 25 miles</span>
              <span>Rotating chef notes in every box</span>
              <span>Sliding-scale &amp; low-waste packing</span>
            </div>

            <div class="hero-cta-row" aria-label="Check availability and join">
              <button
                type="button"
                class="pill-cta"
                onclick="document.getElementById('plans').scrollIntoView({behavior: 'smooth'})"
              >
                <span>Join the harvest</span>
                <span class="icon" aria-hidden="true">☼</span>
              </button>
              <div class="zip-checker" aria-label="Check your ZIP code">
                <div class="zip-label">Delivery ZIP check</div>
                <form
                  class="zip-form-row"
                  id="zip-form"
                  autocomplete="postal-code"
                  novalidate
                >
                  <input
                    id="zip-input"
                    type="text"
                    inputmode="numeric"
                    pattern="[0-9]{5}"
                    maxlength="5"
                    placeholder="e.g. 94110"
                    aria-describedby="zip-message zip-note"
                  />
                  <button type="submit" class="pill-cta">
                    <span>Check</span>
                  </button>
                </form>
                <div
                  id="zip-message"
                  class="zip-message"
                  aria-live="polite"
                ></div>
                <div id="zip-note" class="zip-note">
                  Demo radius: most 94*** &amp; 95*** ZIPs are eligible.
                </div>
              </div>
            </div>
          </div>

          <div class="hero-side-illustration">
            <div
              class="hero-card parallax"
              data-parallax-depth="0.22"
              aria-hidden="true"
            >
              <div class="hero-parchment"></div>
              <div class="hero-badge">
                <div class="hero-badge-inner">
                  <span>New</span> · Spring sign‑ups
                </div>
              </div>
              <div class="basket-svg-wrap">
                <svg
                  viewBox="0 0 320 220"
                  role="img"
                  aria-label="Watercolor-style illustration of a seasonal basket overflowing with vegetables"
                >
                  <defs>
                    <linearGradient id="vegGreen" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#9bbf7f" stop-opacity="0.95" />
                      <stop offset="100%" stop-color="#5f7d4d" stop-opacity="0.98" />
                    </linearGradient>
                    <linearGradient id="vegRoot" x1="0" y1="0" x2="1" y2="1">
                      <stop offset="0%" stop-color="#d9a57e" stop-opacity="0.98" />
                      <stop offset="100%" stop-color="#b46d46" stop-opacity="0.98" />
                    </linearGradient>
                    <linearGradient
                      id="basketBody"
                      x1="0"
                      y1="0"
                      x2="1"
                      y2="1"
                    >
                      <stop offset="0%" stop-color="#e3c199" />
                      <stop offset="100%" stop-color="#b27f53" />
                    </linearGradient>
                  </defs>
                  <rect
                    x="0"
                    y="0"
                    width="320"
                    height="220"
                    fill="url(#paperFill)"
                    opacity="0"
                  />
                  <g
                    fill="none"
                    stroke="#3c291d"
                    stroke-width="2.6"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M46 146c6-31 21-56 54-70 16-7 36-10 54-7 32 4 61 24 75 54"
                      fill="rgba(221, 190, 147, 0.08)"
                    />
                    <path
                      d="M94 142c-5-33 4-61 22-77"
                      stroke-width="2.2"
                    />
                    <path
                      d="M160 61c-8 14-15 34-13 54"
                      stroke-width="2.2"
                    />
                    <path
                      d="M127 80c8-13 21-23 37-26 17-3 33 2 45 12"
                      fill="rgba(164,198,140,0.25)"
                    />
                    <path
                      d="M121 103c9-7 21-10 32-8 13 2 25 9 33 18"
                      fill="rgba(210,168,109,0.2)"
                    />
                    <path
                      d="M198 71c10-10 25-16 39-15 12 0 22 4 29 10"
                      fill="rgba(157,186,199,0.18)"
                    />
                    <path
                      d="M92 82c-11-5-19-15-22-27"
                      stroke-width="2.2"
                    />
                  </g>
                  <g
                    fill="url(#vegGreen)"
                    stroke="#3b291a"
                    stroke-width="2.4"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <ellipse cx="88" cy="100" rx="26" ry="20" />
                    <ellipse cx="133" cy="98" rx="21" ry="17" />
                    <ellipse cx="184" cy="94" rx="24" ry="18" />
                    <ellipse cx="226" cy="90" rx="24" ry="18" />
                  </g>
                  <g
                    fill="url(#vegRoot)"
                    stroke="#3c291c"
                    stroke-width="2.4"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M112 128c9 3 18 4 28 3 11-1 21-4 30-9 9 7 13 18 10 30-5 19-24 33-46 33-20 0-36-12-42-30-3-10 3-22 9-27 3 0 7 0 11 0z"
                      fill="url(#vegRoot)"
                    />
                    <path
                      d="M205 124c11 1 23-1 33-7 9 4 15 14 14 25-2 19-16 35-37 38-19 2-36-9-42-26"
                      fill="rgba(203,146,96,0.78)"
                    />
                  </g>
                  <g
                    fill="url(#basketBody)"
                    stroke="#3a271b"
                    stroke-width="2.8"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M52 142h214c4 0 7 3 7 7 0 5-2 10-5 14-13 20-37 33-64 38-15 3-31 4-46 4-18 0-37-2-54-7-21-6-39-18-49-35-3-5-5-10-5-15 0-3 3-6 7-6z"
                    />
                    <path
                      d="M64 143c9 22 32 40 60 45 11 2 23 2 35 0 29-4 53-22 63-45"
                      fill="none"
                    />
                    <path
                      d="M80 144c9 18 28 31 50 35 9 2 19 2 28 0 24-4 44-17 53-35"
                      fill="none"
                    />
                    <path
                      d="M183 65c1-16-6-29-17-33-12-4-26 3-33 18-4 9-5 19-5 30"
                      fill="none"
                    />
                  </g>
                  <g
                    fill="none"
                    stroke="#ceb495"
                    stroke-width="1.4"
                    stroke-linecap="round"
                  >
                    <path d="M54 167c21 7 53 12 82 12s61-5 82-12" />
                  </g>
                </svg>
              </div>
              <div class="hero-floating-note">
                Inked and washed by a local illustrator.
              </div>
            </div>
          </div>
        </section>

        <section id="share" aria-labelledby="share-heading">
          <div class="section-label">The share</div>
          <h2 id="share-heading">Seasonal boxes, sketched by season</h2>
          <p style="max-width: 44rem; font-size: 0.94rem">
            Every basket reflects what the fields are offering that week. Hover
            over each season to peek into a typical box and spot potential
            allergens — we keep ingredients simple, transparent, and
            chef-friendly.
          </p>

          <div class="season-grid" role="list">
            <article class="season-card parallax" data-parallax-depth="0.12" role="listitem">
              <div class="season-title-row">
                <div>
                  <div class="season-title">Spring</div>
                  <div style="font-size: 0.8rem; color: rgba(79,60,43,0.9)">
                    Tender, green, and fragrant
                  </div>
                </div>
                <div class="season-tag season-tag--spring">First shoots</div>
              </div>
              <div class="season-tooltip">
                <strong>Peek inside:</strong> bright, leafy bunches with a
                whisper of flowers.
              </div>
              <ul class="season-produce-list">
                <li>Little gem lettuces &amp; pea shoots</li>
                <li>French breakfast radishes, baby carrots</li>
                <li>Lemon thyme, chives, edible blossoms</li>
                <li>Optional: farm egg dozen add-on</li>
              </ul>
              <div class="allergen-row">
                <span class="allergen-label">Allergens</span>
                <div class="allergen-icons">
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="nut free"
                  >
                    <span>N</span>
                  </div>
                  <div
                    class="allergen-icon"
                    aria-label="contains eggs in optional add-on"
                  >
                    <span>E</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="gluten free"
                  >
                    <span>G</span>
                  </div>
                </div>
              </div>
            </article>

            <article class="season-card parallax" data-parallax-depth="0.08" role="listitem">
              <div class="season-title-row">
                <div>
                  <div class="season-title">Summer</div>
                  <div style="font-size: 0.8rem; color: rgba(79,60,43,0.9)">
                    Sun-ripe and juice-stained
                  </div>
                </div>
                <div class="season-tag season-tag--summer">Peak bounty</div>
              </div>
              <div class="season-tooltip">
                <strong>Peek inside:</strong> tomatoes that never see a fridge,
                fragrant basil, and stone fruit.
              </div>
              <ul class="season-produce-list">
                <li>Heirloom tomatoes &amp; sungolds</li>
                <li>Striped zucchini, cucumbers, peppers</li>
                <li>Peaches, plums, or melons</li>
                <li>Basil, shiso, or mint bouquet</li>
              </ul>
              <div class="allergen-row">
                <span class="allergen-label">Allergens</span>
                <div class="allergen-icons">
                  <div
                    class="allergen-icon"
                    aria-label="may contain stone-fruit pits"
                  >
                    <span>P</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="dairy free"
                  >
                    <span>D</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="gluten free"
                  >
                    <span>G</span>
                  </div>
                </div>
              </div>
            </article>

            <article class="season-card parallax" data-parallax-depth="0.1" role="listitem">
              <div class="season-title-row">
                <div>
                  <div class="season-title">Fall</div>
                  <div style="font-size: 0.8rem; color: rgba(79,60,43,0.9)">
                    Roasting weather, pantry filling
                  </div>
                </div>
                <div class="season-tag season-tag--fall">Roots &amp; roasts</div>
              </div>
              <div class="season-tooltip">
                <strong>Peek inside:</strong> squash, roots, and slow-supper
                staples.
              </div>
              <ul class="season-produce-list">
                <li>Delicata or kabocha squash</li>
                <li>Fingerling potatoes, beets, celeriac</li>
                <li>Leeks, hardy greens, fresh sage</li>
                <li>Optional: sourdough loaf add-on</li>
              </ul>
              <div class="allergen-row">
                <span class="allergen-label">Allergens</span>
                <div class="allergen-icons">
                  <div
                    class="allergen-icon"
                    aria-label="optional bread contains gluten"
                  >
                    <span>G</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="nut free"
                  >
                    <span>N</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="dairy free"
                  >
                    <span>D</span>
                  </div>
                </div>
              </div>
            </article>

            <article class="season-card parallax" data-parallax-depth="0.06" role="listitem">
              <div class="season-title-row">
                <div>
                  <div class="season-title">Winter</div>
                  <div style="font-size: 0.8rem; color: rgba(79,60,43,0.9)">
                    Cellar-bright &amp; slow-braised
                  </div>
                </div>
                <div class="season-tag season-tag--winter">Cold-season</div>
              </div>
              <div class="season-tooltip">
                <strong>Peek inside:</strong> storage crops, hearty citrus, and
                broth-ready aromatics.
              </div>
              <ul class="season-produce-list">
                <li>Rainbow carrots, parsnips &amp; turnips</li>
                <li>Onions, garlic, hardy herbs</li>
                <li>Meyer lemons or mandarins</li>
                <li>Radicchio, chicories, &amp; brassicas</li>
              </ul>
              <div class="allergen-row">
                <span class="allergen-label">Allergens</span>
                <div class="allergen-icons">
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="nut free"
                  >
                    <span>N</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="dairy free"
                  >
                    <span>D</span>
                  </div>
                  <div
                    class="allergen-icon allergen-icon--free"
                    aria-label="gluten free"
                  >
                    <span>G</span>
                  </div>
                </div>
              </div>
            </article>
          </div>
        </section>

        <section id="plans" aria-labelledby="plans-heading">
          <div class="section-label">Plans</div>
          <h2 id="plans-heading">Choose your pace &amp; pantry</h2>
          <p style="max-width: 45rem; font-size: 0.94rem">
            Start with a weekly or bi-weekly vegetable share, then layer in
            handmade add-ons. Use the slider and toggles below to sketch a plan
            that fits your table — prices update in real time.
          </p>

          <div class="plans-layout">
            <div class="plan-card">
              <div class="plan-card-header">
                <div>
                  <h3 style="margin-bottom: 0.15rem">Share cadence</h3>
                  <div style="font-size: 0.86rem">
                    Flexible for
                    <span style="font-weight: 600">2–4 person households</span>.
                  </div>
                </div>
                <span class="pill-muted">Change anytime</span>
              </div>

              <div class="slider-row">
                <div class="slider-label">
                  <span>Bi-weekly</span>
                  <span class="current" id="cadence-label">Weekly share</span>
                </div>
                <input
                  id="cadence-slider"
                  type="range"
                  min="0"
                  max="1"
                  step="1"
                  value="1"
                  aria-label="Choose weekly or bi-weekly share"
                />
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    font-size: 0.78rem;
                    margin-top: 0.25rem;
                  "
                >
                  <span>Perfect for small households</span>
                  <span>For avid home cooks</span>
                </div>
              </div>

              <div style="margin-top: 1rem">
                <h3 style="margin-bottom: 0.25rem">Add-ons</h3>
                <p style="font-size: 0.82rem; margin-top: 0">
                  Layer in pantry and flower share options. Toggle items to see
                  how they change your weekly total.
                </p>
                <div class="addon-grid" role="group" aria-label="Optional add-ons">
                  <label class="addon" data-price="6">
                    <input
                      type="checkbox"
                      id="addon-eggs"
                      aria-label="Farm eggs add-on, six dollars per week"
                    />
                    <div class="addon-heading">
                      <span class="addon-label">Pastured eggs</span>
                      <span class="addon-price">+$6 / delivery</span>
                    </div>
                    <div class="addon-note">
                      Brown &amp; blue shells, from hens on pasture.
                    </div>
                    <div class="addon-indicator" aria-hidden="true"></div>
                  </label>

                  <label class="addon" data-price="8">
                    <input
                      type="checkbox"
                      id="addon-flowers"
                      aria-label="Seasonal flowers add-on, eight dollars per week"
                    />
                    <div class="addon-heading">
                      <span class="addon-label">Flower bundle</span>
                      <span class="addon-price">+$8 / delivery</span>
                    </div>
                    <div class="addon-note">
                      Hand-tied stems: tulips, cosmos, field dahlias.
                    </div>
                    <div class="addon-indicator" aria-hidden="true"></div>
                  </label>

                  <label class="addon" data-price="7">
                    <input
                      type="checkbox"
                      id="addon-bread"
                      aria-label="Sourdough bread add-on, seven dollars per week"
                    />
                    <div class="addon-heading">
                      <span class="addon-label">Sourdough loaf</span>
                      <span class="addon-price">+$7 / delivery</span>
                    </div>
                    <div class="addon-note">
                      Naturally leavened, baked the morning of pickup.
                    </div>
                    <div class="addon-indicator" aria-hidden="true"></div>
                  </label>
                </div>
              </div>
            </div>

            <aside class="price-summary" aria-label="Price summary">
              <div class="price-summary-main">
                <div>
                  <div style="font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.16em; color: rgba(81,61,44,0.9);">
                    Estimated investment
                  </div>
                  <div style="font-size: 0.9rem; margin-top: 0.2rem">
                    For your
                    <span id="price-cadence-label" class="price-accent"
                      >weekly</span
                    >
                    vegetable share
                  </div>
                </div>
                <div>
                  <div class="price-amount">
                    <span id="price-total">$42</span>
                  </div>
                  <div class="price-unit" id="price-unit">per week</div>
                </div>
              </div>
              <ul class="price-lines" aria-live="polite">
                <li>
                  Base share:
                  <span id="price-base" class="price-accent">$42</span>
                  per delivery
                </li>
                <li>
                  Add-ons:
                  <span id="price-addons" class="price-accent">$0</span>
                  per delivery
                </li>
                <li>
                  Estimated monthly total:
                  <span id="price-monthly" class="price-accent">$168</span>
                </li>
              </ul>
              <p class="price-footnote">
                Estimates assume
                <span id="price-footnote-frequency">4 weekly deliveries</span>
                per month. Sliding-scale and EBT options are available at
                checkout.
              </p>
              <button
                type="button"
                class="pill-cta"
                style="margin-top: 0.6rem"
                onclick="document.getElementById('contact-name').focus()"
              >
                <span>Reserve my spot</span>
                <span class="icon" aria-hidden="true">✉</span>
              </button>
            </aside>
          </div>
        </section>

        <section id="map" aria-labelledby="map-heading">
          <div class="section-label">Delivery &amp; pickup</div>
          <h2 id="map-heading">Where our baskets travel</h2>
          <p style="max-width: 44rem; font-size: 0.94rem">
            We harvest in the foothills and drive towards the city in a
            hand-painted truck. The watercolor map shows our approximate
            delivery radius; you can also meet us at a neighborhood pick-up.
          </p>

          <div class="map-layout">
            <div class="map-card">
              <div
                class="map-canvas parallax"
                data-parallax-depth="0.1"
                role="img"
                aria-label="Stylized map illustration with a circular delivery radius and highlighted roads"
              >
                <svg viewBox="0 0 420 260">
                  <defs>
                    <linearGradient
                      id="mapSky"
                      x1="0"
                      y1="0"
                      x2="0"
                      y2="1"
                    >
                      <stop offset="0%" stop-color="#f6efe1" />
                      <stop offset="100%" stop-color="#e5d6c0" />
                    </linearGradient>
                    <linearGradient
                      id="mapField"
                      x1="0"
                      y1="0"
                      x2="1"
                      y2="1"
                    >
                      <stop offset="0%" stop-color="#c3d6a2" />
                      <stop offset="100%" stop-color="#88a277" />
                    </linearGradient>
                    <linearGradient
                      id="mapWater"
                      x1="0"
                      y1="0"
                      x2="1"
                      y2="1"
                    >
                      <stop offset="0%" stop-color="#b0cad8" />
                      <stop offset="100%" stop-color="#7d9eb6" />
                    </linearGradient>
                  </defs>
                  <rect
                    x="0"
                    y="0"
                    width="420"
                    height="260"
                    fill="url(#mapSky)"
                  />
                  <path
                    d="M-10 150c50-40 110-63 170-66 60-3 120 13 190 52v150H-10Z"
                    fill="url(#mapField)"
                    opacity="0.95"
                  />
                  <path
                    d="M240 260c20-38 37-74 46-112 8-33 11-67 8-102l160 0v214Z"
                    fill="url(#mapWater)"
                    opacity="0.85"
                  />
                  <g
                    fill="none"
                    stroke="#e8decf"
                    stroke-width="1.2"
                    stroke-linecap="round"
                  >
                    <path d="M40 240c70-80 140-120 230-132" />
                    <path d="M20 188c48-25 104-38 167-40" />
                    <path d="M96 250c63-52 137-74 228-74" />
                  </g>
                  <g
                    fill="none"
                    stroke="#b9894d"
                    stroke-width="3"
                    stroke-linecap="round"
                  >
                    <path d="M20 210c70-20 130-42 224-60 60-12 113-7 152 5" />
                    <path d="M60 255c42-21 88-36 134-44" />
                  </g>
                  <g
                    fill="#fdf4e6"
                    stroke="#4a3625"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    opacity="0.95"
                  >
                    <rect
                      x="76"
                      y="165"
                      width="18"
                      height="16"
                      rx="3"
                    />
                    <rect
                      x="152"
                      y="186"
                      width="20"
                      height="17"
                      rx="3"
                    />
                    <rect
                      x="240"
                      y="158"
                      width="18"
                      height="16"
                      rx="3"
                    />
                    <rect
                      x="306"
                      y="182"
                      width="18"
                      height="16"
                      rx="3"
                    />
                  </g>
                  <circle
                    cx="182"
                    cy="182"
                    r="78"
                    fill="rgba(255, 248, 235, 0.62)"
                    stroke="#c8944e"
                    stroke-width="2.2"
                    stroke-dasharray="6 7"
                  />
                  <g
                    transform="translate(180 180)"
                    fill="#fdf4e6"
                    stroke="#3c291d"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M0-10c3 0 6 2 7 5l3 9c1 3-1 6-4 6h-12c-3 0-5-3-4-6l3-9c1-3 4-5 7-5Z"
                    />
                    <path d="M-6 -3h12" />
                  </g>
                  <text
                    x="190"
                    y="128"
                    fill="#754c2a"
                    font-size="11"
                    font-family="Cormorant Garamond, serif"
                    text-anchor="middle"
                  >
                    ~15 mile delivery radius
                  </text>
                </svg>
              </div>
              <div class="map-caption">
                Delivery radius is approximate and may shift with weather and
                road closures. Exact eligibility is confirmed at checkout.
              </div>
            </div>

            <aside aria-label="Pick-up locations and notes">
              <h3 style="margin-bottom: 0.2rem">Neighborhood pick-ups</h3>
              <p style="font-size: 0.86rem; margin-top: 0">
                Prefer to bike or stroll to your share? Pick one of our weekly
                meet-up spots; we’ll keep your basket in the shade.
              </p>
              <ul class="pickup-list">
                <li class="pickup-item">
                  <div>
                    <div class="pickup-name">Riverfront Farmers’ Market</div>
                    <div class="pickup-meta">
                      Saturdays · 9:00–12:30 · near the music stage
                    </div>
                  </div>
                  <span class="badge-distance" data-tier="near">1.2 mi</span>
                </li>
                <li class="pickup-item">
                  <div>
                    <div class="pickup-name">Elm &amp; Third Corner Lot</div>
                    <div class="pickup-meta">
                      Wednesdays · 4:30–6:00 · pop-up farmstand
                    </div>
                  </div>
                  <span class="badge-distance" data-tier="mid">4.8 mi</span>
                </li>
                <li class="pickup-item">
                  <div>
                    <div class="pickup-name">Hillside Community Center</div>
                    <div class="pickup-meta">
                      Thursdays · 5:00–7:00 · under the willow tree
                    </div>
                  </div>
                  <span class="badge-distance" data-tier="mid">7.4 mi</span>
                </li>
                <li class="pickup-item">
                  <div>
                    <div class="pickup-name">Depot Co-op Parking</div>
                    <div class="pickup-meta">
                      Sundays · 10:00–12:00 · loading zone A
                    </div>
                  </div>
                  <span class="badge-distance" data-tier="far">11.3 mi</span>
                </li>
              </ul>
              <p style="font-size: 0.8rem; margin-top: 0.6rem">
                We also partner with mutual-aid fridges; donate a share or split
                one with a neighbor.
              </p>
            </aside>
          </div>
        </section>

        <section id="stories" aria-labelledby="stories-heading">
          <div class="section-label">Stories from the field</div>
          <h2 id="stories-heading">Hand-drawn portraits, honest words</h2>
          <p style="max-width: 44rem; font-size: 0.94rem">
            Our farmers and members scribble notes on butcher paper after
            harvest: recipes, weather, and tiny triumphs. We turned a few into
            line-drawn portraits and short dispatches below.
          </p>

          <div class="testimonials-card">
            <div class="testimonial-header-row">
              <div>
                <h3 style="margin-bottom: 0.1rem">Voices from our CSA</h3>
                <div style="font-size: 0.8rem">
                  Use the arrow keys or buttons to browse.
                </div>
              </div>
              <span class="pill-muted">Farmer &amp; member notes</span>
            </div>
            <div
              class="carousel-region"
              role="region"
              aria-roledescription="carousel"
              aria-label="Testimonials"
              aria-live="polite"
            >
              <div
                class="carousel-track"
                id="testimonial-track"
                data-index="0"
              >
                <article
                  class="testimonial"
                  aria-label="Testimonial 1 of 3"
                >
                  <div>
                    <div class="portrait-wrap">
                      <svg
                        viewBox="0 0 80 80"
                        role="img"
                        aria-label="Line drawing portrait of a farmer wearing a straw hat"
                        style="width: 70px; height: 70px"
                      >
                        <circle
                          cx="40"
                          cy="40"
                          r="29"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                          stroke-dasharray="2 4"
                        />
                        <path
                          d="M22 34c8-2 16-3 26-3 4 0 8 .3 12 .9"
                          fill="#f1d7a9"
                          stroke="#3b291a"
                          stroke-width="1.8"
                          stroke-linecap="round"
                        />
                        <ellipse
                          cx="40"
                          cy="42"
                          rx="11"
                          ry="9"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                        />
                        <path
                          d="M33 39c.7 1.4 2 2.3 3.4 2.4"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.4"
                          stroke-linecap="round"
                        />
                        <path
                          d="M47 39c-.7 1.4-2 2.3-3.4 2.4"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.4"
                          stroke-linecap="round"
                        />
                        <path
                          d="M33 30c1-2 3.5-3.4 6.2-3.3 2.6.1 4.9 1.6 5.8 3.6"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                          stroke-linecap="round"
                        />
                        <path
                          d="M28 47c2.5 3.7 6.3 6 10.5 6s8-2.3 10.5-6"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                        />
                      </svg>
                    </div>
                    <div class="portrait-label">Mara · head farmer</div>
                  </div>
                  <div>
                    <p class="testimonial-quote">
                      “CSA days feel like handing our fields directly to the
                      neighborhood. We plant a few experimental rows every
                      season just for members — tiny tomatoes that taste like
                      candy, beans that dry into swirling patterns.”
                    </p>
                    <div class="testimonial-name">Mara</div>
                    <div class="testimonial-meta">
                      Harvest lead, sketchbook always in her pocket
                    </div>
                  </div>
                </article>

                <article
                  class="testimonial"
                  aria-label="Testimonial 2 of 3"
                >
                  <div>
                    <div class="portrait-wrap">
                      <svg
                        viewBox="0 0 80 80"
                        role="img"
                        aria-label="Line drawing portrait of a member holding a basket"
                        style="width: 70px; height: 70px"
                      >
                        <circle
                          cx="40"
                          cy="40"
                          r="29"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                          stroke-dasharray="3 4"
                        />
                        <ellipse
                          cx="40"
                          cy="36"
                          rx="11"
                          ry="9"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                        />
                        <path
                          d="M34 35c.2-1 1.1-1.8 2.2-1.9 1.1-.1 2 .5 2.4 1.4"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                          stroke-linecap="round"
                        />
                        <path
                          d="M41 35c.4-.9 1.3-1.5 2.4-1.4 1.1.1 2 .9 2.2 1.9"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                          stroke-linecap="round"
                        />
                        <path
                          d="M32 44c2.3 2.3 5 3.4 8 3.4s5.7-1.1 8-3.4"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                        />
                        <rect
                          x="28"
                          y="46"
                          width="24"
                          height="10"
                          rx="4"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                        />
                      </svg>
                    </div>
                    <div class="portrait-label">Andre · member</div>
                  </div>
                  <div>
                    <p class="testimonial-quote">
                      “Our kids race to unpack the basket and guess what each
                      odd vegetable is. We’ve added ‘CSA pasta night’ to our
                      calendar — one pan, everything roasted, a drizzle of
                      olive oil. It’s become a ritual.”
                    </p>
                    <div class="testimonial-name">Andre</div>
                    <div class="testimonial-meta">
                      Member since 2021 · cooks on Sundays
                    </div>
                  </div>
                </article>

                <article
                  class="testimonial"
                  aria-label="Testimonial 3 of 3"
                >
                  <div>
                    <div class="portrait-wrap">
                      <svg
                        viewBox="0 0 80 80"
                        role="img"
                        aria-label="Line drawing portrait of a baker"
                        style="width: 70px; height: 70px"
                      >
                        <circle
                          cx="40"
                          cy="40"
                          r="29"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                          stroke-dasharray="2 3"
                        />
                        <ellipse
                          cx="40"
                          cy="35"
                          rx="11"
                          ry="9"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.5"
                        />
                        <path
                          d="M30 32c2-3 5.7-4.8 10-4.8 4.2 0 7.8 1.8 9.8 4.7"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                          stroke-linecap="round"
                        />
                        <path
                          d="M34 36.5c.5 1 1.6 1.7 2.8 1.7"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.4"
                          stroke-linecap="round"
                        />
                        <path
                          d="M46 36.5c-.5 1-1.6 1.7-2.8 1.7"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.4"
                          stroke-linecap="round"
                        />
                        <path
                          d="M28 47c2.7 3.5 7 5.7 12 5.7s9.3-2.2 12-5.7"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.6"
                        />
                        <path
                          d="M30 51c3.2 3.3 6.8 5 10.9 5 4 0 7.7-1.7 11-4.9"
                          fill="none"
                          stroke="#3b291a"
                          stroke-width="1.4"
                        />
                      </svg>
                    </div>
                    <div class="portrait-label">Linh · baker</div>
                  </div>
                  <div>
                    <p class="testimonial-quote">
                      “I schedule my sourdough bakes around the CSA calendar.
                      The first tomato drop, the return of delicata — they all
                      get little stars in my notebook. Nothing beats CSA
                      bruschetta on still‑warm bread.”
                    </p>
                    <div class="testimonial-name">Linh</div>
                    <div class="testimonial-meta">
                      Partner baker · supplies our bread add-on
                    </div>
                  </div>
                </article>
              </div>
            </div>
            <div class="carousel-controls">
              <div class="carousel-buttons" aria-label="Carousel controls">
                <button
                  type="button"
                  class="icon-button"
                  id="testimonial-prev"
                  aria-label="Previous testimonial"
                >
                  <span aria-hidden="true">←</span>
                  <span>Prev</span>
                </button>
                <button
                  type="button"
                  class="icon-button"
                  id="testimonial-next"
                  aria-label="Next testimonial"
                >
                  <span>Next</span>
                  <span aria-hidden="true">→</span>
                </button>
              </div>
              <div
                class="carousel-dots"
                role="tablist"
                aria-label="Select testimonial"
              >
                <button
                  type="button"
                  class="carousel-dot is-active"
                  data-index="0"
                  role="tab"
                  aria-label="Show first testimonial"
                  aria-selected="true"
                ></button>
                <button
                  type="button"
                  class="carousel-dot"
                  data-index="1"
                  role="tab"
                  aria-label="Show second testimonial"
                  aria-selected="false"
                ></button>
                <button
                  type="button"
                  class="carousel-dot"
                  data-index="2"
                  role="tab"
                  aria-label="Show third testimonial"
                  aria-selected="false"
                ></button>
              </div>
            </div>
          </div>
        </section>

        <section id="faq" aria-labelledby="faq-heading">
          <div class="section-label">FAQ &amp; contact</div>
          <h2 id="faq-heading">Questions, answers, and a note from you</h2>
          <div class="faq-contact-layout">
            <div class="accordion" role="list">
              <div class="accordion-item" role="listitem">
                <button
                  class="accordion-header"
                  aria-expanded="true"
                  aria-controls="faq-panel-1"
                  id="faq-button-1"
                >
                  <span class="accordion-title">
                    What if I’m out of town for a week?
                  </span>
                  <span class="accordion-chevron" aria-hidden="true">›</span>
                </button>
                <div
                  class="accordion-panel"
                  id="faq-panel-1"
                  role="region"
                  aria-labelledby="faq-button-1"
                >
                  <div class="accordion-panel-inner">
                    <p>
                      You can
                      <strong>skip, donate, or gift</strong>
                      any delivery up to 48 hours in advance. Skipped weeks roll
                      into a farm credit you can use for extra produce, flowers,
                      or bread later in the season.
                    </p>
                  </div>
                </div>
              </div>

              <div class="accordion-item" role="listitem">
                <button
                  class="accordion-header"
                  aria-expanded="false"
                  aria-controls="faq-panel-2"
                  id="faq-button-2"
                >
                  <span class="accordion-title">
                    Do you offer sliding-scale or EBT payments?
                  </span>
                  <span class="accordion-chevron" aria-hidden="true">›</span>
                </button>
                <div
                  class="accordion-panel"
                  id="faq-panel-2"
                  role="region"
                  aria-labelledby="faq-button-2"
                >
                  <div class="accordion-panel-inner">
                    <p>
                      Yes. A portion of every share funds our
                      <strong>Solidarity Share</strong> program, and we accept
                      EBT at pick-up sites. Share a bit more if you’re able and
                      we’ll match it in discounted or free shares.
                    </p>
                  </div>
                </div>
              </div>

              <div class="accordion-item" role="listitem">
                <button
                  class="accordion-header"
                  aria-expanded="false"
                  aria-controls="faq-panel-3"
                  id="faq-button-3"
                >
                  <span class="accordion-title">
                    Can I customize what’s in my box?
                  </span>
                  <span class="accordion-chevron" aria-hidden="true">›</span>
                </button>
                <div
                  class="accordion-panel"
                  id="faq-panel-3"
                  role="region"
                  aria-labelledby="faq-button-3"
                >
                  <div class="accordion-panel-inner">
                    <p>
                      We keep
                      <strong>fields-first flexibility</strong>: you’ll see
                      swaps for items like cilantro vs. parsley or kale vs.
                      chard, plus a “chef’s choice” slot where we surprise you
                      with something new each month.
                    </p>
                  </div>
                </div>
              </div>

              <div class="accordion-item" role="listitem">
                <button
                  class="accordion-header"
                  aria-expanded="false"
                  aria-controls="faq-panel-4"
                  id="faq-button-4"
                >
                  <span class="accordion-title">
                    How accessible are deliveries and pick-ups?
                  </span>
                  <span class="accordion-chevron" aria-hidden="true">›</span>
                </button>
                <div
                  class="accordion-panel"
                  id="faq-panel-4"
                  role="region"
                  aria-labelledby="faq-button-4"
                >
                  <div class="accordion-panel-inner">
                    <p>
                      We offer
                      <strong>step-free deliveries</strong>
                      on request, plus low-vision labels and large-print recipe
                      cards. Pick-up sites list stairs, ramp access, and parking
                      details so you can choose the best fit.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <aside class="contact-card" aria-label="Contact form">
              <h3 style="margin-bottom: 0.2rem">Say hello to the farm crew</h3>
              <p>
                Share your questions, dietary needs, or favorite recipes. We’ll
                reply within two business days — usually after morning harvest,
                once the mud has dried on our boots.
              </p>

              <form
                class="contact-form"
                id="contact-form"
                novalidate
                aria-describedby="contact-note contact-success"
              >
                <div class="field">
                  <label for="contact-name">Name</label>
                  <input
                    id="contact-name"
                    name="name"
                    type="text"
                    autocomplete="name"
                    required
                  />
                </div>
                <div class="field">
                  <label for="contact-email">Email</label>
                  <input
                    id="contact-email"
                    name="email"
                    type="email"
                    autocomplete="email"
                    required
                  />
                </div>
                <div class="field">
                  <label for="contact-message">Message</label>
                  <textarea
                    id="contact-message"
                    name="message"
                    required
                  ></textarea>
                </div>
                <button type="submit" class="pill-cta">
                  <span>Send a note</span>
                  <span class="icon" aria-hidden="true">✉</span>
                </button>
                <div id="contact-note" class="contact-note">
                  Your message is sent as a gentle demo only &mdash; no emails
                  will leave this page.
                </div>
                <div
                  id="contact-success"
                  class="contact-success"
                  role="status"
                  aria-live="polite"
                ></div>
              </form>
            </aside>
          </div>
        </section>
      </main>

      <footer class="site-footer">
        <div class="footer-small">
          © <span id="year"></span> Artisan CSA · sketched on paper, shared
          online.
        </div>
        <div class="footer-pill">
          Built with semantic HTML, accessible controls, and a hand-drawn
          palette.
        </div>
      </footer>
    </div>

    <script>
      (function () {
        const yearEl = document.getElementById("year");
        if (yearEl) {
          yearEl.textContent = new Date().getFullYear();
        }

        const parallaxEls = Array.from(
          document.querySelectorAll(".parallax[data-parallax-depth]")
        );
        let lastScrollY = window.scrollY;
        let ticking = false;
        function updateParallax() {
          const viewportHeight = window.innerHeight || 800;
          parallaxEls.forEach((el) => {
            const depth = parseFloat(el.getAttribute("data-parallax-depth")) || 0;
            if (!depth) return;
            const rect = el.getBoundingClientRect();
            const offsetCenter = rect.top + rect.height / 2 - viewportHeight / 2;
            const translate = (-offsetCenter / viewportHeight) * depth * 40;
            el.style.transform = "translateY(" + translate.toFixed(1) + "px)";
          });
          ticking = false;
        }
        function onScroll() {
          lastScrollY = window.scrollY || window.pageYOffset;
          if (!ticking) {
            window.requestAnimationFrame(updateParallax);
            ticking = true;
          }
        }
        if ("requestAnimationFrame" in window) {
          window.addEventListener("scroll", onScroll, { passive: true });
          updateParallax();
        }

        const zipForm = document.getElementById("zip-form");
        const zipInput = document.getElementById("zip-input");
        const zipMessage = document.getElementById("zip-message");
        if (zipForm && zipInput && zipMessage) {
          zipForm.addEventListener("submit", function (event) {
            event.preventDefault();
            const value = zipInput.value.trim();
            zipMessage.classList.remove("zip-message-ok", "zip-message-warn");
            if (!/^[0-9]{5}$/.test(value)) {
              zipMessage.textContent = "Please enter a 5‑digit ZIP code.";
              zipMessage.classList.add("zip-message-warn");
              return;
            }
            const prefix = parseInt(value.slice(0, 2), 10);
            const inRadius = prefix === 94 || prefix === 95;
            if (inRadius) {
              zipMessage.textContent =
                "Wonderful — you’re within our current delivery radius!";
              zipMessage.classList.add("zip-message-ok");
            } else {
              zipMessage.textContent =
                "We’re not in that area yet, but you can still join the waitlist and suggest a pick-up hub.";
              zipMessage.classList.add("zip-message-warn");
            }
          });
        }

        const cadenceSlider = document.getElementById("cadence-slider");
        const cadenceLabel = document.getElementById("cadence-label");
        const cadenceText = document.getElementById("price-cadence-label");
        const priceTotal = document.getElementById("price-total");
        const priceBase = document.getElementById("price-base");
        const priceAddons = document.getElementById("price-addons");
        const priceMonthly = document.getElementById("price-monthly");
        const priceUnit = document.getElementById("price-unit");
        const priceFootnoteFrequency = document.getElementById(
          "price-footnote-frequency"
        );

        const basePrices = {
          weekly: 42,
          biweekly: 30,
        };

        function getCadenceKey() {
          return cadenceSlider && cadenceSlider.value === "0"
            ? "biweekly"
            : "weekly";
        }

        function calculateAddons() {
          let total = 0;
          document.querySelectorAll(".addon input[type='checkbox']").forEach((input) => {
            const label = input.closest(".addon");
            if (!label) return;
            const price = parseFloat(label.getAttribute("data-price") || "0");
            if (input.checked) {
              total += price;
            }
          });
          return total;
        }

        function refreshAddonsStyles() {
          document.querySelectorAll(".addon").forEach((label) => {
            const input = label.querySelector("input[type='checkbox']");
            if (!input) return;
            if (input.checked) {
              label.classList.add("addon-selected");
            } else {
              label.classList.remove("addon-selected");
            }
          });
        }

        function formatCurrency(value) {
          return "$" + value.toFixed(0);
        }

        function updatePricing() {
          const cadence = getCadenceKey();
          const base = basePrices[cadence];
          const addons = calculateAddons();
          const perDelivery = base + addons;
          const multiplier = cadence === "weekly" ? 4 : 2;
          const monthly = perDelivery * multiplier;

          if (cadenceLabel) {
            cadenceLabel.textContent =
              cadence === "weekly" ? "Weekly share" : "Bi‑weekly share";
          }
          if (cadenceText) {
            cadenceText.textContent =
              cadence === "weekly" ? "weekly" : "bi‑weekly";
          }
          if (priceBase) priceBase.textContent = formatCurrency(base);
          if (priceAddons) priceAddons.textContent = formatCurrency(addons);
          if (priceTotal) priceTotal.textContent = formatCurrency(perDelivery);
          if (priceMonthly)
            priceMonthly.textContent = formatCurrency(monthly);
          if (priceUnit)
            priceUnit.textContent =
              "per " + (cadence === "weekly" ? "week" : "delivery");
          if (priceFootnoteFrequency) {
            priceFootnoteFrequency.textContent =
              cadence === "weekly"
                ? "4 weekly deliveries"
                : "2 bi‑weekly deliveries";
          }
        }

        if (cadenceSlider) {
          cadenceSlider.addEventListener("input", updatePricing);
        }
        document
          .querySelectorAll(".addon input[type='checkbox']")
          .forEach((input) => {
            input.addEventListener("change", function () {
              refreshAddonsStyles();
              updatePricing();
            });
          });
        refreshAddonsStyles();
        updatePricing();

        const track = document.getElementById("testimonial-track");
        const prevBtn = document.getElementById("testimonial-prev");
        const nextBtn = document.getElementById("testimonial-next");
        const dots = Array.from(
          document.querySelectorAll(".carousel-dot[data-index]")
        );
        let testimonialIndex = 0;

        function setTestimonial(index, focusButton) {
          const total = dots.length;
          if (!track || total === 0) return;
          testimonialIndex = (index + total) % total;
          track.style.transform =
            "translateX(" + -testimonialIndex * 100 + "%)";

          dots.forEach((dot, i) => {
            const active = i === testimonialIndex;
            dot.classList.toggle("is-active", active);
            dot.setAttribute("aria-selected", active ? "true" : "false");
            if (active && focusButton) {
              dot.focus();
            }
          });

          const slides = track.querySelectorAll(".testimonial");
          slides.forEach((slide, i) => {
            slide.setAttribute(
              "aria-label",
              "Testimonial " + (i + 1) + " of " + total
            );
          });
        }

        if (prevBtn) {
          prevBtn.addEventListener("click", function () {
            setTestimonial(testimonialIndex - 1, false);
          });
        }
        if (nextBtn) {
          nextBtn.addEventListener("click", function () {
            setTestimonial(testimonialIndex + 1, false);
          });
        }
        dots.forEach((dot) => {
          dot.addEventListener("click", function () {
            const idx = parseInt(dot.getAttribute("data-index") || "0", 10);
            setTestimonial(idx, false);
          });
        });

        document
          .getElementById("stories")
          .addEventListener("keydown", function (event) {
            if (event.key === "ArrowRight") {
              event.preventDefault();
              setTestimonial(testimonialIndex + 1, false);
            } else if (event.key === "ArrowLeft") {
              event.preventDefault();
              setTestimonial(testimonialIndex - 1, false);
            }
          });

        let carouselTimer;
        function autoAdvance() {
          if (!track) return;
          carouselTimer = window.setTimeout(function () {
            setTestimonial(testimonialIndex + 1, false);
            autoAdvance();
          }, 9000);
        }
        autoAdvance();
        const carouselRegion = document.querySelector(".carousel-region");
        if (carouselRegion) {
          carouselRegion.addEventListener("focusin", function () {
            if (carouselTimer) window.clearTimeout(carouselTimer);
          });
          carouselRegion.addEventListener("focusout", function () {
            if (carouselTimer) window.clearTimeout(carouselTimer);
            autoAdvance();
          });
        }

        const accordionButtons = Array.from(
          document.querySelectorAll(".accordion-header")
        );
        const accordionPanels = Array.from(
          document.querySelectorAll(".accordion-panel")
        );

        function setAccordionOpen(button, panel, isOpen) {
          button.setAttribute("aria-expanded", isOpen ? "true" : "false");
          if (isOpen) {
            const height = panel.scrollHeight;
            panel.style.maxHeight = height + "px";
          } else {
            panel.style.maxHeight = "0px";
          }
        }

        accordionButtons.forEach((button, index) => {
          const panelId = button.getAttribute("aria-controls");
          const panel = panelId && document.getElementById(panelId);
          if (!panel) return;
          if (button.getAttribute("aria-expanded") === "true") {
            panel.style.maxHeight = panel.scrollHeight + "px";
          }
          button.addEventListener("click", function () {
            const isOpen = button.getAttribute("aria-expanded") === "true";
            accordionButtons.forEach((otherButton, otherIndex) => {
              const otherPanelId = otherButton.getAttribute("aria-controls");
              const otherPanel =
                otherPanelId && document.getElementById(otherPanelId);
              if (!otherPanel) return;
              const shouldOpen = otherButton === button ? !isOpen : false;
              setAccordionOpen(otherButton, otherPanel, shouldOpen);
            });
          });
          button.addEventListener("keydown", function (event) {
            if (event.key === "ArrowDown") {
              event.preventDefault();
              const next =
                accordionButtons[index + 1] || accordionButtons[0];
              next.focus();
            } else if (event.key === "ArrowUp") {
              event.preventDefault();
              const prev =
                accordionButtons[index - 1] ||
                accordionButtons[accordionButtons.length - 1];
              prev.focus();
            }
          });
        });

        const contactForm = document.getElementById("contact-form");
        const contactSuccess = document.getElementById("contact-success");
        if (contactForm && contactSuccess) {
          contactForm.addEventListener("submit", function (event) {
            event.preventDefault();
            const name = (
              document.getElementById("contact-name") || { value: "" }
            ).value.trim();
            const email = (
              document.getElementById("contact-email") || { value: "" }
            ).value.trim();
            const message = (
              document.getElementById("contact-message") || { value: "" }
            ).value.trim();
            if (!name || !email || !message) {
              contactSuccess.textContent =
                "Please fill in your name, email, and a short message so we know how to help.";
              contactSuccess.style.color = "#9a3e2a";
              return;
            }
            contactSuccess.style.color = "#2f7a4b";
            contactSuccess.textContent =
              "Thank you, " +
              name +
              ". Your note has been tucked into today’s harvest log.";
            contactForm.reset();
            refreshAddonsStyles();
            updatePricing();
          });
        }
      })();
    </script>
  </body>
</html>

