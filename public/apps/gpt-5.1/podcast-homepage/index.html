<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Podcast Home Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Discover and listen to the latest podcast episodes in a beautiful, audio-first experience."
    />
    <style>
      :root {
        --bg: #050814;
        --bg-elevated: #0b1021;
        --bg-elevated-soft: #101528;
        --accent: #ff6b3d;
        --accent-soft: rgba(255, 107, 61, 0.16);
        --accent-strong: #ff855f;
        --accent-alt: #4cd2ff;
        --accent-alt-soft: rgba(76, 210, 255, 0.14);
        --text: #f9fafb;
        --text-soft: #d1d5db;
        --text-muted: #9ca3af;
        --border-subtle: rgba(148, 163, 184, 0.24);
        --badge-bg: rgba(15, 23, 42, 0.9);
        --danger: #fb7185;
        --radius-lg: 20px;
        --radius-md: 12px;
        --radius-pill: 999px;
        --shadow-soft: 0 22px 50px rgba(15, 23, 42, 0.65);
        --shadow-subtle: 0 18px 40px rgba(15, 23, 42, 0.55);
        --blur-bg: 22px;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
        background: radial-gradient(circle at top, #111827 0, #020617 40%, #020617 100%);
        color: var(--text);
        -webkit-font-smoothing: antialiased;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: stretch;
      }

      .app-shell {
        position: relative;
        width: 100%;
        max-width: 1240px;
        margin: 16px auto;
        padding: 16px;
      }

      @media (min-width: 1024px) {
        .app-shell {
          padding: 24px 20px 24px;
        }
      }

      .glass-panel {
        position: relative;
        border-radius: 32px;
        padding: 18px 18px 92px;
        background: radial-gradient(circle at top left, #111827 0, #020617 55%, #020617 100%);
        border: 1px solid rgba(148, 163, 184, 0.25);
        box-shadow: var(--shadow-soft);
        overflow: hidden;
        min-height: 620px;
      }

      @media (min-width: 1024px) {
        .glass-panel {
          padding: 22px 24px 96px;
        }
      }

      .glass-panel::before {
        content: "";
        position: absolute;
        inset: -40%;
        background:
          radial-gradient(circle at 10% 20%, rgba(59, 130, 246, 0.3), transparent 45%),
          radial-gradient(circle at 80% 10%, rgba(236, 72, 153, 0.34), transparent 52%),
          radial-gradient(circle at 50% 100%, rgba(56, 189, 248, 0.3), transparent 55%);
        opacity: 0.4;
        pointer-events: none;
        filter: blur(10px);
      }

      .glass-inner {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        gap: 20px;
        height: 100%;
      }

      header.app-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        padding-bottom: 6px;
      }

      .brand-area {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .brand-mark {
        width: 40px;
        height: 40px;
        border-radius: 18px;
        background:
          radial-gradient(circle at 20% 0, rgba(248, 250, 252, 0.9), transparent 55%),
          conic-gradient(
            from 200deg,
            #22d3ee,
            #6366f1,
            #ec4899,
            #f97316,
            #22d3ee
          );
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 28px rgba(15, 23, 42, 0.85);
      }

      .brand-mark-inner {
        width: 58%;
        height: 58%;
        border-radius: 18px;
        background: radial-gradient(circle at 30% 10%, #f9fafb, #111827);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .brand-mark svg {
        width: 100%;
        height: 100%;
      }

      .brand-text {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .brand-text-title {
        display: flex;
        align-items: baseline;
        gap: 6px;
      }

      .brand-name {
        font-weight: 650;
        letter-spacing: 0.02em;
        font-size: 1.12rem;
      }

      .brand-beta {
        font-size: 0.7rem;
        color: var(--accent-alt);
        text-transform: uppercase;
        padding: 2px 7px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.85),
          rgba(30, 64, 175, 0.72)
        );
      }

      .brand-subtitle {
        font-size: 0.78rem;
        color: var(--text-muted);
      }

      nav.app-nav {
        display: none;
        align-items: center;
        gap: 16px;
        font-size: 0.86rem;
      }

      @media (min-width: 768px) {
        nav.app-nav {
          display: flex;
        }
      }

      .nav-link {
        position: relative;
        color: var(--text-soft);
        text-decoration: none;
        padding: 4px 0;
      }

      .nav-link span {
        opacity: 0.92;
        letter-spacing: 0.02em;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: -3px;
        width: 0;
        height: 2px;
        border-radius: 999px;
        background: linear-gradient(90deg, var(--accent), var(--accent-alt));
        transition: width 0.18s ease-out;
      }

      .nav-link[data-active="true"]::after {
        width: 100%;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .search-shell {
        position: relative;
        flex: 1;
        min-width: 0;
      }

      @media (min-width: 640px) {
        .search-shell {
          min-width: 210px;
        }
      }

      .search-input {
        width: 100%;
        padding: 8px 30px 8px 30px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
        color: var(--text);
        font-size: 0.84rem;
        outline: none;
        transition:
          border-color 0.15s ease-out,
          box-shadow 0.15s ease-out,
          background 0.15s ease-out;
      }

      .search-input::placeholder {
        color: var(--text-muted);
      }

      .search-input:focus {
        border-color: rgba(248, 250, 252, 0.9);
        box-shadow:
          0 0 0 1px rgba(248, 250, 252, 0.5),
          0 12px 30px rgba(15, 23, 42, 0.9);
        background: radial-gradient(circle at top left, #020617, #020617);
      }

      .search-icon {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        width: 14px;
        height: 14px;
        pointer-events: none;
        opacity: 0.7;
      }

      .search-kbd {
        position: absolute;
        right: 9px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 0.7rem;
        color: var(--text-muted);
        padding: 2px 6px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: rgba(15, 23, 42, 0.9);
      }

      .subscribe-group {
        display: none;
        align-items: center;
        gap: 8px;
      }

      @media (min-width: 768px) {
        .subscribe-group {
          display: flex;
        }
      }

      .btn {
        border-radius: var(--radius-pill);
        border: 1px solid transparent;
        padding: 7px 14px;
        font-size: 0.78rem;
        font-weight: 500;
        letter-spacing: 0.03em;
        text-transform: uppercase;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        transition:
          transform 0.12s ease-out,
          box-shadow 0.14s ease-out,
          background 0.14s ease-out,
          border-color 0.14s ease-out,
          color 0.14s ease-out;
        background: transparent;
        color: var(--text-soft);
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--accent), #ec4899);
        color: #0b1120;
        border-color: rgba(248, 250, 252, 0.86);
        box-shadow: 0 12px 30px rgba(15, 23, 42, 0.9);
      }

      .btn-primary:hover {
        transform: translateY(-1px);
        filter: brightness(1.05);
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.98);
      }

      .btn-ghost {
        border-color: rgba(148, 163, 184, 0.5);
        background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.93));
      }

      .btn-ghost:hover {
        border-color: rgba(248, 250, 252, 0.9);
        background: radial-gradient(circle at top left, #020617, #020617);
        transform: translateY(-1px);
      }

      .btn-icon {
        width: 15px;
        height: 15px;
      }

      main.app-main {
        display: grid;
        grid-template-columns: minmax(0, 1.4fr);
        gap: 20px;
        align-items: flex-start;
      }

      @media (min-width: 960px) {
        main.app-main {
          grid-template-columns: minmax(0, 1.35fr) minmax(280px, 0.9fr);
          gap: 20px;
        }
      }

      @media (min-width: 1180px) {
        main.app-main {
          grid-template-columns: minmax(0, 1.35fr) minmax(320px, 0.9fr);
          gap: 24px;
        }
      }

      .hero {
        background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.96)),
          linear-gradient(145deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.98));
        border-radius: var(--radius-lg);
        border: 1px solid rgba(148, 163, 184, 0.5);
        box-shadow: var(--shadow-subtle);
        padding: 18px 18px 18px;
        display: grid;
        grid-template-columns: minmax(0, 1.35fr);
        gap: 18px;
        position: relative;
        overflow: hidden;
      }

      @media (min-width: 768px) {
        .hero {
          grid-template-columns: minmax(0, 1.26fr) minmax(0, 1.1fr);
          padding: 20px 20px 18px;
        }
      }

      @media (min-width: 1024px) {
        .hero {
          padding: 22px 22px 20px;
        }
      }

      .hero::before {
        content: "";
        position: absolute;
        inset: -40%;
        background:
          radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.32), transparent 55%),
          radial-gradient(circle at 100% 0, rgba(236, 72, 153, 0.35), transparent 60%);
        mix-blend-mode: soft-light;
        opacity: 0.8;
        pointer-events: none;
      }

      .hero-content {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        gap: 14px;
      }

      .eyebrow {
        display: inline-flex;
        align-items: center;
        gap: 7px;
        padding: 3px 8px 3px 3px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.95);
        border: 1px solid rgba(148, 163, 184, 0.55);
        align-self: flex-start;
      }

      .eyebrow-pill {
        width: 18px;
        height: 18px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at 30% 0, #e5e7eb, #4f46e5);
        color: #020617;
        font-size: 0.72rem;
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.9);
      }

      .eyebrow-label {
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: var(--text-soft);
      }

      .eyebrow-dot {
        width: 5px;
        height: 5px;
        border-radius: 999px;
        background: var(--accent-alt);
        box-shadow: 0 0 12px rgba(56, 189, 248, 0.85);
      }

      .hero-heading {
        font-size: 1.6rem;
        line-height: 1.15;
        letter-spacing: -0.02em;
        margin: 4px 0 2px;
      }

      @media (min-width: 768px) {
        .hero-heading {
          font-size: 1.85rem;
        }
      }

      .hero-heading span {
        background: linear-gradient(120deg, #f97316, #f97316, #f97316, #f97316, #22d3ee);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .hero-subtitle {
        font-size: 0.92rem;
        color: var(--text-soft);
        max-width: 34rem;
      }

      .hero-meta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        font-size: 0.78rem;
        color: var(--text-muted);
      }

      .hero-meta-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: rgba(15, 23, 42, 0.88);
      }

      .meta-dot-live {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: var(--accent);
        box-shadow: 0 0 14px rgba(248, 113, 113, 0.9);
      }

      .meta-wave {
        display: inline-flex;
        gap: 1px;
      }

      .meta-wave span {
        display: block;
        width: 2px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.75);
      }

      .meta-wave span:nth-child(1) {
        height: 6px;
      }
      .meta-wave span:nth-child(2) {
        height: 10px;
      }
      .meta-wave span:nth-child(3) {
        height: 7px;
      }

      .hero-cta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 6px;
      }

      .btn-circle {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.95));
        cursor: pointer;
        transition:
          transform 0.12s ease-out,
          box-shadow 0.16s ease-out,
          border-color 0.16s ease-out,
          background 0.16s ease-out;
      }

      .btn-circle:hover {
        transform: translateY(-1px) scale(1.02);
        border-color: rgba(248, 250, 252, 0.9);
        background: radial-gradient(circle at top left, #020617, #020617);
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.98);
      }

      .btn-play-icon {
        width: 15px;
        height: 15px;
        margin-left: 1px;
        fill: #f9fafb;
      }

      .hero-cta-text {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .hero-cta-label {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        color: rgba(248, 250, 252, 0.8);
      }

      .hero-cta-episode {
        font-size: 0.86rem;
        color: var(--text-soft);
      }

      .hero-tags-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 10px;
      }

      .tag {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        padding: 4px 9px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: rgba(15, 23, 42, 0.9);
        color: var(--text-muted);
      }

      .tag-accent {
        border-color: rgba(248, 113, 113, 0.8);
        background: rgba(127, 29, 29, 0.5);
        color: #fee2e2;
      }

      .hero-visual {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .cover-card {
        position: relative;
        width: 100%;
        max-width: 260px;
        aspect-ratio: 1 / 1;
        border-radius: 28px;
        background:
          radial-gradient(circle at 15% 0, rgba(248, 250, 252, 0.95), transparent 55%),
          conic-gradient(
            from 210deg,
            #22d3ee,
            #6366f1,
            #ec4899,
            #f97316,
            #22d3ee
          );
        padding: 3px;
        box-shadow:
          0 40px 80px rgba(15, 23, 42, 0.96),
          0 0 40px rgba(59, 130, 246, 0.65);
      }

      .cover-inner {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 24px;
        overflow: hidden;
        background: radial-gradient(circle at 12% 0, #0f172a, #020617 45%, #020617 100%);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        padding: 14px 14px 14px;
        border: 1px solid rgba(15, 23, 42, 0.9);
      }

      .cover-top {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 10px;
      }

      .cover-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        font-size: 0.68rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
      }

      .cover-badge-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 14px rgba(34, 197, 94, 0.9);
      }

      .cover-waveform {
        display: flex;
        gap: 2px;
        align-items: flex-end;
      }

      .cover-waveform span {
        width: 3px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.9);
        box-shadow: 0 0 10px rgba(148, 163, 184, 0.7);
      }

      .cover-waveform span:nth-child(1) {
        height: 9px;
      }
      .cover-waveform span:nth-child(2) {
        height: 14px;
      }
      .cover-waveform span:nth-child(3) {
        height: 19px;
      }
      .cover-waveform span:nth-child(4) {
        height: 12px;
      }
      .cover-waveform span:nth-child(5) {
        height: 17px;
      }

      .cover-title {
        font-size: 1.1rem;
        letter-spacing: -0.02em;
        margin-top: 10px;
      }

      .cover-subtitle {
        font-size: 0.76rem;
        color: var(--text-muted);
        max-width: 16rem;
      }

      .cover-bottom {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        gap: 10px;
        margin-top: 12px;
      }

      .cover-avatars {
        display: flex;
        align-items: center;
      }

      .avatar-pill {
        width: 26px;
        height: 26px;
        border-radius: 999px;
        border: 1px solid rgba(15, 23, 42, 0.9);
        background: radial-gradient(circle at 30% 0, #f97316, #4f46e5);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.58rem;
        font-weight: 600;
        color: #0b1120;
        box-shadow: 0 12px 25px rgba(15, 23, 42, 0.95);
      }

      .avatar-pill:nth-child(2) {
        margin-left: -10px;
        background: radial-gradient(circle at 30% 0, #22d3ee, #6366f1);
      }

      .cover-metadata {
        font-size: 0.72rem;
        color: var(--text-muted);
        text-align: right;
      }

      .cover-burst {
        position: absolute;
        inset: -30%;
        background:
          radial-gradient(circle at 0 0, rgba(59, 130, 246, 0.3), transparent 60%),
          radial-gradient(circle at 100% 100%, rgba(244, 63, 94, 0.4), transparent 55%);
        mix-blend-mode: soft-light;
        opacity: 0.9;
        pointer-events: none;
      }

      .hero-floating-chip {
        position: absolute;
        bottom: 12%;
        left: 10%;
        border-radius: 999px;
        padding: 6px 10px;
        background: rgba(15, 23, 42, 0.92);
        border: 1px solid rgba(148, 163, 184, 0.7);
        font-size: 0.7rem;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
      }

      .hero-floating-chip span {
        color: var(--text-muted);
      }

      .hero-floating-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent-alt);
        box-shadow: 0 0 14px rgba(56, 189, 248, 0.9);
      }

      .side-panel {
        background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.97)),
          linear-gradient(145deg, rgba(15, 23, 42, 0.97), rgba(15, 23, 42, 0.98));
        border-radius: var(--radius-lg);
        border: 1px solid rgba(148, 163, 184, 0.45);
        box-shadow: var(--shadow-subtle);
        padding: 16px 16px 16px;
        display: flex;
        flex-direction: column;
        gap: 14px;
      }

      @media (min-width: 1024px) {
        .side-panel {
          padding: 18px 18px 16px;
        }
      }

      .side-header {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
      }

      .side-title {
        font-size: 0.98rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .side-subtitle {
        font-size: 0.75rem;
        color: var(--text-muted);
      }

      .side-subscribe {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 6px;
      }

      .subscribe-pill {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: rgba(15, 23, 42, 0.95);
        font-size: 0.72rem;
        padding: 5px 9px;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: var(--text-soft);
        cursor: pointer;
        transition:
          border-color 0.15s ease-out,
          background 0.15s ease-out,
          transform 0.12s ease-out,
          box-shadow 0.16s ease-out;
      }

      .subscribe-pill span {
        font-size: 0.8rem;
      }

      .subscribe-pill:hover {
        border-color: rgba(248, 250, 252, 0.9);
        background: radial-gradient(circle at top left, #020617, #020617);
        transform: translateY(-1px);
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
      }

      .subscribe-icon {
        width: 14px;
        height: 14px;
      }

      .side-divider {
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(148, 163, 184, 0.45),
          transparent
        );
        margin: 2px 0 0;
      }

      .side-metrics {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 4px;
      }

      .metric-card {
        flex: 1;
        min-width: 100px;
        padding: 8px 9px;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: linear-gradient(
          145deg,
          rgba(15, 23, 42, 0.98),
          rgba(15, 23, 42, 0.98)
        );
        display: flex;
        flex-direction: column;
        gap: 3px;
      }

      .metric-label {
        font-size: 0.7rem;
        color: var(--text-muted);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .metric-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.9);
      }

      .metric-value {
        font-size: 0.96rem;
        font-weight: 600;
      }

      .metric-trend {
        font-size: 0.7rem;
        color: #22c55e;
        display: inline-flex;
        align-items: center;
        gap: 3px;
      }

      .metric-badge {
        font-size: 0.7rem;
        padding: 2px 6px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: rgba(15, 23, 42, 0.96);
        color: var(--text-muted);
        align-self: flex-start;
        margin-top: 4px;
      }

      .side-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-top: 6px;
        font-size: 0.74rem;
        color: var(--text-muted);
      }

      .side-footer span {
        display: inline-flex;
        align-items: center;
        gap: 5px;
      }

      .side-footer-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent-alt);
      }

      .episodes-section {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 8px;
      }

      .episodes-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        gap: 8px;
      }

      .episodes-title {
        font-size: 0.96rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: var(--text-soft);
      }

      .episodes-count {
        font-size: 0.76rem;
        color: var(--text-muted);
      }

      .episodes-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 6px;
      }

      .filter-chip {
        border-radius: 999px;
        padding: 4px 9px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: rgba(15, 23, 42, 0.95);
        font-size: 0.72rem;
        color: var(--text-muted);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        transition:
          background 0.15s ease-out,
          border-color 0.15s ease-out,
          color 0.15s ease-out,
          transform 0.12s ease-out;
      }

      .filter-chip span {
        font-size: 0.78rem;
      }

      .filter-chip:hover {
        border-color: rgba(248, 250, 252, 0.86);
        transform: translateY(-1px);
      }

      .filter-chip[data-active="true"] {
        background: linear-gradient(135deg, rgba(248, 113, 113, 0.8), rgba(249, 115, 22, 0.9));
        border-color: rgba(248, 250, 252, 0.98);
        color: #0b1120;
      }

      .filter-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.9);
      }

      .filter-chip[data-active="true"] .filter-dot {
        background: #0b1120;
      }

      .episodes-list {
        margin-top: 6px;
        border-radius: 18px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: linear-gradient(
          180deg,
          rgba(15, 23, 42, 0.96),
          rgba(15, 23, 42, 0.98)
        );
        max-height: 340px;
        overflow: hidden auto;
        padding: 1px;
        scroll-behavior: smooth;
      }

      .episodes-list::-webkit-scrollbar {
        width: 6px;
      }
      .episodes-list::-webkit-scrollbar-track {
        background: transparent;
      }
      .episodes-list::-webkit-scrollbar-thumb {
        background: rgba(71, 85, 105, 0.9);
        border-radius: 999px;
      }

      .episode-item {
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto;
        align-items: center;
        gap: 10px;
        padding: 9px 11px;
        border-radius: 14px;
        cursor: pointer;
        position: relative;
        transition:
          background 0.14s ease-out,
          transform 0.12s ease-out,
          box-shadow 0.16s ease-out;
      }

      .episode-item:not(:last-child)::after {
        content: "";
        position: absolute;
        left: 56px;
        right: 12px;
        bottom: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(30, 64, 175, 0.45),
          rgba(148, 163, 184, 0.4),
          transparent
        );
        opacity: 0.84;
      }

      .episode-item:hover {
        background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.96));
        transform: translateY(-1px);
        box-shadow: 0 16px 38px rgba(15, 23, 42, 0.9);
      }

      .episode-item[data-active="true"] {
        background: linear-gradient(
          135deg,
          rgba(248, 113, 113, 0.24),
          rgba(249, 115, 22, 0.24)
        );
        box-shadow:
          0 16px 40px rgba(15, 23, 42, 0.95),
          0 0 0 1px rgba(248, 250, 252, 0.8);
      }

      .episode-item[data-active="true"]::after {
        opacity: 0;
      }

      .episode-index {
        width: 34px;
        height: 34px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.7);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 0.72rem;
        color: var(--text-muted);
        background: rgba(15, 23, 42, 0.94);
        flex-shrink: 0;
      }

      .episode-main {
        display: flex;
        flex-direction: column;
        gap: 3px;
        min-width: 0;
      }

      .episode-title-row {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 6px;
      }

      .episode-title {
        font-size: 0.9rem;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .episode-badge {
        padding: 2px 6px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.65);
        font-size: 0.7rem;
        color: var(--text-muted);
        white-space: nowrap;
        flex-shrink: 0;
      }

      .episode-description {
        font-size: 0.78rem;
        color: var(--text-muted);
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .episode-meta-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        font-size: 0.72rem;
        color: var(--text-muted);
        margin-top: 2px;
      }

      .pill-outline {
        padding: 2px 6px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        background: rgba(15, 23, 42, 0.96);
      }

      .pill-icon {
        width: 10px;
        height: 10px;
        margin-right: 3px;
      }

      .episode-extra {
        display: flex;
        flex-direction: column;
        gap: 6px;
        align-items: flex-end;
      }

      .episode-time {
        font-size: 0.76rem;
        color: var(--text-soft);
      }

      .episode-controls {
        display: flex;
        gap: 4px;
      }

      .btn-xs {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        background: rgba(15, 23, 42, 0.96);
        color: var(--text-muted);
        padding: 3px 7px;
        font-size: 0.7rem;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        cursor: pointer;
        transition:
          background 0.12s ease-out,
          border-color 0.12s ease-out,
          transform 0.1s ease-out;
      }

      .btn-xs:hover {
        border-color: rgba(248, 250, 252, 0.9);
        background: rgba(15, 23, 42, 0.99);
        transform: translateY(-0.5px);
      }

      .btn-xs-primary {
        background: linear-gradient(135deg, rgba(248, 113, 113, 0.93), rgba(249, 115, 22, 0.94));
        border-color: rgba(248, 250, 252, 0.9);
        color: #0b1120;
      }

      .btn-xs-primary:hover {
        filter: brightness(1.04);
      }

      .btn-xs-icon {
        width: 11px;
        height: 11px;
      }

      .empty-state {
        padding: 16px 14px;
        text-align: center;
        font-size: 0.8rem;
        color: var(--text-muted);
      }

      .empty-pill {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px dashed rgba(148, 163, 184, 0.7);
        background: rgba(15, 23, 42, 0.98);
        margin-bottom: 6px;
      }

      .empty-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent);
      }

      .player-shell {
        position: fixed;
        left: 50%;
        transform: translateX(-50%);
        right: 0;
        bottom: 16px;
        width: min(100% - 32px, 1120px);
        z-index: 40;
        pointer-events: none;
      }

      @media (min-width: 1024px) {
        .player-shell {
          bottom: 20px;
        }
      }

      .player {
        pointer-events: auto;
        border-radius: 999px;
        padding: 10px 14px;
        background: radial-gradient(circle at 0 0, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.98));
        border: 1px solid rgba(148, 163, 184, 0.8);
        box-shadow:
          0 22px 60px rgba(15, 23, 42, 0.98),
          0 0 0 1px rgba(15, 23, 42, 0.9);
        display: grid;
        grid-template-columns: auto minmax(0, 2.5fr) minmax(0, 1.2fr);
        align-items: center;
        gap: 12px;
      }

      @media (max-width: 768px) {
        .player {
          grid-template-columns: auto minmax(0, 1.8fr);
          grid-template-rows: auto auto;
          row-gap: 8px;
          padding-right: 12px;
        }
        .player-extra {
          grid-column: 1 / -1;
          justify-self: flex-end;
        }
      }

      @media (max-width: 520px) {
        .player {
          grid-template-columns: auto minmax(0, 1fr);
        }
        .player-extra {
          display: none;
        }
      }

      .player-art {
        width: 40px;
        height: 40px;
        border-radius: 16px;
        background: radial-gradient(circle at 0 0, #f97316, #ef4444, #6366f1);
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
      }

      .player-art-inner {
        width: 72%;
        height: 72%;
        border-radius: 14px;
        background: radial-gradient(circle at 0 0, #111827, #020617);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .player-art-wave {
        display: flex;
        align-items: flex-end;
        gap: 2px;
      }

      .player-art-wave span {
        width: 2px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.9);
      }

      .player-art-wave span:nth-child(1) {
        height: 7px;
      }
      .player-art-wave span:nth-child(2) {
        height: 11px;
      }
      .player-art-wave span:nth-child(3) {
        height: 8px;
      }
      .player-art-wave span:nth-child(4) {
        height: 10px;
      }

      .player-main {
        display: flex;
        flex-direction: column;
        gap: 4px;
        min-width: 0;
      }

      .player-title-row {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 8px;
      }

      .player-title {
        font-size: 0.86rem;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .player-meta {
        font-size: 0.72rem;
        color: var(--text-muted);
        white-space: nowrap;
      }

      .player-controls-row {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn-player-main {
        width: 30px;
        height: 30px;
        border-radius: 999px;
        border: 1px solid rgba(248, 250, 252, 0.9);
        background: linear-gradient(135deg, var(--accent), #ec4899);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 12px 26px rgba(15, 23, 42, 0.95);
        transition:
          transform 0.12s ease-out,
          box-shadow 0.16s ease-out,
          filter 0.14s ease-out;
      }

      .btn-player-main:hover {
        transform: translateY(-1px) scale(1.03);
        filter: brightness(1.04);
        box-shadow: 0 18px 36px rgba(15, 23, 42, 0.98);
      }

      .btn-player-main-icon {
        width: 13px;
        height: 13px;
        fill: #0b1120;
      }

      .btn-player-small {
        width: 22px;
        height: 22px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(15, 23, 42, 0.98);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition:
          background 0.12s ease-out,
          border-color 0.12s ease-out,
          transform 0.1s ease-out;
      }

      .btn-player-small:hover {
        border-color: rgba(248, 250, 252, 0.9);
        background: rgba(15, 23, 42, 1);
        transform: translateY(-0.5px);
      }

      .btn-player-small-icon {
        width: 10px;
        height: 10px;
        fill: var(--text-soft);
      }

      .player-progress-shell {
        flex: 1;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .player-time {
        font-size: 0.7rem;
        color: var(--text-muted);
        width: 32px;
      }

      .player-bar {
        position: relative;
        flex: 1;
        height: 4px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.96);
        overflow: hidden;
        cursor: pointer;
      }

      .player-bar-buffer {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          90deg,
          rgba(55, 65, 81, 0.9),
          rgba(30, 64, 175, 0.9)
        );
        opacity: 0.45;
        transform-origin: left;
        transform: scaleX(0);
      }

      .player-bar-fill {
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg, var(--accent), var(--accent-alt));
        transform-origin: left;
        transform: scaleX(0);
      }

      .player-knob {
        position: absolute;
        top: 50%;
        left: 0%;
        transform: translate(-50%, -50%);
        width: 10px;
        height: 10px;
        border-radius: 999px;
        background: #f9fafb;
        box-shadow:
          0 0 0 4px rgba(248, 250, 252, 0.1),
          0 0 16px rgba(248, 250, 252, 0.8);
      }

      .player-extra {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 6px;
        font-size: 0.7rem;
        color: var(--text-muted);
      }

      .player-speed {
        border-radius: 999px;
        padding: 3px 8px;
        border: 1px solid rgba(148, 163, 184, 0.8);
        background: rgba(15, 23, 42, 0.98);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        transition:
          background 0.12s ease-out,
          border-color 0.12s ease-out,
          transform 0.1s ease-out;
      }

      .player-speed:hover {
        border-color: rgba(248, 250, 252, 0.9);
        background: rgba(15, 23, 42, 1);
        transform: translateY(-0.5px);
      }

      .player-queue-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: var(--accent-alt);
      }

      @keyframes pulseLive {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.75;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .meta-dot-live,
      .hero-floating-dot,
      .player-queue-dot {
        animation: pulseLive 1.5s ease-in-out infinite;
      }

      @media (max-width: 768px) {
        .glass-panel {
          padding-bottom: 108px;
        }
        header.app-header {
          flex-wrap: wrap;
        }
        .brand-text-title {
          flex-wrap: wrap;
        }
      }

      @media (max-width: 520px) {
        main.app-main {
          grid-template-columns: minmax(0, 1fr);
        }
        .side-panel {
          order: -1;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <div class="glass-panel">
        <div class="glass-inner">
          <header class="app-header">
            <div class="brand-area">
              <div class="brand-mark" aria-hidden="true">
                <div class="brand-mark-inner">
                  <svg viewBox="0 0 32 32" aria-hidden="true">
                    <g fill="none" stroke="#0f172a" stroke-linecap="round" stroke-width="2">
                      <path d="M4 18v-4" />
                      <path d="M9 22V10" />
                      <path d="M14 26V6" />
                      <path d="M19 22V10" />
                      <path d="M24 18v-4" />
                    </g>
                  </svg>
                </div>
              </div>
              <div class="brand-text">
                <div class="brand-text-title">
                  <div class="brand-name">Sonic&nbsp;Stories</div>
                  <div class="brand-beta">Podcast</div>
                </div>
                <div class="brand-subtitle">Audio-first journeys into modern tech & craft</div>
              </div>
            </div>
            <nav class="app-nav" aria-label="Primary">
              <a href="#episodes" class="nav-link" data-active="true"><span>Episodes</span></a>
              <a href="#subscribe" class="nav-link"><span>Subscribe</span></a>
              <a href="#about" class="nav-link"><span>About</span></a>
            </nav>
            <div class="header-right">
              <div class="search-shell" role="search">
                <svg class="search-icon" viewBox="0 0 20 20" aria-hidden="true">
                  <path
                    fill="#9ca3af"
                    d="M14.17 13.06a6 6 0 1 0-1.1 1.1l3.39 3.38a.78.78 0 1 0 1.1-1.1l-3.39-3.38Zm-4.17.94a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9Z"
                  />
                </svg>
                <input
                  type="search"
                  id="searchInput"
                  class="search-input"
                  placeholder="Search episodes, guests, topics…"
                  autocomplete="off"
                  aria-label="Search episodes"
                />
                <div class="search-kbd">⌘K</div>
              </div>
              <div class="subscribe-group">
                <button class="btn btn-ghost" type="button">
                  <svg class="btn-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill="#e5e7eb"
                      d="M10 2c4.42 0 8 3.58 8 8a1 1 0 0 1-2 0 6 6 0 0 0-6-6 1 1 0 0 1 0-2Zm0 4a4 4 0 0 1 4 4 1 1 0 0 1-2 0 2 2 0 1 0-4 0 1 1 0 0 1-2 0 4 4 0 0 1 4-4Zm0 5.5a1.5 1.5 0 0 1 1.12 2.49l.38 2.29a.75.75 0 0 1-1.48.25L10 15.5l-.02.03a.75.75 0 0 1-1.32-.51l.38-2.29A1.5 1.5 0 0 1 10 11.5Z"
                    />
                  </svg>
                  <span>Follow show</span>
                </button>
                <button class="btn btn-primary" type="button">
                  <svg class="btn-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill="#0b1120"
                      d="M4 4a2 2 0 0 1 2-2h3.17a2 2 0 0 1 1.41.59l4.83 4.83a2 2 0 0 1 .59 1.41V16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4Zm2 0v12h8v-5.59L10.59 4H6Z"
                    />
                  </svg>
                  <span>Subscribe</span>
                </button>
              </div>
            </div>
          </header>

          <main class="app-main">
            <section class="hero" aria-labelledby="hero-heading">
              <div class="hero-content">
                <div class="eyebrow">
                  <div class="eyebrow-pill">●</div>
                  <div class="eyebrow-label">Now playing</div>
                  <div class="eyebrow-dot"></div>
                </div>
                <h1 id="hero-heading" class="hero-heading">
                  Sink into beautifully produced <span>audio stories</span> about building what matters.
                </h1>
                <p id="hero-subtitle" class="hero-subtitle">
                  Each week, we sit down with makers, founders, and sound designers to unpack the craft behind
                  the products, tools, and ideas shaping our world.
                </p>
                <div class="hero-meta-row" id="hero-meta">
                  <div class="hero-meta-pill">
                    <div class="meta-dot-live"></div>
                    <span id="hero-meta-episode-count">24 episodes</span>
                  </div>
                  <div class="hero-meta-pill">
                    <div class="meta-wave">
                      <span></span><span></span><span></span>
                    </div>
                    <span id="hero-meta-frequency">New every Thursday</span>
                  </div>
                  <div class="hero-meta-pill">
                    <span id="hero-meta-duration">Audio-first • ~38 min avg</span>
                  </div>
                </div>
                <div class="hero-cta-row">
                  <button
                    type="button"
                    class="btn-circle"
                    id="heroPlayButton"
                    aria-label="Play featured episode"
                  >
                    <svg class="btn-play-icon" viewBox="0 0 20 20" aria-hidden="true">
                      <path
                        d="M4.75 3.25a1.25 1.25 0 0 1 1.88-1.07l10 6.25a1.25 1.25 0 0 1 0 2.14l-10 6.25A1.25 1.25 0 0 1 4.75 15.75V3.25Z"
                      />
                    </svg>
                  </button>
                  <div class="hero-cta-text">
                    <div class="hero-cta-label">Play the latest</div>
                    <button
                      type="button"
                      id="heroEpisodeLabel"
                      class="btn btn-ghost"
                      style="padding-inline: 10px"
                    >
                      <span>Loading episode…</span>
                    </button>
                  </div>
                </div>
                <div class="hero-tags-row" aria-label="Episode highlights" id="heroTags"></div>
              </div>
              <div class="hero-visual" aria-hidden="true">
                <div class="cover-card">
                  <div class="cover-inner">
                    <div class="cover-top">
                      <div class="cover-badge">
                        <span class="cover-badge-dot"></span>
                        Sonic Stories
                      </div>
                      <div class="cover-waveform">
                        <span></span><span></span><span></span><span></span><span></span>
                      </div>
                    </div>
                    <div>
                      <div class="cover-title" id="cover-title">Episode 01 • Warming up the mix</div>
                      <div class="cover-subtitle" id="cover-subtitle">
                        Behind the scenes with the people layering sound over the products we love.
                      </div>
                    </div>
                    <div class="cover-bottom">
                      <div class="cover-avatars">
                        <div class="avatar-pill">HN</div>
                        <div class="avatar-pill">AD</div>
                      </div>
                      <div class="cover-metadata">
                        <div id="cover-meta-duration">38 min • Story</div>
                        <div id="cover-meta-date">New this week</div>
                      </div>
                    </div>
                    <div class="cover-burst"></div>
                  </div>
                  <div class="hero-floating-chip">
                    <div class="hero-floating-dot"></div>
                    <span id="cover-floating">Immersive spatial audio mix</span>
                  </div>
                </div>
              </div>
            </section>

            <aside class="side-panel" aria-labelledby="subscribe-heading" id="subscribe">
              <div class="side-header">
                <div>
                  <div id="subscribe-heading" class="side-title">Subscribe</div>
                  <div class="side-subtitle">
                    Add Sonic Stories to your favorite listening app.
                  </div>
                </div>
                <div class="metric-badge">Free • No ads</div>
              </div>
              <div class="side-subscribe" aria-label="Subscribe on">
                <button
                  type="button"
                  class="subscribe-pill"
                  data-link="https://podcasts.apple.com"
                >
                  <svg class="subscribe-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <defs>
                      <linearGradient id="apple-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#f97316" />
                        <stop offset="50%" stop-color="#f472b6" />
                        <stop offset="100%" stop-color="#6366f1" />
                      </linearGradient>
                    </defs>
                    <circle cx="10" cy="10" r="7.5" fill="url(#apple-grad)" />
                    <circle cx="10" cy="10" r="2" fill="#0b1120" />
                    <circle cx="10" cy="10" r="3.2" fill="none" stroke="#0b1120" stroke-width="1.1" />
                    <path
                      d="M10 5.75a4.5 4.5 0 0 1 4.5 4.5"
                      fill="none"
                      stroke="#0b1120"
                      stroke-width="1"
                      stroke-linecap="round"
                    />
                    <path
                      d="M10 4.2a6 6 0 0 1 6 6"
                      fill="none"
                      stroke="#0b1120"
                      stroke-width="0.9"
                      stroke-linecap="round"
                      opacity="0.55"
                    />
                  </svg>
                  <span>Apple Podcasts</span>
                </button>
                <button
                  type="button"
                  class="subscribe-pill"
                  data-link="https://open.spotify.com"
                >
                  <svg class="subscribe-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <circle cx="10" cy="10" r="7.5" fill="#22c55e" />
                    <path
                      d="M6 7.6c2.4-.35 4.6-.13 6.7.66"
                      fill="none"
                      stroke="#052e16"
                      stroke-width="1.1"
                      stroke-linecap="round"
                    />
                    <path
                      d="M6.4 9.3c1.94-.26 3.66-.08 5.28.56"
                      fill="none"
                      stroke="#052e16"
                      stroke-width="1"
                      stroke-linecap="round"
                    />
                    <path
                      d="M6.8 11c1.48-.17 2.78 0 3.96.47"
                      fill="none"
                      stroke="#052e16"
                      stroke-width="0.9"
                      stroke-linecap="round"
                    />
                  </svg>
                  <span>Spotify</span>
                </button>
                <button
                  type="button"
                  class="subscribe-pill"
                  data-link="https://podcasts.google.com"
                >
                  <svg class="subscribe-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <rect x="4.2" y="4.2" width="2.2" height="4" rx="1.1" fill="#22c55e" />
                    <rect x="8.9" y="3" width="2.2" height="6.5" rx="1.1" fill="#f97316" />
                    <rect x="13.6" y="4.2" width="2.2" height="4" rx="1.1" fill="#6366f1" />
                    <rect x="8.9" y="10.4" width="2.2" height="6.5" rx="1.1" fill="#22d3ee" />
                  </svg>
                  <span>Google Podcasts</span>
                </button>
                <button type="button" class="subscribe-pill" data-link="#">
                  <svg class="subscribe-icon" viewBox="0 0 20 20" aria-hidden="true">
                    <path
                      fill="#e5e7eb"
                      d="M4 4.75C4 4.34 4.34 4 4.75 4 10.41 4 15 8.59 15 14.25 15 14.66 14.66 15 14.25 15s-.75-.34-.75-.75A8.75 8.75 0 0 0 4.75 5.5C4.34 5.5 4 5.16 4 4.75Zm0 4c0-.41.34-.75.75-.75A6 6 0 0 1 10.75 14c0 .41-.34.75-.75.75S9.25 14.41 9.25 14A4.5 4.5 0 0 0 4.75 9.5 .75.75 0 0 1 4 8.75Zm2.25 4c0-.69.56-1.25 1.25-1.25S8.75 12.06 8.75 12.75 8.19 14 7.5 14 6.25 13.44 6.25 12.75Z"
                    />
                  </svg>
                  <span>RSS</span>
                </button>
              </div>
              <div class="side-divider"></div>
              <div class="side-metrics" aria-label="Show statistics">
                <div class="metric-card">
                  <div class="metric-label">
                    <span class="metric-dot"></span>
                    <span>Listeners</span>
                  </div>
                  <div class="metric-value" id="metric-listeners">38.2K</div>
                  <div class="metric-trend">
                    <span>▲</span>
                    <span>+14% this month</span>
                  </div>
                </div>
                <div class="metric-card">
                  <div class="metric-label">
                    <span class="metric-dot"></span>
                    <span>Avg. rating</span>
                  </div>
                  <div class="metric-value" id="metric-rating">4.9</div>
                  <div class="metric-trend">
                    <span>★</span>
                    <span>1.2K reviews</span>
                  </div>
                </div>
              </div>
              <div class="side-footer">
                <span>
                  <span class="side-footer-dot"></span>
                  New here? Start with the latest story.
                </span>
                <span id="about">Hosted by Hannah &amp; Amir</span>
              </div>
            </aside>
          </main>

          <section class="episodes-section" id="episodes" aria-label="Episode list">
            <div class="episodes-header">
              <div>
                <div class="episodes-title">All episodes</div>
                <div class="episodes-count" id="episodesCountLabel">Loading episodes…</div>
              </div>
              <div class="episodes-filters" id="filterChips" aria-label="Filter episodes by type"></div>
            </div>
            <div class="episodes-list" id="episodesList" role="list"></div>
          </section>
        </div>
      </div>
    </div>

    <div class="player-shell" aria-label="Episode player">
      <div class="player" aria-live="polite">
        <div class="player-art">
          <div class="player-art-inner">
            <div class="player-art-wave">
              <span></span><span></span><span></span><span></span>
            </div>
          </div>
        </div>
        <div class="player-main">
          <div class="player-title-row">
            <div class="player-title" id="playerTitle">Select an episode to start listening</div>
            <div class="player-meta" id="playerMeta">No episode playing</div>
          </div>
          <div class="player-controls-row">
            <button
              type="button"
              class="btn-player-main"
              aria-label="Play or pause"
              id="playerPlayPause"
            >
              <svg class="btn-player-main-icon" viewBox="0 0 20 20" aria-hidden="true">
                <path
                  id="playerPlayPauseIcon"
                  d="M4.75 3.25a1.25 1.25 0 0 1 1.88-1.07l10 6.25a1.25 1.25 0 0 1 0 2.14l-10 6.25A1.25 1.25 0 0 1 4.75 15.75V3.25Z"
                />
              </svg>
            </button>
            <button
              type="button"
              class="btn-player-small"
              aria-label="Skip back 15 seconds"
              id="playerSkipBack"
            >
              <svg class="btn-player-small-icon" viewBox="0 0 20 20" aria-hidden="true">
                <path
                  d="M4.25 9A5.75 5.75 0 0 1 10 3.25H11a.75.75 0 0 1 0 1.5h-1A4.25 4.25 0 1 0 14.98 9a.75.75 0 0 1 1.5 0A5.75 5.75 0 1 1 4.25 9Z"
                />
                <path
                  d="M10.2 7.3a.75.75 0 0 0-1.4.4v4.5a.75.75 0 0 0 1.5 0v-2.7l.57.76a.75.75 0 0 0 1.2-.9l-1.87-2.06Z"
                />
              </svg>
            </button>
            <button
              type="button"
              class="btn-player-small"
              aria-label="Skip forward 15 seconds"
              id="playerSkipForward"
            >
              <svg class="btn-player-small-icon" viewBox="0 0 20 20" aria-hidden="true">
                <path
                  d="M15.75 9A5.75 5.75 0 0 1 10 14.75H9a.75.75 0 0 0 0 1.5h1A5.75 5.75 0 1 0 4.02 9a.75.75 0 0 0-1.5 0A7.25 7.25 0 1 1 16.75 9Z"
                />
                <path
                  d="M9.8 7.3a.75.75 0 0 1 1.4.4v4.5a.75.75 0 0 1-1.5 0v-2.7l-.57.76a.75.75 0 1 1-1.16-.94l1.83-2.06Z"
                />
              </svg>
            </button>
            <div class="player-progress-shell" aria-label="Playback progress">
              <div class="player-time" id="playerCurrent">0:00</div>
              <div class="player-bar" id="playerBar">
                <div class="player-bar-buffer" id="playerBuffer"></div>
                <div class="player-bar-fill" id="playerFill"></div>
                <div class="player-knob" id="playerKnob"></div>
              </div>
              <div class="player-time" id="playerDuration">0:00</div>
            </div>
          </div>
        </div>
        <div class="player-extra">
          <button type="button" class="player-speed" id="playerSpeed">
            <span>1.0x</span>
          </button>
          <span>
            <span class="player-queue-dot"></span>
            Queue • <span id="playerQueueCount">0</span>
          </span>
        </div>
      </div>
      <audio id="audioElement" preload="metadata"></audio>
    </div>

    <script>
      const EPISODES = [
        {
          id: "ep-24",
          number: 24,
          title: "Designing Calm Interfaces in a Noisy World",
          description:
            "Product designer Leah Campos shares how teams can build interfaces that sound as calm as they look, from notification chimes to subtle spatial cues.",
          category: "Design",
          type: "Interview",
          durationSeconds: 2520,
          publishedAt: "2024-10-03",
          tags: ["UX", "sound design", "calm tech"],
          highlight: "Soft gradients, softer notification sounds.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-3s.mp3"
        },
        {
          id: "ep-23",
          number: 23,
          title: "Shipping Audio Features Without Blowing Up Scope",
          description:
            "A tactical conversation with engineering lead Marcus Yoon about fitting streaming, downloads, and accessibility into a realistic roadmap.",
          category: "Engineering",
          type: "Deep Dive",
          durationSeconds: 2880,
          publishedAt: "2024-09-26",
          tags: ["roadmapping", "engineering", "product"],
          highlight: "Scope, constraints, and the art of saying no.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-6s.mp3"
        },
        {
          id: "ep-22",
          number: 22,
          title: "The Soundtrack of Remote Work",
          description:
            "From coffee shop hums to custom focus playlists, listeners share the ambient sounds that keep them in flow.",
          category: "Story",
          type: "Stories",
          durationSeconds: 2310,
          publishedAt: "2024-09-19",
          tags: ["remote work", "focus", "community"],
          highlight: "Voicemails from listeners around the world.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-9s.mp3"
        },
        {
          id: "ep-21",
          number: 21,
          title: "Debugging the Creative Process",
          description:
            "Composer Arjun Mehta walks through how he prototypes soundtracks for apps, iterating live on tiny motifs until they feel inevitable.",
          category: "Creative",
          type: "Workshop",
          durationSeconds: 2670,
          publishedAt: "2024-09-12",
          tags: ["music", "iteration", "craft"],
          highlight: "Hearing rough drafts evolve in real time.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-12s.mp3"
        },
        {
          id: "ep-20",
          number: 20,
          title: "From Whiteboard to Waveform: Prototyping Podcasts",
          description:
            "How indie teams take an idea scribbled on a whiteboard and turn it into a pilot episode without getting lost in the weeds.",
          category: "Production",
          type: "Deep Dive",
          durationSeconds: 2460,
          publishedAt: "2024-09-05",
          tags: ["prototyping", "indie", "production"],
          highlight: "A lightweight checklist for first-timers.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-15s.mp3"
        },
        {
          id: "ep-19",
          number: 19,
          title: "Tiny Sounds, Big Feelings",
          description:
            "We unpack the micro-interactions that make digital products feel warm, trustworthy, and human—often in under half a second.",
          category: "Design",
          type: "Stories",
          durationSeconds: 2190,
          publishedAt: "2024-08-29",
          tags: ["microcopy", "interfaces", "emotion"],
          highlight: "When a typing sound sparks delight.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-12s.mp3"
        },
        {
          id: "ep-18",
          number: 18,
          title: "Quiet Launches, Loud Impact",
          description:
            "Product marketer Mina Ortiz explains why their team ships quietly, then turns up the volume once the right signals show up.",
          category: "Strategy",
          type: "Interview",
          durationSeconds: 2550,
          publishedAt: "2024-08-22",
          tags: ["go-to-market", "launch", "experiments"],
          highlight: "A launch playbook that respects sleep.",
          audioUrl: "https://samplelib.com/lib/preview/mp3/sample-6s.mp3"
        }
      ];

      const FILTERS = [
        { id: "all", label: "All", chipLabel: "All" },
        { id: "Interview", label: "Interviews", chipLabel: "Interviews" },
        { id: "Deep Dive", label: "Deep dives", chipLabel: "Deep dives" },
        { id: "Stories", label: "Stories", chipLabel: "Stories" },
        { id: "Workshop", label: "Workshops", chipLabel: "Workshops" }
      ];

      const searchInput = document.getElementById("searchInput");
      const episodesList = document.getElementById("episodesList");
      const episodesCountLabel = document.getElementById("episodesCountLabel");
      const filterChips = document.getElementById("filterChips");

      const heroTags = document.getElementById("heroTags");
      const heroEpisodeLabel = document.getElementById("heroEpisodeLabel");
      const heroPlayButton = document.getElementById("heroPlayButton");
      const coverTitle = document.getElementById("cover-title");
      const coverSubtitle = document.getElementById("cover-subtitle");
      const coverMetaDuration = document.getElementById("cover-meta-duration");
      const coverMetaDate = document.getElementById("cover-meta-date");
      const coverFloating = document.getElementById("cover-floating");

      const playerTitle = document.getElementById("playerTitle");
      const playerMeta = document.getElementById("playerMeta");
      const playerPlayPauseButton = document.getElementById("playerPlayPause");
      const playerPlayPauseIcon = document.getElementById("playerPlayPauseIcon");
      const playerSkipBack = document.getElementById("playerSkipBack");
      const playerSkipForward = document.getElementById("playerSkipForward");
      const playerCurrent = document.getElementById("playerCurrent");
      const playerDuration = document.getElementById("playerDuration");
      const playerBar = document.getElementById("playerBar");
      const playerBuffer = document.getElementById("playerBuffer");
      const playerFill = document.getElementById("playerFill");
      const playerKnob = document.getElementById("playerKnob");
      const playerSpeed = document.getElementById("playerSpeed");
      const playerSpeedLabel = playerSpeed.querySelector("span");
      const playerQueueCount = document.getElementById("playerQueueCount");
      const audioElement = document.getElementById("audioElement");

      let currentEpisodeId = null;
      let currentFilterId = "all";
      let currentSpeedIndex = 0;
      const speedOptions = [1, 1.25, 1.5, 1.75, 2];
      const queue = [];

      function formatDuration(seconds) {
        if (!Number.isFinite(seconds)) return "0:00";
        const safeSeconds = Math.max(0, Math.floor(seconds));
        const minutes = Math.floor(safeSeconds / 60);
        const remaining = safeSeconds % 60;
        const padded = remaining.toString().padStart(2, "0");
        return minutes + ":" + padded;
      }

      function formatDate(dateString) {
        const date = new Date(dateString + "T00:00:00");
        if (Number.isNaN(date.getTime())) return "";
        const formatter = new Intl.DateTimeFormat(undefined, {
          month: "short",
          day: "numeric",
          year: "numeric"
        });
        return formatter.format(date);
      }

      function computeAverageDurationSeconds() {
        if (!EPISODES.length) return 0;
        const total = EPISODES.reduce((sum, ep) => sum + (ep.durationSeconds || 0), 0);
        return Math.round(total / EPISODES.length);
      }

      function updateHeroSection(featuredEpisode) {
        const totalEpisodes = EPISODES.length;
        const episodesCountText = totalEpisodes === 1 ? "1 episode" : totalEpisodes + " episodes";
        const average = computeAverageDurationSeconds();
        const heroMetaEpisodeCount = document.getElementById("hero-meta-episode-count");
        const heroMetaDuration = document.getElementById("hero-meta-duration");
        if (heroMetaEpisodeCount) {
          heroMetaEpisodeCount.textContent = episodesCountText;
        }
        heroMetaDuration.textContent = "Audio-first • ~" + formatDuration(average) + " avg";

        heroEpisodeLabel.querySelector("span").textContent =
          "EP " + featuredEpisode.number + " • " + featuredEpisode.title;

        heroTags.innerHTML = "";
        const primaryTag = document.createElement("div");
        primaryTag.className = "tag tag-accent";
        primaryTag.textContent = featuredEpisode.category + " • " + featuredEpisode.type;
        heroTags.appendChild(primaryTag);
        featuredEpisode.tags.slice(0, 3).forEach(function (tagText) {
          const tag = document.createElement("button");
          tag.type = "button";
          tag.className = "tag";
          tag.textContent = tagText;
          tag.addEventListener("click", function () {
            searchInput.value = tagText;
            applyFiltersAndRender();
            searchInput.focus();
          });
          heroTags.appendChild(tag);
        });

        coverTitle.textContent = "EP " + featuredEpisode.number + " • " + featuredEpisode.title;
        coverSubtitle.textContent = featuredEpisode.description;
        coverMetaDuration.textContent =
          formatDuration(featuredEpisode.durationSeconds) + " • " + featuredEpisode.type;
        coverMetaDate.textContent = formatDate(featuredEpisode.publishedAt);
        coverFloating.textContent = featuredEpisode.highlight;
      }

      function buildFilters() {
        filterChips.innerHTML = "";
        FILTERS.forEach(function (filter) {
          const chip = document.createElement("button");
          chip.type = "button";
          chip.className = "filter-chip";
          chip.dataset.filterId = filter.id;
          chip.dataset.active = filter.id === currentFilterId ? "true" : "false";
          const dot = document.createElement("span");
          dot.className = "filter-dot";
          const label = document.createElement("span");
          label.textContent = filter.chipLabel;
          chip.appendChild(dot);
          chip.appendChild(label);
          chip.addEventListener("click", function () {
            currentFilterId = filter.id;
            Array.prototype.forEach.call(
              filterChips.querySelectorAll(".filter-chip"),
              function (node) {
                node.dataset.active = node === chip ? "true" : "false";
              }
            );
            applyFiltersAndRender();
          });
          filterChips.appendChild(chip);
        });
      }

      function getFilteredEpisodes() {
        const query = searchInput.value.trim().toLowerCase();
        return EPISODES.filter(function (episode) {
          if (currentFilterId !== "all" && episode.type !== currentFilterId) {
            return false;
          }
          if (!query) return true;
          const haystack =
            (episode.title || "") +
            " " +
            (episode.description || "") +
            " " +
            (episode.category || "") +
            " " +
            (episode.tags || []).join(" ");
          return haystack.toLowerCase().includes(query);
        });
      }

      function renderEpisodes() {
        const filtered = getFilteredEpisodes();
        episodesList.innerHTML = "";

        const totalCount = EPISODES.length;
        const countText =
          filtered.length === totalCount
            ? filtered.length + " episodes"
            : filtered.length + " of " + totalCount + " episodes";
        episodesCountLabel.textContent = countText;

        if (!filtered.length) {
          const empty = document.createElement("div");
          empty.className = "empty-state";
          const pill = document.createElement("div");
          pill.className = "empty-pill";
          const dot = document.createElement("div");
          dot.className = "empty-dot";
          const text = document.createElement("span");
          text.textContent = "No matches yet";
          pill.appendChild(dot);
          pill.appendChild(text);
          const hint = document.createElement("div");
          hint.textContent = "Try a different topic, guest name, or clear filters.";
          empty.appendChild(pill);
          empty.appendChild(hint);
          episodesList.appendChild(empty);
          return;
        }

        filtered.forEach(function (episode, index) {
          const item = document.createElement("article");
          item.className = "episode-item";
          item.dataset.episodeId = episode.id;
          item.setAttribute("role", "listitem");
          if (episode.id === currentEpisodeId) {
            item.dataset.active = "true";
          }

          const indexBadge = document.createElement("div");
          indexBadge.className = "episode-index";
          indexBadge.textContent = "EP " + episode.number;

          const main = document.createElement("div");
          main.className = "episode-main";

          const titleRow = document.createElement("div");
          titleRow.className = "episode-title-row";
          const title = document.createElement("h2");
          title.className = "episode-title";
          title.textContent = episode.title;
          titleRow.appendChild(title);

          const typeBadge = document.createElement("div");
          typeBadge.className = "episode-badge";
          typeBadge.textContent = episode.type;
          titleRow.appendChild(typeBadge);

          const description = document.createElement("p");
          description.className = "episode-description";
          description.textContent = episode.description;

          const metaRow = document.createElement("div");
          metaRow.className = "episode-meta-row";

          const datePill = document.createElement("div");
          datePill.className = "pill-outline";
          datePill.textContent = formatDate(episode.publishedAt);

          const categoryPill = document.createElement("div");
          categoryPill.className = "pill-outline";
          categoryPill.textContent = episode.category;

          metaRow.appendChild(datePill);
          metaRow.appendChild(categoryPill);

          const tagsToShow = (episode.tags || []).slice(0, 2);
          tagsToShow.forEach(function (tagText) {
            const tagButton = document.createElement("button");
            tagButton.type = "button";
            tagButton.className = "pill-outline";
            tagButton.textContent = "#" + tagText;
            tagButton.addEventListener("click", function (event) {
              event.stopPropagation();
              searchInput.value = tagText;
              applyFiltersAndRender();
              searchInput.focus();
            });
            metaRow.appendChild(tagButton);
          });

          main.appendChild(titleRow);
          main.appendChild(description);
          main.appendChild(metaRow);

          const extra = document.createElement("div");
          extra.className = "episode-extra";

          const time = document.createElement("div");
          time.className = "episode-time";
          time.textContent = formatDuration(episode.durationSeconds);

          const controls = document.createElement("div");
          controls.className = "episode-controls";

          const playButton = document.createElement("button");
          playButton.type = "button";
          playButton.className = "btn-xs btn-xs-primary";
          const playIcon = document.createElement("span");
          playIcon.textContent = "▶";
          playIcon.className = "btn-xs-icon";
          const playLabel = document.createElement("span");
          playLabel.textContent = "Play";
          playButton.appendChild(playIcon);
          playButton.appendChild(playLabel);

          playButton.addEventListener("click", function (event) {
            event.stopPropagation();
            loadEpisode(episode.id, true);
          });

          const queueButton = document.createElement("button");
          queueButton.type = "button";
          queueButton.className = "btn-xs";
          const queueLabel = document.createElement("span");
          queueLabel.textContent = "Queue";
          queueButton.appendChild(queueLabel);
          queueButton.addEventListener("click", function (event) {
            event.stopPropagation();
            addToQueue(episode.id);
          });

          controls.appendChild(playButton);
          controls.appendChild(queueButton);

          extra.appendChild(time);
          extra.appendChild(controls);

          item.appendChild(indexBadge);
          item.appendChild(main);
          item.appendChild(extra);

          item.addEventListener("click", function () {
            loadEpisode(episode.id, true);
          });

          episodesList.appendChild(item);
        });
      }

      function applyFiltersAndRender() {
        renderEpisodes();
      }

      function findEpisodeById(id) {
        return EPISODES.find(function (ep) {
          return ep.id === id;
        });
      }

      function updatePlayerUiForEpisode(episode) {
        playerTitle.textContent = "EP " + episode.number + " • " + episode.title;
        playerMeta.textContent = episode.category + " • " + episode.type;
        const episodeElement = episodesList.querySelector('[data-episode-id="' + episode.id + '"]');
        Array.prototype.forEach.call(
          episodesList.querySelectorAll(".episode-item"),
          function (node) {
            node.dataset.active = node === episodeElement ? "true" : "false";
          }
        );
      }

      function setPlayPauseIcon(isPlaying) {
        if (isPlaying) {
          playerPlayPauseIcon.setAttribute(
            "d",
            "M7 4.25a1 1 0 0 1 1 1v9.5a1 1 0 0 1-2 0v-9.5a1 1 0 0 1 1-1Zm6 0a1 1 0 0 1 1 1v9.5a1 1 0 1 1-2 0v-9.5a1 1 0 0 1 1-1Z"
          );
        } else {
          playerPlayPauseIcon.setAttribute(
            "d",
            "M4.75 3.25a1.25 1.25 0 0 1 1.88-1.07l10 6.25a1.25 1.25 0 0 1 0 2.14l-10 6.25A1.25 1.25 0 0 1 4.75 15.75V3.25Z"
          );
        }
      }

      function loadEpisode(id, autoplay) {
        const episode = findEpisodeById(id);
        if (!episode) {
          return;
        }
        if (episode.id === currentEpisodeId && !audioElement.paused) {
          audioElement.currentTime = 0;
          return;
        }
        currentEpisodeId = episode.id;
        if (audioElement.src !== episode.audioUrl) {
          audioElement.src = episode.audioUrl;
        }
        updatePlayerUiForEpisode(episode);
        updateHeroSection(episode);
        if (autoplay) {
          audioElement
            .play()
            .then(function () {
              setPlayPauseIcon(true);
            })
            .catch(function () {
              setPlayPauseIcon(false);
            });
        } else {
          setPlayPauseIcon(false);
        }
      }

      function addToQueue(id) {
        if (!queue.includes(id)) {
          queue.push(id);
          playerQueueCount.textContent = queue.length.toString();
        }
      }

      function playNextInQueue() {
        if (!queue.length) {
          setPlayPauseIcon(false);
          return;
        }
        const nextId = queue.shift();
        playerQueueCount.textContent = queue.length.toString();
        loadEpisode(nextId, true);
      }

      function updateProgressUi() {
        const duration = audioElement.duration || 0;
        const currentTime = audioElement.currentTime || 0;
        if (duration <= 0) {
          playerFill.style.transform = "scaleX(0)";
          playerKnob.style.left = "0%";
          playerCurrent.textContent = "0:00";
          playerDuration.textContent = "0:00";
          return;
        }
        const ratio = Math.min(1, Math.max(0, currentTime / duration));
        playerFill.style.transform = "scaleX(" + ratio + ")";
        playerKnob.style.left = ratio * 100 + "%";
        playerCurrent.textContent = formatDuration(currentTime);
        playerDuration.textContent = formatDuration(duration);
      }

      function updateBufferUi() {
        const duration = audioElement.duration || 0;
        if (duration <= 0 || audioElement.buffered.length === 0) {
          playerBuffer.style.transform = "scaleX(0)";
          return;
        }
        const end = audioElement.buffered.end(audioElement.buffered.length - 1);
        const ratio = Math.min(1, Math.max(0, end / duration));
        playerBuffer.style.transform = "scaleX(" + ratio + ")";
      }

      function seekFromEvent(event) {
        const rect = playerBar.getBoundingClientRect();
        const x = event.clientX - rect.left;
        const ratio = Math.min(1, Math.max(0, x / rect.width));
        if (Number.isFinite(audioElement.duration) && audioElement.duration > 0) {
          audioElement.currentTime = ratio * audioElement.duration;
        }
      }

      function handleKeyboardShortcut(event) {
        if ((event.metaKey || event.ctrlKey) && event.key.toLowerCase() === "k") {
          event.preventDefault();
          searchInput.focus();
          searchInput.select();
        }
        if (event.code === "Space" && document.activeElement === document.body) {
          event.preventDefault();
          togglePlayPause();
        }
      }

      function togglePlayPause() {
        if (!currentEpisodeId) {
          if (EPISODES[0]) {
            loadEpisode(EPISODES[0].id, true);
          }
          return;
        }
        if (audioElement.paused) {
          audioElement
            .play()
            .then(function () {
              setPlayPauseIcon(true);
            })
            .catch(function () {
              setPlayPauseIcon(false);
            });
        } else {
          audioElement.pause();
          setPlayPauseIcon(false);
        }
      }

      function initPlayerControls() {
        playerPlayPauseButton.addEventListener("click", function () {
          togglePlayPause();
        });
        playerSkipBack.addEventListener("click", function () {
          if (!Number.isFinite(audioElement.currentTime)) return;
          audioElement.currentTime = Math.max(0, audioElement.currentTime - 15);
        });
        playerSkipForward.addEventListener("click", function () {
          if (!Number.isFinite(audioElement.currentTime)) return;
          if (!Number.isFinite(audioElement.duration) || audioElement.duration <= 0) return;
          audioElement.currentTime = Math.min(
            audioElement.duration,
            audioElement.currentTime + 15
          );
        });
        playerBar.addEventListener("click", function (event) {
          seekFromEvent(event);
        });

        let seeking = false;

        function handlePointerDown(event) {
          seeking = true;
          seekFromEvent(event);
          window.addEventListener("pointermove", handlePointerMove);
          window.addEventListener("pointerup", handlePointerUp);
        }

        function handlePointerMove(event) {
          if (!seeking) return;
          seekFromEvent(event);
        }

        function handlePointerUp(event) {
          if (!seeking) return;
          seeking = false;
          seekFromEvent(event);
          window.removeEventListener("pointermove", handlePointerMove);
          window.removeEventListener("pointerup", handlePointerUp);
        }

        playerKnob.addEventListener("pointerdown", function (event) {
          event.preventDefault();
          handlePointerDown(event);
        });
      }

      function initSpeedControl() {
        playerSpeed.addEventListener("click", function () {
          currentSpeedIndex = (currentSpeedIndex + 1) % speedOptions.length;
          const next = speedOptions[currentSpeedIndex];
          audioElement.playbackRate = next;
          playerSpeedLabel.textContent = next.toFixed(2).replace(/\.00$/, ".0") + "x";
        });
      }

      function initHeroActions(featuredEpisode) {
        heroPlayButton.addEventListener("click", function () {
          loadEpisode(featuredEpisode.id, true);
        });
        heroEpisodeLabel.addEventListener("click", function () {
          const episodeElement = episodesList.querySelector(
            '[data-episode-id="' + featuredEpisode.id + '"]'
          );
          if (episodeElement) {
            episodeElement.scrollIntoView({ behavior: "smooth", block: "nearest" });
            episodeElement.focus({ preventScroll: true });
          }
        });
      }

      function initSubscribeLinks() {
        const subscribeButtons = document.querySelectorAll(".subscribe-pill[data-link]");
        subscribeButtons.forEach(function (button) {
          const link = button.dataset.link;
          if (!link || link === "#") {
            button.addEventListener("click", function () {});
            return;
          }
          button.addEventListener("click", function () {
            window.open(link, "_blank", "noopener,noreferrer");
          });
        });
      }

      function initSearch() {
        searchInput.addEventListener("input", function () {
          applyFiltersAndRender();
        });
      }

      function initKeyboard() {
        window.addEventListener("keydown", handleKeyboardShortcut);
      }

      function initAudioElement() {
        audioElement.addEventListener("timeupdate", updateProgressUi);
        audioElement.addEventListener("progress", updateBufferUi);
        audioElement.addEventListener("loadedmetadata", function () {
          updateProgressUi();
          updateBufferUi();
        });
        audioElement.addEventListener("play", function () {
          setPlayPauseIcon(true);
        });
        audioElement.addEventListener("pause", function () {
          setPlayPauseIcon(false);
        });
        audioElement.addEventListener("ended", function () {
          setPlayPauseIcon(false);
          playNextInQueue();
        });
      }

      function initialize() {
        if (!EPISODES.length) {
          episodesCountLabel.textContent = "No episodes yet";
          return;
        }
        const featuredEpisode = EPISODES[0];
        updateHeroSection(featuredEpisode);
        buildFilters();
        renderEpisodes();
        initHeroActions(featuredEpisode);
        initPlayerControls();
        initSpeedControl();
        initSubscribeLinks();
        initSearch();
        initKeyboard();
        initAudioElement();
      }

      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", initialize);
      } else {
        initialize();
      }
    </script>
  </body>
</html>

