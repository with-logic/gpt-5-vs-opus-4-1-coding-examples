<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Markdown ‚Üí Slides</title>
    <meta
      name="description"
      content="Live Markdown-to-slides deck builder with keyboard navigation, fullscreen, and theme toggle."
    />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: light dark;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
      }

      body {
        min-height: 100vh;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter",
          "Segoe UI", sans-serif;
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
        display: flex;
        align-items: stretch;
        justify-content: center;
        padding: 24px 16px;
        background:
          radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.16), transparent),
          radial-gradient(circle at 100% 0, rgba(129, 140, 248, 0.18), transparent),
          radial-gradient(circle at 50% 100%, rgba(52, 211, 153, 0.16), transparent),
          #020617;
      }

      body.theme-light {
        --bg: #e5f0ff;
        --bg-elevated: rgba(255, 255, 255, 0.96);
        --bg-elevated-subtle: rgba(255, 255, 255, 0.86);
        --bg-subtle: rgba(248, 250, 252, 0.95);
        --border-subtle: rgba(148, 163, 184, 0.25);
        --accent: #2563eb;
        --accent-soft: rgba(37, 99, 235, 0.08);
        --accent-strong: #1d4ed8;
        --accent-soft-border: rgba(37, 99, 235, 0.32);
        --text: #020617;
        --text-subtle: #64748b;
        --danger: #b91c1c;
        --shadow-soft: 0 24px 60px rgba(15, 23, 42, 0.16);
        --slide-bg: radial-gradient(
            circle at top left,
            rgba(59, 130, 246, 0.12),
            transparent 55%
          ),
          radial-gradient(
            circle at bottom right,
            rgba(14, 116, 144, 0.2),
            transparent 60%
          ),
          #0b1120;
        --slide-border: rgba(148, 163, 184, 0.28);
        --code-bg: #020617;
        --code-text: #e5e7eb;
      }

      body.theme-dark {
        --bg: #020617;
        --bg-elevated: rgba(15, 23, 42, 0.96);
        --bg-elevated-subtle: rgba(15, 23, 42, 0.9);
        --bg-subtle: rgba(15, 23, 42, 0.96);
        --border-subtle: rgba(30, 64, 175, 0.6);
        --accent: #60a5fa;
        --accent-soft: rgba(59, 130, 246, 0.15);
        --accent-strong: #93c5fd;
        --accent-soft-border: rgba(147, 197, 253, 0.5);
        --text: #e5e7eb;
        --text-subtle: #9ca3af;
        --danger: #fecaca;
        --shadow-soft: 0 24px 70px rgba(15, 23, 42, 0.9);
        --slide-bg: radial-gradient(
            circle at top left,
            rgba(56, 189, 248, 0.18),
            transparent 55%
          ),
          radial-gradient(
            circle at bottom right,
            rgba(129, 140, 248, 0.2),
            transparent 60%
          ),
          #020617;
        --slide-border: rgba(148, 163, 184, 0.45);
        --code-bg: #020617;
        --code-text: #e5e7eb;
      }

      body.theme-light {
        color: var(--text);
        background:
          radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.36), transparent),
          radial-gradient(circle at 100% 0, rgba(129, 140, 248, 0.38), transparent),
          radial-gradient(circle at 50% 100%, rgba(52, 211, 153, 0.32), transparent),
          #e5edff;
      }

      .app-shell {
        width: min(1280px, 100%);
        margin: auto;
        background: linear-gradient(
              135deg,
              rgba(15, 23, 42, 0.93),
              rgba(15, 23, 42, 0.96)
            )
            padding-box;
        border-radius: 24px;
        padding: 22px 22px 20px;
        box-shadow: var(--shadow-soft);
        border: 1px solid rgba(148, 163, 184, 0.45);
        backdrop-filter: blur(26px) saturate(1.4);
        display: flex;
        flex-direction: column;
        gap: 16px;
        position: relative;
        overflow: hidden;
      }

      body.theme-light .app-shell {
        background: linear-gradient(
            135deg,
            rgba(248, 250, 252, 0.98),
            rgba(241, 245, 249, 0.98)
          )
          padding-box;
        border-color: rgba(148, 163, 184, 0.4);
      }

      .app-shell::before {
        content: "";
        position: absolute;
        inset: -120px;
        background:
          radial-gradient(circle at 0 0, rgba(59, 130, 246, 0.16), transparent 55%),
          radial-gradient(
            circle at 100% 0,
            rgba(45, 212, 191, 0.12),
            transparent 55%
          );
        opacity: 0.6;
        z-index: -1;
      }

      .app-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 4px 6px 8px;
      }

      .app-title {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .app-title-row {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .app-logo {
        width: 30px;
        height: 30px;
        border-radius: 999px;
        background:
          radial-gradient(circle at 30% 0, #e5e7eb, transparent 50%),
          conic-gradient(
            from 210deg,
            #22c55e,
            #0ea5e9,
            #6366f1,
            #a855f7,
            #22c55e
          );
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.6),
          0 8px 18px rgba(15, 23, 42, 0.65);
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .app-logo-mark {
        width: 16px;
        height: 16px;
        border-radius: 6px;
        background: radial-gradient(circle at 30% 0, #0f172a, transparent 55%),
          rgba(15, 23, 42, 0.9);
        box-shadow:
          0 0 0 1px rgba(248, 250, 252, 0.6),
          0 6px 16px rgba(15, 23, 42, 0.9);
      }

      .app-heading {
        font-size: 1.25rem;
        font-weight: 600;
        letter-spacing: 0.01em;
        color: #e5e7eb;
      }

      body.theme-light .app-heading {
        color: #020617;
      }

      .app-subtitle {
        font-size: 0.86rem;
        color: var(--text-subtle);
      }

      .app-header-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 6px 10px;
        font-size: 0.72rem;
        color: var(--text-subtle);
      }

      .app-chip {
        padding: 3px 8px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.28);
        background: rgba(15, 23, 42, 0.75);
        color: #e5e7eb;
        display: inline-flex;
        align-items: center;
        gap: 6px;
      }

      body.theme-light .app-chip {
        background: rgba(248, 250, 252, 0.96);
        color: #020617;
      }

      .app-chip-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.18);
      }

      .app-right-controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .pill-toggle {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 3px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(15, 23, 42, 0.8);
        cursor: pointer;
        min-width: 92px;
        overflow: hidden;
        color: var(--text-subtle);
        font-size: 0.78rem;
      }

      body.theme-light .pill-toggle {
        background: rgba(248, 250, 252, 0.96);
        border-color: rgba(148, 163, 184, 0.3);
      }

      .pill-thumb {
        position: absolute;
        top: 3px;
        bottom: 3px;
        width: 48%;
        border-radius: 999px;
        background: radial-gradient(
            circle at 0 0,
            rgba(248, 250, 252, 0.8),
            transparent 55%
          ),
          #0f172a;
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.85),
          0 10px 24px rgba(15, 23, 42, 0.95);
        transform: translateX(0%);
        transition: transform 0.22s cubic-bezier(0.4, 0, 0.2, 1);
      }

      body.theme-light .pill-thumb {
        background: radial-gradient(
            circle at 0 0,
            rgba(255, 255, 255, 0.9),
            transparent 55%
          ),
          #eff6ff;
        box-shadow:
          0 0 0 1px rgba(148, 163, 184, 0.65),
          0 10px 20px rgba(148, 163, 184, 0.45);
      }

      body.theme-dark .pill-thumb {
        transform: translateX(95%);
      }

      .pill-label {
        position: relative;
        z-index: 1;
        flex: 1;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
      }

      .pill-label-icon {
        font-size: 0.85em;
        opacity: 0.95;
      }

      .pill-label--light {
        color: #020617;
      }

      .pill-label--dark {
        color: #e5e7eb;
      }

      .pill-toggle:hover {
        border-color: rgba(129, 140, 248, 0.75);
      }

      .pill-toggle:focus-visible {
        outline: 2px solid #38bdf8;
        outline-offset: 3px;
      }

      .kbd-hint {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.66rem;
        padding: 2px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.88);
        color: #e5e7eb;
        border: 1px solid rgba(148, 163, 184, 0.5);
      }

      body.theme-light .kbd-hint {
        background: rgba(248, 250, 252, 0.96);
        color: #020617;
      }

      .toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 6px 8px 10px;
        border-radius: 14px;
        background: radial-gradient(
              circle at 0 0,
              rgba(37, 99, 235, 0.12),
              transparent 60%
            )
            padding-box;
        border: 1px solid rgba(148, 163, 184, 0.35);
      }

      body.theme-light .toolbar {
        background: radial-gradient(
              circle at 0 0,
              rgba(59, 130, 246, 0.12),
              transparent 60%
            )
            padding-box;
      }

      .toolbar-left {
        display: flex;
        flex-wrap: wrap;
        gap: 4px 10px;
        align-items: center;
      }

      .toolbar-title {
        font-size: 0.84rem;
        font-weight: 500;
        color: var(--text);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .toolbar-title span {
        color: var(--text-subtle);
        font-weight: 400;
      }

      .toolbar-hints {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        font-size: 0.78rem;
        color: var(--text-subtle);
      }

      .toolbar-hints code {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.78em;
        padding: 2px 5px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        border: 1px solid rgba(148, 163, 184, 0.7);
      }

      body.theme-light .toolbar-hints code {
        background: rgba(248, 250, 252, 0.96);
        color: #020617;
        border-color: rgba(148, 163, 184, 0.6);
      }

      .toolbar-right {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 6px;
      }

      .btn {
        position: relative;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: radial-gradient(
              circle at 0 0,
              rgba(148, 163, 184, 0.48),
              transparent 55%
            )
            padding-box;
        color: #e5e7eb;
        font-size: 0.78rem;
        padding: 5px 11px;
        border-radius: 999px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 7px;
        transition:
          border-color 0.16s ease-out,
          background-color 0.16s ease-out,
          transform 0.12s ease-out,
          box-shadow 0.12s ease-out;
        box-shadow:
          0 4px 10px rgba(15, 23, 42, 0.4),
          0 0 0 1px rgba(15, 23, 42, 0.6) inset;
        white-space: nowrap;
      }

      body.theme-light .btn {
        background: radial-gradient(
              circle at 0 0,
              rgba(248, 250, 252, 0.8),
              transparent 55%
            )
            padding-box;
        color: #020617;
        box-shadow:
          0 4px 9px rgba(148, 163, 184, 0.55),
          0 0 0 1px rgba(255, 255, 255, 0.85) inset;
      }

      .btn-primary {
        border-color: var(--accent-soft-border);
        background:
          radial-gradient(circle at 0 0, rgba(248, 250, 252, 0.85), transparent 55%),
          linear-gradient(135deg, #2563eb, #4f46e5) padding-box;
        color: #f9fafb;
        box-shadow:
          0 5px 18px rgba(37, 99, 235, 0.75),
          0 0 0 1px rgba(15, 23, 42, 0.8) inset;
      }

      .btn-ghost {
        background: transparent;
        box-shadow: none;
      }

      .btn-icon {
        font-size: 0.95em;
        opacity: 0.85;
      }

      .btn:hover {
        transform: translateY(-0.5px);
        box-shadow:
          0 7px 16px rgba(15, 23, 42, 0.7),
          0 0 0 1px rgba(15, 23, 42, 0.7) inset;
      }

      body.theme-light .btn:hover {
        box-shadow:
          0 7px 14px rgba(148, 163, 184, 0.7),
          0 0 0 1px rgba(255, 255, 255, 0.9) inset;
      }

      .btn-primary:hover {
        box-shadow:
          0 8px 24px rgba(37, 99, 235, 0.8),
          0 0 0 1px rgba(15, 23, 42, 0.8) inset;
      }

      .btn:active {
        transform: translateY(0.5px) scale(0.99);
        box-shadow:
          0 3px 8px rgba(15, 23, 42, 0.7),
          0 0 0 1px rgba(15, 23, 42, 0.7) inset;
      }

      .btn:focus-visible {
        outline: 2px solid #38bdf8;
        outline-offset: 2px;
      }

      .layout {
        display: grid;
        grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.1fr);
        gap: 14px;
        margin-top: 4px;
      }

      @media (max-width: 960px) {
        body {
          padding: 14px 10px;
        }

        .app-shell {
          padding: 18px 14px 16px;
          border-radius: 20px;
        }

        .layout {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      @media (max-width: 640px) {
        .app-header {
          flex-direction: column;
          align-items: flex-start;
        }

        .app-right-controls {
          align-self: stretch;
          justify-content: space-between;
        }

        .toolbar {
          flex-direction: column;
          align-items: flex-start;
        }

        .toolbar-right {
          width: 100%;
          justify-content: flex-start;
        }
      }

      .panel {
        border-radius: 18px;
        background: var(--bg-elevated-subtle);
        border: 1px solid rgba(30, 64, 175, 0.55);
        box-shadow:
          0 18px 40px rgba(15, 23, 42, 0.6),
          0 0 0 1px rgba(15, 23, 42, 0.9) inset;
        padding: 12px 12px 10px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        position: relative;
      }

      body.theme-light .panel {
        background: linear-gradient(
          180deg,
          rgba(248, 250, 252, 0.98),
          rgba(241, 245, 249, 0.96)
        );
        border-color: rgba(148, 163, 184, 0.55);
        box-shadow:
          0 14px 30px rgba(148, 163, 184, 0.7),
          0 0 0 1px rgba(255, 255, 255, 0.95) inset;
      }

      .panel-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }

      .panel-title {
        font-size: 0.82rem;
        font-weight: 500;
        letter-spacing: 0.02em;
        text-transform: uppercase;
        color: var(--text-subtle);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .panel-title-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: #22c55e;
        box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.14);
      }

      .panel-subtitle {
        font-size: 0.76rem;
        color: var(--text-subtle);
      }

      .panel-header-right {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.76rem;
        color: var(--text-subtle);
      }

      .badge-soft {
        padding: 2px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.85);
        border: 1px solid rgba(148, 163, 184, 0.6);
        color: #e5e7eb;
        display: inline-flex;
        align-items: center;
        gap: 5px;
      }

      body.theme-light .badge-soft {
        background: rgba(248, 250, 252, 0.98);
        border-color: rgba(148, 163, 184, 0.7);
        color: #020617;
      }

      .badge-dot {
        width: 6px;
        height: 6px;
        border-radius: 999px;
        background: rgba(52, 211, 153, 0.95);
      }

      .editor-wrapper {
        position: relative;
      }

      .editor {
        width: 100%;
        min-height: 260px;
        max-height: calc(100vh - 270px);
        resize: vertical;
        padding: 12px 12px 14px;
        border-radius: 14px;
        border: 1px solid rgba(51, 65, 85, 0.9);
        background: radial-gradient(
              circle at 0 0,
              rgba(15, 23, 42, 0.82),
              transparent 55%
            )
            padding-box;
        color: #e5e7eb;
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.82rem;
        line-height: 1.48;
        caret-color: var(--accent);
        outline: none;
      }

      .editor::placeholder {
        color: rgba(148, 163, 184, 0.7);
      }

      .editor:focus-visible {
        border-color: rgba(56, 189, 248, 0.9);
        box-shadow:
          0 0 0 1px rgba(56, 189, 248, 0.75),
          0 0 0 6px rgba(56, 189, 248, 0.25);
      }

      body.theme-light .editor {
        background: linear-gradient(
          180deg,
          rgba(248, 250, 252, 0.98),
          rgba(241, 245, 249, 0.98)
        );
        color: #020617;
        border-color: rgba(148, 163, 184, 0.7);
      }

      .editor-footer {
        margin-top: 6px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        font-size: 0.74rem;
        color: var(--text-subtle);
      }

      .editor-footer-left {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        align-items: center;
      }

      .editor-footer-right {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        align-items: center;
      }

      .metric {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 1px 7px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.88);
        border: 1px solid rgba(148, 163, 184, 0.65);
        color: #e5e7eb;
      }

      body.theme-light .metric {
        background: rgba(248, 250, 252, 0.98);
        color: #020617;
      }

      .metric-label {
        opacity: 0.8;
      }

      .metric-value {
        font-weight: 500;
      }

      .tag {
        padding: 1px 7px;
        border-radius: 999px;
        border: 1px dashed rgba(148, 163, 184, 0.7);
        background: rgba(15, 23, 42, 0.8);
      }

      body.theme-light .tag {
        background: rgba(248, 250, 252, 0.9);
      }

      .preview-panel {
        position: relative;
      }

      .preview-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }

      .preview-header-main {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .preview-title {
        font-size: 0.82rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.09em;
        color: var(--text-subtle);
      }

      .preview-meta {
        font-size: 0.76rem;
        color: var(--text-subtle);
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
      }

      .preview-meta strong {
        color: var(--text);
      }

      .preview-header-actions {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 6px;
      }

      .icon-button {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.6);
        padding: 4px 10px;
        font-size: 0.78rem;
        background: rgba(15, 23, 42, 0.92);
        color: #e5e7eb;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        cursor: pointer;
        box-shadow:
          0 4px 10px rgba(15, 23, 42, 0.8),
          0 0 0 1px rgba(15, 23, 42, 0.9) inset;
      }

      body.theme-light .icon-button {
        background: rgba(248, 250, 252, 0.98);
        color: #020617;
        box-shadow:
          0 4px 10px rgba(148, 163, 184, 0.7),
          0 0 0 1px rgba(255, 255, 255, 0.9) inset;
      }

      .icon-button:hover {
        border-color: rgba(129, 140, 248, 0.9);
      }

      .icon-button:focus-visible {
        outline: 2px solid #38bdf8;
        outline-offset: 2px;
      }

      .icon-button-icon {
        font-size: 0.9em;
      }

      .deck-root {
        margin-top: 8px;
        border-radius: 16px;
        background: radial-gradient(
            circle at 0 0,
            rgba(30, 64, 175, 0.75),
            transparent 55%
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(15, 118, 110, 0.7),
            transparent 60%
          ),
          #020617;
        padding: 10px 9px 9px;
        border: 1px solid rgba(148, 163, 184, 0.55);
        box-shadow:
          0 18px 38px rgba(15, 23, 42, 0.9),
          0 0 0 1px rgba(15, 23, 42, 0.95) inset;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      body.theme-light .deck-root {
        background: radial-gradient(
            circle at 0 0,
            rgba(96, 165, 250, 0.35),
            transparent 55%
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(52, 211, 153, 0.4),
            transparent 60%
          ),
          #0f172a;
        border-color: rgba(148, 163, 184, 0.7);
      }

      .deck-root[data-fullscreen="true"] {
        box-shadow:
          0 0 0 1px rgba(56, 189, 248, 0.95),
          0 0 0 10px rgba(56, 189, 248, 0.45);
      }

      .slide-stage {
        position: relative;
        width: 100%;
        border-radius: 12px;
        background: radial-gradient(
            circle at 0 0,
            rgba(15, 23, 42, 0.96),
            transparent 45%
          ),
          radial-gradient(
            circle at 100% 100%,
            rgba(15, 23, 42, 0.96),
            transparent 45%
          ),
          #020617;
        border: 1px solid rgba(15, 23, 42, 0.95);
        padding: 9px;
        overflow: hidden;
      }

      .slides-container {
        position: relative;
        width: 100%;
        aspect-ratio: 16 / 9;
        border-radius: 10px;
        overflow: hidden;
        background:
          radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.18), transparent 60%),
          radial-gradient(
            circle at 100% 100%,
            rgba(55, 65, 81, 0.22),
            transparent 60%
          ),
          #020617;
      }

      @supports not (aspect-ratio: 16 / 9) {
        .slides-container::before {
          content: "";
          display: block;
          padding-bottom: 56.25%;
        }

        .slides-container > .slide {
          position: absolute;
          inset: 0;
        }
      }

      .slide {
        position: absolute;
        inset: 0;
        padding: 18px 22px;
        border-radius: 10px;
        background: var(--slide-bg);
        color: #e5e7eb;
        border: 1px solid var(--slide-border);
        box-shadow:
          0 16px 40px rgba(0, 0, 0, 0.95),
          0 0 0 1px rgba(15, 23, 42, 0.9) inset;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        opacity: 0;
        transform: translateX(22px) scale(1.01);
        filter: saturate(1.05);
        transition:
          opacity 0.24s ease-out,
          transform 0.24s ease-out;
        pointer-events: none;
      }

      .slide.active {
        opacity: 1;
        transform: translateX(0) scale(1);
        pointer-events: auto;
      }

      .slide-inner {
        width: 100%;
        max-width: 880px;
        margin: 0 auto;
      }

      .slide h1,
      .slide h2,
      .slide h3,
      .slide h4 {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter",
          "Segoe UI", sans-serif;
        margin: 0 0 0.6em;
        line-height: 1.1;
        letter-spacing: 0.012em;
      }

      .slide h1 {
        font-size: clamp(2.1rem, 2.7vw, 2.6rem);
        font-weight: 700;
      }

      .slide h2 {
        font-size: clamp(1.7rem, 2.15vw, 2.05rem);
        font-weight: 600;
      }

      .slide h3 {
        font-size: clamp(1.3rem, 1.7vw, 1.6rem);
        font-weight: 600;
      }

      .slide h4 {
        font-size: clamp(1.1rem, 1.4vw, 1.3rem);
        font-weight: 600;
      }

      .slide p {
        margin: 0 0 0.65em;
        font-size: clamp(0.96rem, 1.05vw, 1.02rem);
        color: rgba(226, 232, 240, 0.96);
      }

      .slide ul,
      .slide ol {
        margin: 0.4em 0 0.4em 1.1em;
        padding: 0;
        font-size: clamp(0.96rem, 1.04vw, 1.02rem);
      }

      .slide ul li,
      .slide ol li {
        margin-bottom: 0.25em;
      }

      .slide ul li::marker {
        color: #a5b4fc;
      }

      .slide ol li::marker {
        color: #5eead4;
        font-weight: 500;
      }

      .slide strong {
        color: #f9fafb;
      }

      .slide em {
        color: #e5e7eb;
      }

      .slide blockquote {
        margin: 0.75em 0;
        padding: 0.6em 0.9em;
        border-radius: 10px;
        background: rgba(15, 23, 42, 0.85);
        border-left: 3px solid rgba(96, 165, 250, 0.95);
        color: rgba(226, 232, 240, 0.98);
      }

      .slide code {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.86em;
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        padding: 2px 5px;
        border-radius: 6px;
      }

      .slide pre {
        margin: 0.75em 0;
        padding: 0.65em 0.9em;
        border-radius: 10px;
        background: var(--code-bg);
        color: var(--code-text);
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.8rem;
        overflow: auto;
      }

      .slide pre code {
        background: transparent;
        padding: 0;
      }

      .slide table {
        border-collapse: collapse;
        margin: 0.6em 0;
        font-size: 0.8rem;
        width: 100%;
      }

      .slide th,
      .slide td {
        border: 1px solid rgba(148, 163, 184, 0.8);
        padding: 0.35em 0.5em;
      }

      .slide th {
        background: rgba(15, 23, 42, 0.9);
      }

      .slide hr {
        margin: 0.8em 0;
        border: none;
        height: 1px;
        background-image: linear-gradient(
          to right,
          rgba(148, 163, 184, 0.1),
          rgba(148, 163, 184, 0.85),
          rgba(148, 163, 184, 0.08)
        );
      }

      .deck-controls {
        display: flex;
        align-items: center;
        gap: 10px;
        justify-content: space-between;
      }

      .deck-controls-left,
      .deck-controls-right {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .nav-button {
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.7);
        background: rgba(15, 23, 42, 0.98);
        color: #e5e7eb;
        padding: 3px 11px;
        font-size: 0.8rem;
        display: inline-flex;
        align-items: center;
        gap: 5px;
        cursor: pointer;
        box-shadow:
          0 4px 10px rgba(15, 23, 42, 0.85),
          0 0 0 1px rgba(15, 23, 42, 0.95) inset;
      }

      body.theme-light .nav-button {
        background: rgba(248, 250, 252, 0.98);
        color: #020617;
        box-shadow:
          0 4px 9px rgba(148, 163, 184, 0.7),
          0 0 0 1px rgba(255, 255, 255, 0.9) inset;
      }

      .nav-button[disabled] {
        opacity: 0.45;
        cursor: default;
        box-shadow: none;
      }

      .nav-button:not([disabled]):hover {
        border-color: rgba(129, 140, 248, 0.95);
      }

      .nav-button:focus-visible {
        outline: 2px solid #38bdf8;
        outline-offset: 2px;
      }

      .deck-progress {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
        padding-inline: 4px;
      }

      .progress-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.45);
        box-shadow: 0 0 0 1px rgba(15, 23, 42, 0.9);
        cursor: pointer;
        transition:
          transform 0.15s ease-out,
          box-shadow 0.15s ease-out,
          background-color 0.15s ease-out;
      }

      .progress-dot--active {
        width: 22px;
        border-radius: 999px;
        background: linear-gradient(90deg, #60a5fa, #22c55e);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.95),
          0 0 0 5px rgba(37, 99, 235, 0.45);
      }

      .progress-dot:hover {
        transform: translateY(-1px);
        box-shadow:
          0 0 0 1px rgba(15, 23, 42, 0.9),
          0 0 0 4px rgba(148, 163, 184, 0.6);
      }

      .deck-hints {
        font-size: 0.72rem;
        color: rgba(226, 232, 240, 0.9);
        display: flex;
        justify-content: space-between;
        gap: 6px;
      }

      body.theme-light .deck-hints {
        color: #020617;
      }

      .deck-hints span {
        opacity: 0.8;
      }

      @media (max-width: 960px) {
        .deck-hints {
          flex-direction: column;
        }
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>
  </head>
  <body class="theme-light">
    <div class="app-shell">
      <header class="app-header">
        <div class="app-title">
          <div class="app-title-row">
            <div class="app-logo">
              <div class="app-logo-mark"></div>
            </div>
            <div>
              <div class="app-heading">Markdown ‚Üí Slides</div>
              <div class="app-subtitle">Live business-ready slide builder</div>
            </div>
          </div>
          <div class="app-header-meta">
            <span class="app-chip">
              <span class="app-chip-dot"></span>
              Live preview ¬∑ Markdown in, slides out
            </span>
            <span>Use a single <code>index.html</code> in any modern browser.</span>
          </div>
        </div>
        <div class="app-right-controls">
          <button
            id="themeToggle"
            class="pill-toggle"
            type="button"
            aria-label="Toggle light and dark theme"
          >
            <span class="pill-thumb" aria-hidden="true"></span>
            <span class="pill-label pill-label--light">
              <span class="pill-label-icon">‚òÄÔ∏è</span>
              Light
            </span>
            <span class="pill-label pill-label--dark">
              <span class="pill-label-icon">üåô</span>
              Dark
            </span>
          </button>
          <span class="kbd-hint">‚Üê / ‚Üí ¬∑ Space ¬∑ F</span>
        </div>
      </header>

      <section class="toolbar" aria-label="Editor controls">
        <div class="toolbar-left">
          <div class="toolbar-title">
            Markdown input
            <span>type, and watch the deck update instantly.</span>
          </div>
          <div class="toolbar-hints">
            <span>
              New slide:
              <code>---</code>
            </span>
            <span>Supports headings, lists, tables, code &amp; more.</span>
          </div>
        </div>
        <div class="toolbar-right">
          <button
            id="resetToSample"
            class="btn btn-primary"
            type="button"
            title="Reset the editor to the example deck"
          >
            <span class="btn-icon">‚ú¶</span>
            Reset to sample deck
          </button>
          <button
            id="clearEditor"
            class="btn btn-ghost"
            type="button"
            title="Clear all content"
          >
            <span class="btn-icon">‚äó</span>
            Clear
          </button>
        </div>
      </section>

      <main class="layout">
        <section class="panel">
          <div class="panel-header">
            <div>
              <div class="panel-title">
                <span class="panel-title-dot"></span>
                Markdown workspace
              </div>
              <div class="panel-subtitle">
                Capture your story as text; the deck will follow.
              </div>
            </div>
            <div class="panel-header-right">
              <span class="badge-soft">
                <span class="badge-dot"></span>
                Auto‚Äësave in this browser
              </span>
            </div>
          </div>
          <div class="editor-wrapper">
            <textarea
              id="markdownInput"
              class="editor"
              spellcheck="false"
              aria-label="Markdown input"
            ></textarea>
          </div>
          <footer class="editor-footer">
            <div class="editor-footer-left">
              <div class="metric">
                <span class="metric-label">Slides</span>
                <span class="metric-value" id="slideCountMetric">0</span>
              </div>
              <div class="metric">
                <span class="metric-label">Words</span>
                <span class="metric-value" id="wordCountMetric">0</span>
              </div>
              <span class="tag">Tip: think in headlines and talking points.</span>
            </div>
            <div class="editor-footer-right">
              <span>Changes are reflected immediately in the preview.</span>
            </div>
          </footer>
        </section>

        <section class="panel preview-panel">
          <div class="preview-header">
            <div class="preview-header-main">
              <div class="preview-title">Deck preview</div>
              <div class="preview-meta">
                <span id="slideCounterLabel">
                  Slide 1 of 1
                </span>
                ¬∑
                <span>Live layout tuned for 16:9 projectors.</span>
              </div>
            </div>
            <div class="preview-header-actions">
              <button
                id="fullscreenBtn"
                class="icon-button"
                type="button"
                title="Toggle fullscreen presentation mode"
              >
                <span class="icon-button-icon" aria-hidden="true">‚§¢</span>
                <span id="fullscreenBtnLabel">Fullscreen</span>
              </button>
            </div>
          </div>

          <div
            id="deckRoot"
            class="deck-root"
            tabindex="-1"
            aria-label="Slide deck"
          >
            <div class="slide-stage">
              <div id="slidesContainer" class="slides-container"></div>
            </div>
            <div class="deck-controls">
              <div class="deck-controls-left">
                <button
                  id="prevSlideBtn"
                  class="nav-button"
                  type="button"
                  title="Previous slide"
                >
                  <span aria-hidden="true">‚Üê</span>
                  Previous
                </button>
                <button
                  id="nextSlideBtn"
                  class="nav-button"
                  type="button"
                  title="Next slide"
                >
                  Next
                  <span aria-hidden="true">‚Üí</span>
                </button>
              </div>
              <div
                id="deckProgress"
                class="deck-progress"
                aria-hidden="false"
              ></div>
              <div class="deck-controls-right">
                <span class="metric" id="slidePositionMetric">
                  <span class="metric-label">Now</span>
                  <span class="metric-value">1 / 1</span>
                </span>
              </div>
            </div>
            <div class="deck-hints">
              <span>Navigate with ‚Üê / ‚Üí / Space. Press F or use the button for fullscreen.</span>
              <span>Ideal for live presenting directly from the browser.</span>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script>
      (function () {
        const STORAGE_KEY = "markdownSlides.editorContent";
        const THEME_KEY = "markdownSlides.theme";

        const hasDOMPurify = typeof DOMPurify !== "undefined";
        const hasMarked = typeof marked !== "undefined";

        if (hasMarked) {
          marked.setOptions({
            gfm: true,
            breaks: true,
            headerIds: false,
            mangle: false,
            smartLists: true,
            smartypants: true,
          });
        }

        const DEFAULT_MARKDOWN = `# Markdown ‚Üí Slides

Welcome to your live deck builder.

Use this workspace to sketch a story in Markdown.
The panel on the right turns it into presentation‚Äëready slides.

---

## Agenda

- Why Markdown works for storyboarding
- Live demo of the workflow
- Design tips for confident presenting
- Q&A

---

## Author slides in plain text

Use regular Markdown syntax:

- **Headings** become slide titles
- Bullets focus your talking points
- Tables, quotes, and code are supported
- Horizontal rule \`---\` (on its own line) starts a new slide

---

## Data snapshot

| Quarter | Revenue | Growth |
|--------|---------|--------|
| Q1     | $1.2M   | 18%    |
| Q2     | $1.4M   | 22%    |
| Q3     | $1.6M   | 19%    |
| Q4     | $1.9M   | 24%    |

Key takeaway: consistent, compounding growth across the year.

---

## Delivery timeline

1. Align on the narrative
2. Draft content in Markdown
3. Iterate with the live preview
4. Present directly from your browser

> Keep slides lean: one idea per slide.

---

## Present with confidence

- Toggle the theme to match the room
- Use **‚Üê / ‚Üí / Space** to navigate
- Press **F** or use the button for fullscreen
- Resize the window; the layout adapts

**Try it now:** tweak this text, add a slide, and see the deck respond in real time.`;

        const markdownInput = document.getElementById("markdownInput");
        const slideCountMetric = document.getElementById("slideCountMetric");
        const wordCountMetric = document.getElementById("wordCountMetric");
        const slideCounterLabel = document.getElementById("slideCounterLabel");
        const slidePositionMetric = document.getElementById(
          "slidePositionMetric"
        );
        const slidesContainer = document.getElementById("slidesContainer");
        const deckProgress = document.getElementById("deckProgress");
        const prevSlideBtn = document.getElementById("prevSlideBtn");
        const nextSlideBtn = document.getElementById("nextSlideBtn");
        const deckRoot = document.getElementById("deckRoot");
        const fullscreenBtn = document.getElementById("fullscreenBtn");
        const fullscreenBtnLabel =
          document.getElementById("fullscreenBtnLabel");
        const resetToSampleBtn = document.getElementById("resetToSample");
        const clearEditorBtn = document.getElementById("clearEditor");
        const themeToggle = document.getElementById("themeToggle");

        const state = {
          slides: [],
          currentIndex: 0,
        };

        function applyTheme(theme) {
          const body = document.body;
          const resolvedTheme = theme === "dark" ? "dark" : "light";
          body.classList.toggle("theme-dark", resolvedTheme === "dark");
          body.classList.toggle("theme-light", resolvedTheme === "light");
          try {
            localStorage.setItem(THEME_KEY, resolvedTheme);
          } catch (_) {}
        }

        function loadInitialTheme() {
          let stored = null;
          try {
            stored = localStorage.getItem(THEME_KEY);
          } catch (_) {}
          if (stored === "dark" || stored === "light") {
            applyTheme(stored);
            return;
          }
          const prefersDark =
            window.matchMedia &&
            window.matchMedia("(prefers-color-scheme: dark)").matches;
          applyTheme(prefersDark ? "dark" : "light");
        }

        function splitSlides(markdown) {
          const lines = markdown.split(/\r?\n/);
          const slides = [];
          let buffer = [];

          for (let i = 0; i < lines.length; i++) {
            const line = lines[i];
            if (line.trim() === "---") {
              slides.push(buffer.join("\n").trim());
              buffer = [];
            } else {
              buffer.push(line);
            }
          }
          slides.push(buffer.join("\n").trim());

          if (slides.length === 0) {
            slides.push("");
          }
          return slides;
        }

        function sanitize(html) {
          if (hasDOMPurify) {
            return DOMPurify.sanitize(html, {
              ALLOWED_ATTR: [
                "href",
                "title",
                "target",
                "rel",
                "colspan",
                "rowspan",
                "align",
              ],
              ALLOWED_TAGS: [
                "a",
                "b",
                "strong",
                "i",
                "em",
                "p",
                "ul",
                "ol",
                "li",
                "blockquote",
                "code",
                "pre",
                "h1",
                "h2",
                "h3",
                "h4",
                "h5",
                "h6",
                "hr",
                "table",
                "thead",
                "tbody",
                "tr",
                "th",
                "td",
                "br",
                "span",
              ],
            });
          }
          return html;
        }

        function countWords(text) {
          const cleaned = text
            .replace(/```[\s\S]*?```/g, " ")
            .replace(/`[^`]*`/g, " ")
            .replace(/[#>*\-\d]+/g, " ")
            .replace(/\s+/g, " ")
            .trim();
          if (!cleaned) return 0;
          return cleaned.split(" ").length;
        }

        function renderSlides() {
          const markdown = markdownInput.value || "";
          try {
            localStorage.setItem(STORAGE_KEY, markdown);
          } catch (_) {}

          const slides = splitSlides(markdown);
          state.slides = slides;

          if (state.currentIndex >= slides.length) {
            state.currentIndex = Math.max(slides.length - 1, 0);
          }

          slidesContainer.innerHTML = "";

          slides.forEach((slideMarkdown, index) => {
            const slideEl = document.createElement("section");
            slideEl.className = "slide";
            slideEl.setAttribute("data-index", String(index));

            const contentEl = document.createElement("div");
            contentEl.className = "slide-inner";

            let html = "";
            if (hasMarked) {
              const source =
                slideMarkdown && slideMarkdown.trim().length
                  ? slideMarkdown
                  : "_(Empty slide) Add content in the editor._";
              html = marked.parse(source);
            } else {
              html = "<p>" + slideMarkdown + "</p>";
            }

            contentEl.innerHTML = sanitize(html);
            slideEl.appendChild(contentEl);

            if (index === state.currentIndex) {
              slideEl.classList.add("active");
            }
            slidesContainer.appendChild(slideEl);
          });

          updateDeckUI();
          updateEditorMetrics(markdown, slides.length);
        }

        function updateEditorMetrics(markdown, slideCount) {
          const words = countWords(markdown);
          slideCountMetric.textContent = String(slideCount);
          wordCountMetric.textContent = String(words);
        }

        function updateDeckUI() {
          const total = state.slides.length || 1;
          const current = total ? state.currentIndex + 1 : 0;

          slideCounterLabel.textContent =
            "Slide " + current + " of " + total;

          const metricValue = slidePositionMetric.querySelector(
            ".metric-value"
          );
          if (metricValue) {
            metricValue.textContent = current + " / " + total;
          }

          prevSlideBtn.disabled = current <= 1;
          nextSlideBtn.disabled = current >= total;

          const allSlides = slidesContainer.querySelectorAll(".slide");
          allSlides.forEach((slideEl) => {
            const index = Number(slideEl.getAttribute("data-index") || "0");
            if (index === state.currentIndex) {
              slideEl.classList.add("active");
            } else {
              slideEl.classList.remove("active");
            }
          });

          deckProgress.innerHTML = "";
          for (let i = 0; i < total; i++) {
            const dot = document.createElement("button");
            dot.type = "button";
            dot.className =
              "progress-dot" + (i === state.currentIndex ? " progress-dot--active" : "");
            dot.setAttribute("aria-label", "Go to slide " + (i + 1));
            dot.addEventListener("click", () => {
              goToSlide(i);
            });
            deckProgress.appendChild(dot);
          }
        }

        function goToSlide(index) {
          if (!state.slides.length) return;
          const clamped = Math.max(0, Math.min(index, state.slides.length - 1));
          if (clamped === state.currentIndex) return;
          state.currentIndex = clamped;
          updateDeckUI();
        }

        function nextSlide() {
          goToSlide(state.currentIndex + 1);
        }

        function previousSlide() {
          goToSlide(state.currentIndex - 1);
        }

        function toggleFullscreen() {
          const isActive = document.fullscreenElement === deckRoot;
          if (!isActive) {
            if (deckRoot.requestFullscreen) {
              deckRoot.requestFullscreen();
            }
          } else if (document.exitFullscreen) {
            document.exitFullscreen();
          }
        }

        function updateFullscreenUI() {
          const isDeckFullscreen = document.fullscreenElement === deckRoot;
          deckRoot.setAttribute(
            "data-fullscreen",
            isDeckFullscreen ? "true" : "false"
          );
          fullscreenBtnLabel.textContent = isDeckFullscreen
            ? "Exit fullscreen"
            : "Fullscreen";
        }

        function handleKeydown(event) {
          const activeTag = document.activeElement
            ? document.activeElement.tagName
            : "";
          if (activeTag === "TEXTAREA" || activeTag === "INPUT") {
            return;
          }

          const key = event.key;
          if (
            key === "ArrowRight" ||
            key === "PageDown" ||
            key === " "
          ) {
            event.preventDefault();
            nextSlide();
          } else if (key === "ArrowLeft" || key === "PageUp") {
            event.preventDefault();
            previousSlide();
          } else if (key === "Home") {
            event.preventDefault();
            goToSlide(0);
          } else if (key === "End") {
            event.preventDefault();
            goToSlide(state.slides.length - 1);
          } else if (key === "f" || key === "F") {
            event.preventDefault();
            toggleFullscreen();
          }
        }

        function loadInitialContent() {
          let stored = null;
          try {
            stored = localStorage.getItem(STORAGE_KEY);
          } catch (_) {}
          if (stored && stored.trim().length) {
            markdownInput.value = stored;
          } else {
            markdownInput.value = DEFAULT_MARKDOWN;
          }
        }

        function clearEditor() {
          markdownInput.value = "";
          try {
            localStorage.removeItem(STORAGE_KEY);
          } catch (_) {}
          state.currentIndex = 0;
          renderSlides();
          markdownInput.focus();
        }

        function resetToSample() {
          markdownInput.value = DEFAULT_MARKDOWN;
          try {
            localStorage.setItem(STORAGE_KEY, DEFAULT_MARKDOWN);
          } catch (_) {}
          state.currentIndex = 0;
          renderSlides();
          markdownInput.focus();
        }

        function initEvents() {
          let renderTimer = null;
          markdownInput.addEventListener("input", () => {
            if (renderTimer) {
              window.clearTimeout(renderTimer);
            }
            renderTimer = window.setTimeout(() => {
              renderTimer = null;
              renderSlides();
            }, 120);
          });

          prevSlideBtn.addEventListener("click", () => {
            previousSlide();
          });
          nextSlideBtn.addEventListener("click", () => {
            nextSlide();
          });

          fullscreenBtn.addEventListener("click", () => {
            toggleFullscreen();
          });
          document.addEventListener("fullscreenchange", updateFullscreenUI);

          resetToSampleBtn.addEventListener("click", resetToSample);
          clearEditorBtn.addEventListener("click", clearEditor);

          themeToggle.addEventListener("click", () => {
            const isDark = document.body.classList.contains("theme-dark");
            applyTheme(isDark ? "light" : "dark");
          });

          window.addEventListener("keydown", handleKeydown);
        }

        loadInitialTheme();
        loadInitialContent();
        initEvents();
        renderSlides();
      })();
    </script>
  </body>
</html>

