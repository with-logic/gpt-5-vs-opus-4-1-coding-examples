<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="color-scheme" content="light" />
    <meta
      name="description"
      content="Artisan CSA — a hand-drawn, watercolor landing page for seasonal farm shares, delivery checks, plans, pickup map, testimonials, and FAQs."
    />
    <meta name="theme-color" content="#f6f0e6" />
    <title>Artisan CSA — Hand-Drawn Farm Landing</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@500;700&family=Fraunces:opsz,wght@9..144,350..800&family=Inter:wght@350;450;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --paper: #f6f0e6;
        --paper-2: #f2eadc;
        --ink: #2b2b2b;
        --ink-2: #433c36;
        --muted: rgba(43, 43, 43, 0.72);
        --wash-moss: #6c8a62;
        --wash-berry: #a06a63;
        --wash-ochre: #b8894d;
        --wash-sky: #7a97a6;
        --wash-cream: #efe1bf;
        --accent: #8a5a3a;
        --good: #2f6b3a;
        --warn: #8a3f2b;
        --shadow: 0 20px 55px rgba(36, 28, 20, 0.18);
        --shadow-soft: 0 12px 30px rgba(36, 28, 20, 0.12);
        --ring: 0 0 0 4px rgba(108, 138, 98, 0.22);
        --radius-lg: 26px;
        --radius-md: 18px;
        --radius-sm: 14px;
        --maxw: 1120px;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        color: var(--ink);
        background: radial-gradient(1200px 900px at 10% 10%, rgba(122, 151, 166, 0.09), transparent 56%),
          radial-gradient(900px 700px at 90% 15%, rgba(184, 137, 77, 0.1), transparent 52%),
          radial-gradient(1100px 800px at 30% 100%, rgba(108, 138, 98, 0.1), transparent 58%),
          radial-gradient(900px 800px at 95% 95%, rgba(160, 106, 99, 0.08), transparent 56%),
          linear-gradient(180deg, var(--paper), var(--paper-2));
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        line-height: 1.45;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        z-index: -1;
        pointer-events: none;
        background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyNjAnIGhlaWdodD0nMjYwJz4KPGZpbHRlciBpZD0nbic+CiAgPGZlVHVyYnVsZW5jZSB0eXBlPSdmcmFjdGFsTm9pc2UnIGJhc2VGcmVxdWVuY3k9Jy45JyBudW1PY3RhdmVzPSczJyBzdGl0Y2hUaWxlcz0nc3RpdGNoJy8+CiAgPGZlQ29sb3JNYXRyaXggdHlwZT0nbWF0cml4JyB2YWx1ZXM9JzEgMCAwIDAgMCAgMCAxIDAgMCAwICAwIDAgMSAwIDAgIDAgMCAwIC4xNiAwJy8+CjwvZmlsdGVyPgo8cmVjdCB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBmaWxsPScjZjZmMGU2Jy8+CjxyZWN0IHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIGZpbHRlcj0ndXJsKCNuKScgb3BhY2l0eT0nLjU1Jy8+Cjwvc3ZnPg==");
        background-size: 360px 360px;
        mix-blend-mode: multiply;
        opacity: 0.58;
      }

      a {
        color: inherit;
      }

      .sr-only {
        position: absolute !important;
        height: 1px;
        width: 1px;
        overflow: hidden;
        clip: rect(1px, 1px, 1px, 1px);
        white-space: nowrap;
      }

      .skip-link {
        position: absolute;
        left: 14px;
        top: 10px;
        padding: 10px 12px;
        background: rgba(246, 240, 230, 0.95);
        border: 2px solid rgba(43, 43, 43, 0.35);
        border-radius: 999px;
        box-shadow: var(--shadow-soft);
        transform: translateY(-160%);
        transition: transform 200ms ease;
        z-index: 50;
      }
      .skip-link:focus {
        transform: translateY(0%);
        outline: none;
      }

      .wrap {
        max-width: var(--maxw);
        margin: 0 auto;
        padding: 26px 20px 80px;
      }

      header.top {
        position: sticky;
        top: 0;
        z-index: 30;
        backdrop-filter: blur(10px);
        background: linear-gradient(180deg, rgba(246, 240, 230, 0.9), rgba(246, 240, 230, 0.62));
        border-bottom: 1px solid rgba(43, 43, 43, 0.12);
      }

      .top-inner {
        max-width: var(--maxw);
        margin: 0 auto;
        padding: 12px 20px;
        display: flex;
        align-items: center;
        gap: 14px;
        justify-content: space-between;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        text-decoration: none;
        min-width: 210px;
      }

      .mark {
        width: 38px;
        height: 38px;
        border-radius: 14px 12px 16px 10px;
        background: radial-gradient(circle at 30% 30%, rgba(184, 137, 77, 0.22), transparent 60%),
          radial-gradient(circle at 80% 70%, rgba(108, 138, 98, 0.26), transparent 58%),
          linear-gradient(135deg, rgba(239, 225, 191, 0.95), rgba(246, 240, 230, 0.8));
        border: 1px solid rgba(43, 43, 43, 0.18);
        box-shadow: 0 10px 26px rgba(36, 28, 20, 0.1);
        display: grid;
        place-items: center;
      }

      .mark svg {
        width: 26px;
        height: 26px;
        opacity: 0.9;
      }

      .brand strong {
        font-family: Fraunces, ui-serif, Georgia, serif;
        font-weight: 650;
        letter-spacing: 0.2px;
        font-size: 16px;
        line-height: 1.1;
      }

      .brand em {
        font-family: Caveat, cursive;
        font-style: normal;
        color: rgba(43, 43, 43, 0.7);
        font-weight: 700;
        font-size: 15px;
        margin-left: 2px;
      }

      nav {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
        justify-content: flex-end;
      }

      .nav-link {
        text-decoration: none;
        font-weight: 600;
        font-size: 13px;
        padding: 8px 10px;
        border-radius: 999px;
        border: 1px solid transparent;
        color: rgba(43, 43, 43, 0.82);
        transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
      }

      .nav-link:hover {
        background: rgba(239, 225, 191, 0.35);
        border-color: rgba(43, 43, 43, 0.14);
        transform: translateY(-1px);
      }

      .nav-link:focus-visible {
        outline: none;
        box-shadow: var(--ring);
      }

      main {
        padding-top: 18px;
      }

      .section {
        margin-top: 34px;
      }

      .kicker {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 7px 12px;
        border-radius: 999px;
        background: rgba(239, 225, 191, 0.5);
        border: 1px dashed rgba(43, 43, 43, 0.26);
        font-weight: 650;
        font-size: 12px;
        color: rgba(43, 43, 43, 0.76);
        letter-spacing: 0.2px;
      }

      .kicker .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--wash-moss);
        box-shadow: 0 0 0 2px rgba(108, 138, 98, 0.18);
      }

      h1,
      h2,
      h3 {
        font-family: Fraunces, ui-serif, Georgia, serif;
        letter-spacing: 0.1px;
        margin: 12px 0 0;
        line-height: 1.06;
      }

      h1 {
        font-size: clamp(34px, 5vw, 56px);
      }

      h2 {
        font-size: clamp(24px, 3.2vw, 38px);
      }

      h3 {
        font-size: 18px;
      }

      .muted {
        color: var(--muted);
      }

      .hero {
        display: grid;
        grid-template-columns: 1.15fr 0.85fr;
        gap: 24px;
        align-items: stretch;
      }

      .panel {
        background: linear-gradient(180deg, rgba(246, 240, 230, 0.86), rgba(242, 234, 220, 0.7));
        border: 1px solid rgba(43, 43, 43, 0.14);
        border-radius: var(--radius-lg);
        box-shadow: var(--shadow);
        position: relative;
        overflow: clip;
      }

      .panel::before {
        content: "";
        position: absolute;
        inset: -60px -80px auto -80px;
        height: 230px;
        background: radial-gradient(closest-side, rgba(108, 138, 98, 0.22), transparent 60%),
          radial-gradient(closest-side, rgba(184, 137, 77, 0.22), transparent 58%),
          radial-gradient(closest-side, rgba(160, 106, 99, 0.18), transparent 56%);
        filter: blur(4px);
        transform: rotate(-6deg);
        opacity: 0.9;
        pointer-events: none;
      }

      .hero-left {
        padding: 26px 24px 22px;
      }

      .hero-copy {
        margin-top: 14px;
        font-size: 15.5px;
        max-width: 58ch;
      }

      .hero-copy strong {
        font-weight: 650;
        color: rgba(43, 43, 43, 0.9);
      }

      .zip-card {
        margin-top: 18px;
        background: rgba(246, 240, 230, 0.65);
        border: 1px solid rgba(43, 43, 43, 0.14);
        border-radius: 20px;
        padding: 14px;
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
        align-items: end;
      }

      label.small {
        display: block;
        font-size: 12px;
        font-weight: 650;
        letter-spacing: 0.2px;
        color: rgba(43, 43, 43, 0.78);
        margin-bottom: 8px;
      }

      .field {
        display: grid;
        gap: 6px;
      }

      input[type="text"],
      input[type="email"],
      textarea {
        width: 100%;
        border: 1px solid rgba(43, 43, 43, 0.22);
        border-radius: 14px;
        padding: 12px 12px;
        font-size: 15px;
        background: rgba(246, 240, 230, 0.88);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
        transition: box-shadow 160ms ease, transform 160ms ease, border-color 160ms ease;
      }

      textarea {
        min-height: 110px;
        resize: vertical;
      }

      input:focus-visible,
      textarea:focus-visible {
        outline: none;
        box-shadow: var(--ring), inset 0 1px 0 rgba(255, 255, 255, 0.6);
        border-color: rgba(108, 138, 98, 0.6);
      }

      .btn {
        appearance: none;
        border: 1px solid rgba(43, 43, 43, 0.18);
        background: linear-gradient(180deg, rgba(239, 225, 191, 0.9), rgba(246, 240, 230, 0.76));
        color: rgba(43, 43, 43, 0.92);
        border-radius: 999px;
        padding: 11px 14px;
        font-weight: 700;
        font-size: 14px;
        cursor: pointer;
        box-shadow: 0 12px 26px rgba(36, 28, 20, 0.12);
        transition: transform 140ms ease, box-shadow 140ms ease, background 140ms ease, border-color 140ms ease;
        white-space: nowrap;
      }

      .btn:hover {
        transform: translateY(-1px);
        border-color: rgba(43, 43, 43, 0.26);
        box-shadow: 0 18px 36px rgba(36, 28, 20, 0.16);
      }

      .btn:active {
        transform: translateY(0px);
      }

      .btn:focus-visible {
        outline: none;
        box-shadow: var(--ring), 0 18px 36px rgba(36, 28, 20, 0.16);
      }

      .btn.primary {
        background: linear-gradient(180deg, rgba(108, 138, 98, 0.9), rgba(108, 138, 98, 0.74));
        color: rgba(246, 240, 230, 0.95);
        border-color: rgba(47, 107, 58, 0.35);
      }

      .btn.primary:hover {
        filter: saturate(1.02);
      }

      .btn.ghost {
        background: transparent;
        box-shadow: none;
        border-color: rgba(43, 43, 43, 0.18);
      }

      .zip-status {
        grid-column: 1 / -1;
        display: flex;
        gap: 8px;
        align-items: flex-start;
        padding-top: 6px;
        font-size: 13px;
        color: rgba(43, 43, 43, 0.78);
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 7px 10px;
        border-radius: 999px;
        border: 1px solid rgba(43, 43, 43, 0.16);
        background: rgba(246, 240, 230, 0.72);
        font-size: 12px;
        font-weight: 650;
      }

      .pill[data-tone="good"] {
        border-color: rgba(47, 107, 58, 0.28);
        background: rgba(108, 138, 98, 0.14);
      }
      .pill[data-tone="warn"] {
        border-color: rgba(138, 63, 43, 0.28);
        background: rgba(160, 106, 99, 0.14);
      }

      .zip-status svg {
        flex: 0 0 auto;
        margin-top: 1px;
      }

      .hero-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
        margin-top: 14px;
      }

      .note {
        margin-top: 10px;
        font-size: 12.5px;
        color: rgba(43, 43, 43, 0.7);
      }

      .hero-right {
        padding: 18px 18px 14px;
        display: grid;
        align-content: center;
        position: relative;
      }

      .ill-wrap {
        position: relative;
        border-radius: 24px 18px 30px 20px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: radial-gradient(closest-side at 65% 35%, rgba(239, 225, 191, 0.7), transparent 55%),
          radial-gradient(closest-side at 35% 70%, rgba(122, 151, 166, 0.18), transparent 58%),
          linear-gradient(180deg, rgba(246, 240, 230, 0.9), rgba(242, 234, 220, 0.65));
        box-shadow: var(--shadow-soft);
        overflow: hidden;
      }

      .ill-wrap::after {
        content: "";
        position: absolute;
        inset: -20%;
        background: radial-gradient(closest-side, rgba(160, 106, 99, 0.14), transparent 62%),
          radial-gradient(closest-side, rgba(108, 138, 98, 0.12), transparent 60%);
        filter: blur(8px);
        transform: rotate(11deg);
        opacity: 0.85;
        pointer-events: none;
      }

      .basket {
        width: 100%;
        height: auto;
        display: block;
        padding: 18px 18px 6px;
        position: relative;
        transform: translate3d(calc(var(--px, 0px) * 0.14), calc(var(--py, 0px) * 0.1), 0)
          translateY(calc(var(--scroll, 0px) * -0.04));
        transition: transform 120ms ease-out;
      }

      .leaf {
        position: absolute;
        inset: auto;
        opacity: 0.9;
        filter: drop-shadow(0 10px 18px rgba(36, 28, 20, 0.12));
        transform: translate3d(calc(var(--px, 0px) * var(--dx, 0.03)), calc(var(--py, 0px) * var(--dy, 0.02)), 0)
          translateY(calc(var(--scroll, 0px) * var(--sy, -0.03)));
        transition: transform 120ms ease-out;
      }

      .leaf.one {
        right: 14px;
        top: 12px;
        width: 90px;
        --dx: 0.05;
        --dy: 0.03;
        --sy: -0.05;
      }
      .leaf.two {
        left: 10px;
        bottom: 6px;
        width: 84px;
        --dx: 0.04;
        --dy: 0.02;
        --sy: -0.02;
      }

      .cards-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 14px;
        margin-top: 16px;
      }

      .season-card {
        grid-column: span 3;
        padding: 16px 16px 14px;
        border-radius: 26px 20px 28px 18px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: linear-gradient(180deg, rgba(246, 240, 230, 0.92), rgba(242, 234, 220, 0.66));
        box-shadow: var(--shadow-soft);
        position: relative;
        overflow: clip;
        cursor: default;
        transition: transform 160ms ease, box-shadow 160ms ease;
      }

      .season-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 40px rgba(36, 28, 20, 0.14);
      }

      .season-card:focus-within {
        box-shadow: var(--ring), 0 18px 40px rgba(36, 28, 20, 0.14);
      }

      .season-card::before {
        content: "";
        position: absolute;
        inset: -34px -50px auto -50px;
        height: 150px;
        background: radial-gradient(closest-side, rgba(108, 138, 98, var(--wash-a, 0.12)), transparent 65%),
          radial-gradient(closest-side, rgba(184, 137, 77, var(--wash-b, 0.1)), transparent 65%),
          radial-gradient(closest-side, rgba(160, 106, 99, var(--wash-c, 0.08)), transparent 70%);
        filter: blur(3px);
        transform: rotate(-9deg);
        opacity: 0.95;
        pointer-events: none;
      }

      .season-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        margin-bottom: 6px;
      }

      .season-name {
        font-family: Fraunces, ui-serif, Georgia, serif;
        font-weight: 650;
        letter-spacing: 0.2px;
        font-size: 18px;
      }

      .season-icon {
        width: 34px;
        height: 34px;
        border-radius: 14px 10px 16px 12px;
        background: rgba(239, 225, 191, 0.5);
        border: 1px solid rgba(43, 43, 43, 0.14);
        display: grid;
        place-items: center;
      }

      .season-icon svg {
        width: 22px;
        height: 22px;
        opacity: 0.9;
      }

      .season-desc {
        font-size: 13px;
        color: rgba(43, 43, 43, 0.74);
        margin-top: 6px;
      }

      .allergens {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        margin-top: 12px;
      }

      .a-ico {
        width: 30px;
        height: 30px;
        border-radius: 11px 9px 12px 10px;
        display: grid;
        place-items: center;
        background: rgba(246, 240, 230, 0.74);
        border: 1px solid rgba(43, 43, 43, 0.16);
        position: relative;
      }

      .a-ico svg {
        width: 18px;
        height: 18px;
      }

      .tip {
        position: absolute;
        left: 12px;
        top: 62px;
        width: min(320px, 78vw);
        background: rgba(246, 240, 230, 0.96);
        border: 1px solid rgba(43, 43, 43, 0.18);
        border-radius: 18px;
        box-shadow: var(--shadow);
        padding: 12px 12px 11px;
        opacity: 0;
        transform: translateY(6px);
        pointer-events: none;
        transition: opacity 150ms ease, transform 150ms ease;
        z-index: 10;
      }

      .season-card:hover .tip,
      .season-card:focus-within .tip {
        opacity: 1;
        transform: translateY(0px);
        pointer-events: auto;
      }

      .tip strong {
        font-family: Fraunces, ui-serif, Georgia, serif;
        font-weight: 700;
        display: block;
        margin-bottom: 6px;
      }

      .tip ul {
        margin: 0;
        padding: 0 0 0 18px;
        color: rgba(43, 43, 43, 0.76);
        font-size: 13px;
      }

      .tip small {
        display: block;
        margin-top: 8px;
        color: rgba(43, 43, 43, 0.62);
        font-size: 12px;
      }

      .mini-btn {
        appearance: none;
        border: 0;
        background: transparent;
        padding: 0;
        margin: 0;
        font: inherit;
        color: inherit;
        cursor: help;
        text-align: left;
      }

      .mini-btn:focus-visible {
        outline: none;
        box-shadow: var(--ring);
        border-radius: 12px;
      }

      .plans {
        display: grid;
        grid-template-columns: 0.95fr 1.05fr;
        gap: 16px;
        margin-top: 16px;
      }

      .plans .panel {
        box-shadow: var(--shadow-soft);
      }

      .plans-left {
        padding: 18px 18px 16px;
      }

      .seg {
        display: grid;
        grid-template-columns: 1fr 1fr;
        border-radius: 999px;
        padding: 4px;
        border: 1px solid rgba(43, 43, 43, 0.16);
        background: rgba(246, 240, 230, 0.6);
        gap: 4px;
        margin-top: 10px;
      }

      .seg input {
        position: absolute;
        opacity: 0;
        pointer-events: none;
      }

      .seg label {
        padding: 10px 12px;
        border-radius: 999px;
        text-align: center;
        font-weight: 700;
        font-size: 13px;
        color: rgba(43, 43, 43, 0.82);
        cursor: pointer;
        transition: background 140ms ease, transform 140ms ease, color 140ms ease;
        user-select: none;
      }

      .seg input:checked + label {
        background: linear-gradient(180deg, rgba(108, 138, 98, 0.86), rgba(108, 138, 98, 0.72));
        color: rgba(246, 240, 230, 0.95);
        transform: translateY(-0.5px);
      }

      .seg label:focus-visible {
        outline: none;
        box-shadow: var(--ring);
      }

      .range-wrap {
        margin-top: 14px;
        padding: 12px;
        border-radius: 18px;
        border: 1px dashed rgba(43, 43, 43, 0.22);
        background: rgba(239, 225, 191, 0.25);
      }

      .range-top {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
      }

      .range-top strong {
        font-family: Fraunces, ui-serif, Georgia, serif;
        font-weight: 700;
      }

      input[type="range"] {
        width: 100%;
        margin-top: 10px;
        accent-color: var(--wash-moss);
      }

      .range-ends {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: rgba(43, 43, 43, 0.7);
        margin-top: 8px;
      }

      .addons {
        margin-top: 14px;
        display: grid;
        gap: 10px;
      }

      .toggle {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 12px 12px;
        border-radius: 18px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: rgba(246, 240, 230, 0.72);
      }

      .toggle strong {
        font-weight: 750;
        font-size: 13.5px;
      }

      .toggle small {
        color: rgba(43, 43, 43, 0.68);
        display: block;
        font-size: 12px;
        margin-top: 2px;
      }

      .switch {
        position: relative;
        width: 46px;
        height: 28px;
        flex: 0 0 auto;
      }

      .switch input {
        position: absolute;
        opacity: 0;
        inset: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }

      .track {
        position: absolute;
        inset: 0;
        background: rgba(43, 43, 43, 0.16);
        border: 1px solid rgba(43, 43, 43, 0.18);
        border-radius: 999px;
        transition: background 160ms ease;
      }

      .knob {
        position: absolute;
        top: 50%;
        left: 4px;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: rgba(246, 240, 230, 0.96);
        border: 1px solid rgba(43, 43, 43, 0.18);
        transform: translateY(-50%);
        transition: left 160ms ease, background 160ms ease;
        box-shadow: 0 8px 18px rgba(36, 28, 20, 0.14);
      }

      .switch input:checked ~ .track {
        background: rgba(108, 138, 98, 0.42);
        border-color: rgba(47, 107, 58, 0.22);
      }

      .switch input:checked ~ .knob {
        left: 20px;
        background: rgba(246, 240, 230, 0.98);
      }

      .switch input:focus-visible {
        outline: none;
      }
      .switch input:focus-visible ~ .track {
        box-shadow: var(--ring);
      }

      .plans-right {
        padding: 18px 18px 16px;
        display: grid;
        gap: 12px;
      }

      .price-box {
        background: rgba(239, 225, 191, 0.26);
        border: 1px solid rgba(43, 43, 43, 0.14);
        border-radius: 20px;
        padding: 14px;
      }

      .price-top {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
      }

      .price {
        font-family: Fraunces, ui-serif, Georgia, serif;
        font-size: 34px;
        font-weight: 780;
        letter-spacing: 0.2px;
      }

      .price small {
        font-family: Inter, system-ui, sans-serif;
        font-size: 13px;
        font-weight: 650;
        color: rgba(43, 43, 43, 0.7);
      }

      .line {
        height: 1px;
        background: rgba(43, 43, 43, 0.12);
        margin: 10px 0;
      }

      .breakdown {
        display: grid;
        gap: 8px;
        font-size: 13.5px;
        color: rgba(43, 43, 43, 0.78);
      }

      .row {
        display: flex;
        justify-content: space-between;
        gap: 10px;
      }

      .row strong {
        color: rgba(43, 43, 43, 0.9);
      }

      .hint {
        font-size: 12.5px;
        color: rgba(43, 43, 43, 0.66);
      }

      .map-grid {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 16px;
        margin-top: 16px;
      }

      .map-panel {
        padding: 12px;
      }

      .map-frame {
        border-radius: 26px 22px 30px 20px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: linear-gradient(180deg, rgba(246, 240, 230, 0.92), rgba(242, 234, 220, 0.62));
        overflow: hidden;
        position: relative;
        box-shadow: var(--shadow-soft);
      }

      .map-frame svg {
        width: 100%;
        height: auto;
        display: block;
      }

      .map-overlay {
        position: absolute;
        inset: 0;
        pointer-events: none;
        background: radial-gradient(circle at 50% 45%, rgba(108, 138, 98, 0.12), transparent 55%),
          radial-gradient(circle at 20% 70%, rgba(184, 137, 77, 0.1), transparent 58%);
        opacity: 0.85;
        transform: translate3d(calc(var(--px, 0px) * 0.03), calc(var(--py, 0px) * 0.02), 0)
          translateY(calc(var(--scroll, 0px) * -0.02));
        transition: transform 120ms ease-out;
      }

      .pickup-panel {
        padding: 18px 18px 16px;
      }

      .pickup-list {
        margin: 12px 0 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 10px;
      }

      .pickup {
        padding: 12px;
        border-radius: 18px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: rgba(246, 240, 230, 0.72);
        display: grid;
        gap: 6px;
      }

      .pickup-top {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 10px;
      }

      .pickup-top strong {
        font-weight: 750;
      }

      .badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 9px;
        border-radius: 999px;
        border: 1px solid rgba(43, 43, 43, 0.18);
        background: rgba(239, 225, 191, 0.35);
        font-weight: 750;
        font-size: 12px;
        color: rgba(43, 43, 43, 0.8);
      }

      .badge svg {
        width: 14px;
        height: 14px;
      }

      .pickup small {
        color: rgba(43, 43, 43, 0.7);
      }

      .carousel {
        margin-top: 16px;
        position: relative;
      }

      .carousel-shell {
        border-radius: 28px 22px 30px 20px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: linear-gradient(180deg, rgba(246, 240, 230, 0.9), rgba(242, 234, 220, 0.66));
        box-shadow: var(--shadow-soft);
        overflow: hidden;
      }

      .carousel-track {
        display: flex;
        transform: translateX(calc(-1 * var(--idx, 0) * 100%));
        transition: transform 520ms cubic-bezier(0.2, 0.85, 0.2, 1);
      }

      .slide {
        min-width: 100%;
        padding: 18px;
        display: grid;
        gap: 12px;
      }

      .test-card {
        border-radius: 24px 18px 28px 20px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: rgba(246, 240, 230, 0.76);
        padding: 16px;
        box-shadow: 0 14px 32px rgba(36, 28, 20, 0.12);
        display: grid;
        grid-template-columns: 92px 1fr;
        gap: 14px;
        align-items: center;
      }

      .portrait {
        width: 92px;
        height: 92px;
        border-radius: 32px 26px 34px 22px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: rgba(239, 225, 191, 0.26);
        display: grid;
        place-items: center;
      }

      .portrait svg {
        width: 72px;
        height: 72px;
        opacity: 0.92;
      }

      blockquote {
        margin: 0;
      }

      blockquote p {
        margin: 0;
        font-size: 14.5px;
        color: rgba(43, 43, 43, 0.82);
      }

      .who {
        margin-top: 8px;
        display: flex;
        gap: 10px;
        align-items: baseline;
        flex-wrap: wrap;
      }

      .who strong {
        font-weight: 780;
      }

      .who span {
        color: rgba(43, 43, 43, 0.68);
        font-size: 12.5px;
      }

      .carousel-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-top: 12px;
      }

      .dots {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .dot-btn {
        width: 10px;
        height: 10px;
        border-radius: 999px;
        border: 1px solid rgba(43, 43, 43, 0.22);
        background: rgba(43, 43, 43, 0.12);
        cursor: pointer;
      }

      .dot-btn[aria-current="true"] {
        background: rgba(108, 138, 98, 0.7);
        border-color: rgba(47, 107, 58, 0.35);
        transform: scale(1.1);
      }

      .dot-btn:focus-visible {
        outline: none;
        box-shadow: var(--ring);
      }

      .faq-grid {
        margin-top: 16px;
        display: grid;
        grid-template-columns: 1.05fr 0.95fr;
        gap: 16px;
      }

      .accordion {
        padding: 10px;
      }

      .acc-item {
        border-radius: 20px;
        border: 1px solid rgba(43, 43, 43, 0.14);
        background: rgba(246, 240, 230, 0.72);
        overflow: hidden;
        margin: 10px 0;
      }

      .acc-btn {
        width: 100%;
        text-align: left;
        background: transparent;
        border: 0;
        padding: 14px 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        font-weight: 780;
        color: rgba(43, 43, 43, 0.88);
        font-size: 14px;
      }

      .acc-btn span {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .acc-btn svg {
        width: 18px;
        height: 18px;
        opacity: 0.85;
        transition: transform 180ms ease;
      }

      .acc-btn[aria-expanded="true"] svg {
        transform: rotate(90deg);
      }

      .acc-btn:focus-visible {
        outline: none;
        box-shadow: var(--ring);
      }

      .acc-panel {
        height: 0px;
        overflow: hidden;
        transition: height 260ms ease;
      }

      .acc-panel-inner {
        padding: 0 14px 14px;
        color: rgba(43, 43, 43, 0.74);
        font-size: 13.5px;
      }

      form.contact {
        padding: 18px 18px 16px;
        display: grid;
        gap: 12px;
      }

      .form-row {
        display: grid;
        gap: 6px;
      }

      .form-actions {
        display: flex;
        gap: 10px;
        align-items: center;
        flex-wrap: wrap;
      }

      .toast {
        margin-top: 6px;
        min-height: 18px;
        color: rgba(43, 43, 43, 0.76);
        font-size: 13px;
      }

      footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid rgba(43, 43, 43, 0.12);
        color: rgba(43, 43, 43, 0.68);
        font-size: 13px;
        display: flex;
        justify-content: space-between;
        gap: 12px;
        flex-wrap: wrap;
      }

      .tiny {
        font-size: 12px;
        color: rgba(43, 43, 43, 0.62);
      }

      .section-head {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        gap: 14px;
        flex-wrap: wrap;
      }

      .section-head p {
        margin: 8px 0 0;
        max-width: 75ch;
      }

      .cta-row {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        align-items: center;
        margin-top: 8px;
      }

      .hr-scribble {
        height: 1px;
        margin: 14px 0 0;
        background: linear-gradient(90deg, transparent, rgba(43, 43, 43, 0.22), transparent);
      }

      @media (max-width: 980px) {
        .hero {
          grid-template-columns: 1fr;
        }
        .plans {
          grid-template-columns: 1fr;
        }
        .map-grid {
          grid-template-columns: 1fr;
        }
        .faq-grid {
          grid-template-columns: 1fr;
        }
        .season-card {
          grid-column: span 6;
        }
      }

      @media (max-width: 560px) {
        .top-inner {
          gap: 10px;
        }
        .brand {
          min-width: 0;
        }
        .season-card {
          grid-column: span 12;
        }
        .test-card {
          grid-template-columns: 1fr;
        }
        .portrait {
          width: 84px;
          height: 84px;
        }
        .portrait svg {
          width: 64px;
          height: 64px;
        }
      }

      @media (prefers-reduced-motion: reduce) {
        * {
          scroll-behavior: auto !important;
          transition-duration: 0.01ms !important;
          animation-duration: 0.01ms !important;
        }
        .carousel-track {
          transition: none;
        }
      }
    </style>
  </head>
  <body>
    <a class="skip-link" href="#main">Skip to content</a>

    <header class="top">
      <div class="top-inner">
        <a class="brand" href="#top" aria-label="Artisan CSA home">
          <span class="mark" aria-hidden="true">
            <svg viewBox="0 0 64 64" fill="none">
              <path
                d="M15 33c6-11 13-16 20-16 9 0 16 7 16 17 0 11-7 18-16 18-6 0-12-3-16-8"
                stroke="rgba(43,43,43,.9)"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M21 24c0-6 4-11 11-11"
                stroke="rgba(43,43,43,.65)"
                stroke-width="3"
                stroke-linecap="round"
              />
              <path
                d="M32 11c7 0 13 4 15 10"
                stroke="rgba(43,43,43,.55)"
                stroke-width="3"
                stroke-linecap="round"
              />
            </svg>
          </span>
          <span>
            <strong>Artisan CSA</strong>
            <em>hand-drawn harvest</em>
          </span>
        </a>
        <nav aria-label="Primary">
          <a class="nav-link" href="#share">Seasonal boxes</a>
          <a class="nav-link" href="#plans">Plans</a>
          <a class="nav-link" href="#map">Map</a>
          <a class="nav-link" href="#stories">Testimonials</a>
          <a class="nav-link" href="#faq">FAQ</a>
        </nav>
      </div>
    </header>

    <main id="main" class="wrap">
      <section id="top" class="hero section">
        <div class="panel hero-left">
          <div class="kicker"><span class="dot" aria-hidden="true"></span> Small farm. Big flavor. Zero rush.</div>
          <h1>Watercolor-fresh produce, drawn from the season.</h1>
          <p class="hero-copy muted">
            Join our community-supported agriculture program for <strong>hand-picked vegetables</strong>, orchard fruit,
            and pantry add-ons. Each share supports soil-forward farming and arrives with a little story from the field.
          </p>

          <form class="zip-card" id="zipForm" novalidate>
            <div class="field">
              <label class="small" for="zip">Check delivery by ZIP</label>
              <input
                id="zip"
                name="zip"
                inputmode="numeric"
                autocomplete="postal-code"
                placeholder="e.g., 02139"
                type="text"
                maxlength="10"
                aria-describedby="zipHelp zipLive"
              />
              <div id="zipHelp" class="tiny">We deliver across the metro area and nearby towns (5-digit ZIPs).</div>
            </div>
            <button class="btn primary" type="submit">Join the harvest</button>
            <div class="zip-status" id="zipLive" aria-live="polite">
              <span class="pill" data-tone="warn" id="zipPill">
                <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path
                    d="M10 2.2c4.3 0 7.8 3.5 7.8 7.8s-3.5 7.8-7.8 7.8S2.2 14.3 2.2 10 5.7 2.2 10 2.2Z"
                    stroke="rgba(43,43,43,.55)"
                    stroke-width="1.7"
                  />
                  <path d="M10 6v4.2" stroke="rgba(43,43,43,.7)" stroke-width="1.8" stroke-linecap="round" />
                  <path d="M10 14.2h.01" stroke="rgba(43,43,43,.7)" stroke-width="3" stroke-linecap="round" />
                </svg>
                <span id="zipPillText">Enter a ZIP to see delivery + pickup distances.</span>
              </span>
            </div>
          </form>

          <div class="hero-actions">
            <a class="btn ghost" href="#share">Explore seasonal boxes</a>
            <a class="btn ghost" href="#plans">Compare plans &amp; add-ons</a>
          </div>
          <p class="note">
            Tip: Prefer pickup? We list flexible neighborhood drop spots below—each includes a distance badge once you
            check your ZIP.
          </p>
        </div>

        <div class="panel hero-right" aria-label="Seasonal basket illustration">
          <div class="ill-wrap" id="parallaxStage">
            <svg class="leaf one" viewBox="0 0 120 120" fill="none" aria-hidden="true">
              <path
                d="M25 78c20-40 49-59 74-58-7 25-28 60-62 76-7 3-12 2-12 2s-3-6 0-20Z"
                fill="rgba(108,138,98,.22)"
              />
              <path
                d="M30 79c18-34 41-51 65-53-7 20-24 49-52 63-7 3-12 3-12 3"
                stroke="rgba(43,43,43,.62)"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path d="M48 49c9 8 18 22 22 35" stroke="rgba(43,43,43,.5)" stroke-width="2.6" stroke-linecap="round" />
            </svg>

            <svg class="leaf two" viewBox="0 0 120 120" fill="none" aria-hidden="true">
              <path
                d="M94 44C73 21 43 17 23 25c14 27 46 60 78 62 7 0 12-3 12-3s2-7-19-40Z"
                fill="rgba(184,137,77,.18)"
              />
              <path
                d="M88 44c-19-19-44-24-60-18 12 22 38 48 64 53"
                stroke="rgba(43,43,43,.62)"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path d="M62 40c-7 10-9 26-7 36" stroke="rgba(43,43,43,.5)" stroke-width="2.6" stroke-linecap="round" />
            </svg>

            <svg class="basket" viewBox="0 0 720 520" fill="none" role="img" aria-label="A hand-drawn basket with seasonal produce">
              <defs>
                <filter id="inkSoft" x="-20%" y="-20%" width="140%" height="140%">
                  <feGaussianBlur stdDeviation="0.6" />
                </filter>
                <filter id="paperBleed" x="-20%" y="-20%" width="140%" height="140%">
                  <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" seed="2" />
                  <feDisplacementMap in="SourceGraphic" scale="2" />
                </filter>
                <linearGradient id="washA" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="rgba(239,225,191,.75)" />
                  <stop offset="1" stop-color="rgba(246,240,230,.25)" />
                </linearGradient>
              </defs>

              <!-- Background wash -->
              <path
                d="M95 365c50-110 150-190 270-205 140-18 270 68 310 188 18 53 9 108-25 152-44 57-133 84-260 82-136-2-241-31-285-89-24-31-28-73-10-128Z"
                fill="rgba(122,151,166,.10)"
                filter="url(#paperBleed)"
                opacity="0.95"
              />

              <!-- Produce -->
              <path
                d="M235 242c-18-34 12-72 55-72 25 0 43 10 55 28 22 33-3 79-56 81-25 1-43-10-54-37Z"
                fill="rgba(160,106,99,.25)"
              />
              <path
                d="M263 182c6-28 26-46 52-47 22-1 40 12 46 33"
                stroke="rgba(43,43,43,.58)"
                stroke-width="6"
                stroke-linecap="round"
              />
              <path d="M310 150c-8-18 5-36 25-36" stroke="rgba(43,43,43,.58)" stroke-width="6" stroke-linecap="round" />

              <path
                d="M392 256c-12-38 25-80 78-76 32 2 56 18 68 44 18 39-16 82-74 83-34 1-58-16-72-51Z"
                fill="rgba(108,138,98,.22)"
              />
              <path
                d="M438 183c4-28 25-47 54-47 26 0 45 14 51 36"
                stroke="rgba(43,43,43,.56)"
                stroke-width="6"
                stroke-linecap="round"
              />
              <path d="M503 140c-5-17 6-30 22-33" stroke="rgba(43,43,43,.52)" stroke-width="6" stroke-linecap="round" />

              <path
                d="M145 275c-10-42 31-90 86-90 32 0 57 15 71 40 23 40-10 96-75 100-38 2-67-15-82-50Z"
                fill="rgba(184,137,77,.20)"
              />
              <path
                d="M191 200c7-25 30-41 59-39 25 2 44 18 47 41"
                stroke="rgba(43,43,43,.56)"
                stroke-width="6"
                stroke-linecap="round"
              />

              <!-- Basket body -->
              <path
                d="M145 305c17 120 57 162 221 170 164 8 257-16 301-65 34-38 49-95 56-156"
                fill="url(#washA)"
              />
              <path
                d="M120 303c30 10 75 16 140 18 92 3 122-12 178-12s107 13 182 16c68 3 121-3 156-17"
                stroke="rgba(43,43,43,.78)"
                stroke-width="10"
                stroke-linecap="round"
                stroke-linejoin="round"
                filter="url(#inkSoft)"
              />
              <path
                d="M145 305c17 120 57 162 221 170 164 8 257-16 301-65 34-38 49-95 56-156"
                stroke="rgba(43,43,43,.78)"
                stroke-width="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />

              <!-- Weave lines -->
              <path
                d="M184 355c84-34 149-37 223-12 94 32 173 31 261 0"
                stroke="rgba(43,43,43,.30)"
                stroke-width="8"
                stroke-linecap="round"
              />
              <path
                d="M170 403c92-30 159-30 241 0 86 31 168 31 268 0"
                stroke="rgba(43,43,43,.24)"
                stroke-width="8"
                stroke-linecap="round"
              />
              <path
                d="M215 336c-12 26-18 56-20 92"
                stroke="rgba(43,43,43,.18)"
                stroke-width="7"
                stroke-linecap="round"
              />
              <path
                d="M284 330c-7 30-11 65-10 104"
                stroke="rgba(43,43,43,.16)"
                stroke-width="7"
                stroke-linecap="round"
              />
              <path
                d="M355 328c-1 34 1 72 7 112"
                stroke="rgba(43,43,43,.14)"
                stroke-width="7"
                stroke-linecap="round"
              />
              <path
                d="M430 330c7 38 9 75 7 112"
                stroke="rgba(43,43,43,.14)"
                stroke-width="7"
                stroke-linecap="round"
              />
              <path
                d="M504 334c12 34 18 68 18 102"
                stroke="rgba(43,43,43,.16)"
                stroke-width="7"
                stroke-linecap="round"
              />
              <path
                d="M578 340c20 30 30 61 32 92"
                stroke="rgba(43,43,43,.18)"
                stroke-width="7"
                stroke-linecap="round"
              />

              <!-- Handle -->
              <path
                d="M195 308c12-116 79-191 165-212 78-19 169 9 235 79 47 51 71 116 73 185"
                stroke="rgba(43,43,43,.78)"
                stroke-width="12"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M235 315c12-95 64-154 128-172 60-17 133 7 186 63 36 39 57 89 60 141"
                stroke="rgba(43,43,43,.30)"
                stroke-width="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
        </div>
      </section>

      <section id="share" class="section">
        <div class="section-head">
          <div>
            <div class="kicker"><span class="dot" aria-hidden="true"></span> Share the season</div>
            <h2>Four boxes. A year of small joys.</h2>
          </div>
          <div class="pill" data-tone="good" aria-hidden="true">
            <svg viewBox="0 0 20 20" fill="none">
              <path
                d="M6.2 10.4 8.7 13l5.3-6.2"
                stroke="rgba(43,43,43,.7)"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M10 2.2c4.3 0 7.8 3.5 7.8 7.8s-3.5 7.8-7.8 7.8S2.2 14.3 2.2 10 5.7 2.2 10 2.2Z"
                stroke="rgba(43,43,43,.55)"
                stroke-width="1.7"
              />
            </svg>
            Hover or focus a box for a peek
          </div>
        </div>
        <p class="muted">
          Each seasonal share comes in a hand-packed box. Rollover tooltips list typical produce; icons note common
          add-on allergens (optional extras).
        </p>

        <div class="cards-grid" role="list">
          <article
            class="season-card"
            style="--wash-a: 0.14; --wash-b: 0.06; --wash-c: 0.12"
            role="listitem"
            aria-label="Spring box"
          >
            <div class="season-top">
              <div class="season-name">Spring</div>
              <div class="season-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M6 14c5-7 10-9 14-10-1 4-3 9-10 14-2 1-4 1-4 1s-1-2 0-5Z" fill="rgba(108,138,98,.26)" />
                  <path
                    d="M7 14c4-5 9-7 12-8-1 3-3 7-8 11-2 1-4 1-4 1"
                    stroke="rgba(43,43,43,.7)"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
            </div>
            <button class="mini-btn" type="button" aria-describedby="tip-spring">
              <p class="season-desc">Tender greens, roots, and the first sweet snap of the year.</p>
            </button>
            <div class="allergens" aria-label="Optional add-on allergen icons">
              <span class="a-ico" title="Dairy add-on available (cheese share)" aria-label="Dairy add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M8 3h8l-1 5v12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V8L8 3Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M8 8h8" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
              <span class="a-ico" title="Gluten add-on available (sourdough)" aria-label="Gluten add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M7 10c0-3 2-6 5-6s5 3 5 6c0 5-2 10-5 10s-5-5-5-10Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M10 7c0 3-2 4-2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                  <path d="M14 7c0 3 2 4 2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
            </div>
            <div class="tip" id="tip-spring" role="tooltip">
              <strong>Typical spring haul</strong>
              <ul>
                <li>Spinach, arugula, baby lettuces</li>
                <li>Radishes, hakurei turnips</li>
                <li>Green garlic, scallions</li>
                <li>Asparagus, pea shoots</li>
                <li>Strawberries (late spring)</li>
              </ul>
              <small>Exact contents change weekly with weather and harvest timing.</small>
            </div>
          </article>

          <article
            class="season-card"
            style="--wash-a: 0.08; --wash-b: 0.16; --wash-c: 0.06"
            role="listitem"
            aria-label="Summer box"
          >
            <div class="season-top">
              <div class="season-name">Summer</div>
              <div class="season-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none">
                  <path d="M12 3c2 2 2 4 0 6-2-2-2-4 0-6Z" fill="rgba(184,137,77,.22)" />
                  <path
                    d="M12 7c3 0 6 2 6 5 0 5-6 9-6 9s-6-4-6-9c0-3 3-5 6-5Z"
                    fill="rgba(160,106,99,.22)"
                  />
                  <path
                    d="M12 7c3 0 6 2 6 5 0 5-6 9-6 9s-6-4-6-9c0-3 3-5 6-5Z"
                    stroke="rgba(43,43,43,.7)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M12 7V5" stroke="rgba(43,43,43,.6)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </div>
            </div>
            <button class="mini-btn" type="button" aria-describedby="tip-summer">
              <p class="season-desc">Sun-warmed tomatoes, crisp cukes, and basil that perfumes the whole kitchen.</p>
            </button>
            <div class="allergens" aria-label="Optional add-on allergen icons">
              <span class="a-ico" title="Nut add-on possible (pesto kit)" aria-label="Nut add-on possible">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M12 3c4 3 7 8 6 12-1 4-4 6-6 6s-5-2-6-6c-1-4 2-9 6-12Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M12 7c1 3 1 6 0 10" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
              <span class="a-ico" title="Dairy add-on available (fresh mozzarella)" aria-label="Dairy add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M8 3h8l-1 5v12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V8L8 3Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M8 8h8" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
            </div>
            <div class="tip" id="tip-summer" role="tooltip">
              <strong>Typical summer haul</strong>
              <ul>
                <li>Heirloom tomatoes, cherry mix</li>
                <li>Cucumbers, zucchini, peppers</li>
                <li>Basil, dill, cilantro</li>
                <li>Sweet corn, green beans</li>
                <li>Melons, berries</li>
              </ul>
              <small>Some add-ons may contain nuts or dairy; labels are always included.</small>
            </div>
          </article>

          <article
            class="season-card"
            style="--wash-a: 0.1; --wash-b: 0.14; --wash-c: 0.08"
            role="listitem"
            aria-label="Fall box"
          >
            <div class="season-top">
              <div class="season-name">Fall</div>
              <div class="season-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none">
                  <path
                    d="M12 4c6 2 9 7 8 12-1 3-3 4-6 4H10c-3 0-5-1-6-4-1-5 2-10 8-12Z"
                    fill="rgba(184,137,77,.23)"
                  />
                  <path
                    d="M12 4c6 2 9 7 8 12-1 3-3 4-6 4H10c-3 0-5-1-6-4-1-5 2-10 8-12Z"
                    stroke="rgba(43,43,43,.7)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M12 5V2" stroke="rgba(43,43,43,.6)" stroke-width="2" stroke-linecap="round" />
                  <path d="M9 12c2 1 4 1 6 0" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </div>
            </div>
            <button class="mini-btn" type="button" aria-describedby="tip-fall">
              <p class="season-desc">Roasting vegetables, orchard fruit, and stew-friendly staples.</p>
            </button>
            <div class="allergens" aria-label="Optional add-on allergen icons">
              <span class="a-ico" title="Gluten add-on available (bread)" aria-label="Gluten add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M7 10c0-3 2-6 5-6s5 3 5 6c0 5-2 10-5 10s-5-5-5-10Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M10 7c0 3-2 4-2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                  <path d="M14 7c0 3 2 4 2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
              <span class="a-ico" title="Eggs add-on available" aria-label="Eggs add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M12 3c4 0 7 7 7 12 0 4-3 6-7 6s-7-2-7-6c0-5 3-12 7-12Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M9 14c1.6 1.5 4.4 1.5 6 0" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
            </div>
            <div class="tip" id="tip-fall" role="tooltip">
              <strong>Typical fall haul</strong>
              <ul>
                <li>Winter squash, sweet potatoes</li>
                <li>Carrots, beets, onions</li>
                <li>Kale, cabbage, broccoli</li>
                <li>Apples, pears</li>
                <li>Herbs for soups (sage, thyme)</li>
              </ul>
              <small>Perfect for sheet-pan dinners and slow simmered broths.</small>
            </div>
          </article>

          <article
            class="season-card"
            style="--wash-a: 0.06; --wash-b: 0.08; --wash-c: 0.14"
            role="listitem"
            aria-label="Winter box"
          >
            <div class="season-top">
              <div class="season-name">Winter</div>
              <div class="season-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none">
                  <path
                    d="M12 3v18M5 7l14 10M5 17l14-10M4 12h16"
                    stroke="rgba(43,43,43,.68)"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <path
                    d="M12 6c3 2 5 4 7 6-2 2-4 4-7 6-3-2-5-4-7-6 2-2 4-4 7-6Z"
                    fill="rgba(122,151,166,.16)"
                  />
                </svg>
              </div>
            </div>
            <button class="mini-btn" type="button" aria-describedby="tip-winter">
              <p class="season-desc">Storage crops, preserved flavors, and greens grown under row cover.</p>
            </button>
            <div class="allergens" aria-label="Optional add-on allergen icons">
              <span class="a-ico" title="Gluten add-on available (bread)" aria-label="Gluten add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M7 10c0-3 2-6 5-6s5 3 5 6c0 5-2 10-5 10s-5-5-5-10Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M10 7c0 3-2 4-2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                  <path d="M14 7c0 3 2 4 2 6" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
              <span class="a-ico" title="Dairy add-on available (butter)" aria-label="Dairy add-on available">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M8 3h8l-1 5v12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V8L8 3Z"
                    stroke="rgba(43,43,43,.75)"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                  <path d="M8 8h8" stroke="rgba(43,43,43,.45)" stroke-width="2" stroke-linecap="round" />
                </svg>
              </span>
            </div>
            <div class="tip" id="tip-winter" role="tooltip">
              <strong>Typical winter haul</strong>
              <ul>
                <li>Potatoes, onions, garlic</li>
                <li>Carrots, parsnips, rutabaga</li>
                <li>Brussels sprouts, kale</li>
                <li>Ferments + jarred sauces (optional)</li>
                <li>Apples + storage pears</li>
              </ul>
              <small>Expect cozy staples plus occasional greenhouse greens.</small>
            </div>
          </article>
        </div>
      </section>

      <section id="plans" class="section">
        <div class="section-head">
          <div>
            <div class="kicker"><span class="dot" aria-hidden="true"></span> Choose your rhythm</div>
            <h2>Plans that match your week.</h2>
          </div>
          <div class="cta-row">
            <button class="btn primary" type="button" id="ctaScrollMap">See pickup map</button>
            <button class="btn ghost" type="button" id="ctaScrollFaq">Questions?</button>
          </div>
        </div>
        <p class="muted">
          Pick a share size, set a delivery cadence, then toggle add-ons. Prices update live (estimated monthly totals
          assume 4 weekly or 2 bi-weekly deliveries).
        </p>

        <div class="plans">
          <div class="panel plans-left">
            <h3>Share size</h3>
            <div class="seg" role="radiogroup" aria-label="Select share size">
              <input id="sizeStandard" type="radio" name="size" value="standard" checked />
              <label for="sizeStandard">Standard (2–3 people)</label>
              <input id="sizeFamily" type="radio" name="size" value="family" />
              <label for="sizeFamily">Family (4–5 people)</label>
            </div>

            <div class="range-wrap">
              <div class="range-top">
                <strong id="freqLabel">Weekly delivery</strong>
                <span class="pill" id="freqPill" data-tone="good">Best for cooking at home</span>
              </div>
              <input
                id="frequency"
                type="range"
                min="0"
                max="1"
                step="1"
                value="0"
                aria-label="Delivery frequency slider"
              />
              <div class="range-ends" aria-hidden="true"><span>Weekly</span><span>Bi-weekly</span></div>
            </div>

            <h3 style="margin-top: 14px">Add-ons</h3>
            <div class="addons" aria-label="Add-ons">
              <div class="toggle">
                <div>
                  <strong>Eggs</strong>
                  <small>One dozen from pasture-raised hens (+$6 / delivery)</small>
                </div>
                <div class="switch">
                  <input id="addonEggs" type="checkbox" />
                  <span class="track" aria-hidden="true"></span>
                  <span class="knob" aria-hidden="true"></span>
                </div>
              </div>
              <div class="toggle">
                <div>
                  <strong>Flowers</strong>
                  <small>Seasonal bouquet, farmer’s choice (+$9 / delivery)</small>
                </div>
                <div class="switch">
                  <input id="addonFlowers" type="checkbox" />
                  <span class="track" aria-hidden="true"></span>
                  <span class="knob" aria-hidden="true"></span>
                </div>
              </div>
              <div class="toggle">
                <div>
                  <strong>Bread</strong>
                  <small>Sourdough from our partner bakery (+$7 / delivery)</small>
                </div>
                <div class="switch">
                  <input id="addonBread" type="checkbox" />
                  <span class="track" aria-hidden="true"></span>
                  <span class="knob" aria-hidden="true"></span>
                </div>
              </div>
            </div>
          </div>

          <div class="panel plans-right" aria-label="Live price summary">
            <div class="price-box">
              <div class="price-top">
                <div>
                  <div class="pill" id="planSummary">Standard • Weekly</div>
                  <div class="muted tiny" id="planNote">Includes a recipe card + storage tips.</div>
                </div>
                <div class="price" aria-live="polite">
                  <span id="pricePerDelivery">$42</span><small> / delivery</small>
                </div>
              </div>
              <div class="line"></div>
              <div class="breakdown" id="breakdown">
                <div class="row"><span>Base share</span><strong id="baseLine">$42</strong></div>
                <div class="row"><span>Add-ons</span><strong id="addonsLine">$0</strong></div>
                <div class="row"><span>Estimated month</span><strong id="monthLine">$168</strong></div>
              </div>
              <div class="hr-scribble"></div>
              <p class="hint" id="billingHint">
                Estimated monthly totals assume 4 weekly deliveries or 2 bi-weekly deliveries.
              </p>
            </div>

            <div class="price-box" aria-label="Sustainability note">
              <strong style="font-family: Fraunces, ui-serif, Georgia, serif">What your share supports</strong>
              <p class="muted" style="margin: 8px 0 0">
                Compost-built soil, fair wages, and a crop plan that keeps the farm resilient: diversified plantings,
                pollinator strips, and low-till beds.
              </p>
              <div class="cta-row">
                <a class="btn primary" href="#contact">Reserve a spot</a>
                <a class="btn ghost" href="#share">See the seasons</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="map" class="section">
        <div class="section-head">
          <div>
            <div class="kicker"><span class="dot" aria-hidden="true"></span> Delivery + pickup</div>
            <h2>A gentle radius, and friendly drop spots.</h2>
          </div>
          <div class="pill" id="mapPill" data-tone="warn" tabindex="-1">Check a ZIP to personalize distances</div>
        </div>
        <p class="muted">
          This is a static, illustrated map. The circle shows our typical delivery radius; pins mark pickup locations.
        </p>

        <div class="map-grid">
          <div class="panel map-panel">
            <div class="map-frame" aria-label="Illustrated delivery map">
              <svg viewBox="0 0 860 520" role="img" aria-label="A watercolor-style city map with a delivery radius overlay">
                <defs>
                  <filter id="rough" x="-20%" y="-20%" width="140%" height="140%">
                    <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" seed="3" />
                    <feDisplacementMap in="SourceGraphic" scale="1.8" />
                  </filter>
                  <radialGradient id="mapWash" cx="50%" cy="40%" r="70%">
                    <stop offset="0" stop-color="rgba(239,225,191,.7)" />
                    <stop offset="0.7" stop-color="rgba(246,240,230,.2)" />
                    <stop offset="1" stop-color="rgba(242,234,220,.25)" />
                  </radialGradient>
                </defs>

                <rect x="0" y="0" width="860" height="520" fill="url(#mapWash)" />

                <!-- River -->
                <path
                  d="M-10 310c120-40 230-60 330-56 114 5 210 51 320 64 105 12 190-7 250-28v120H-10V310Z"
                  fill="rgba(122,151,166,.24)"
                  filter="url(#rough)"
                />

                <!-- Streets -->
                <g stroke-linecap="round" stroke="rgba(43,43,43,.22)" stroke-width="6" filter="url(#rough)">
                  <path d="M70 120c140 40 260 50 420 40s250-35 320-60" />
                  <path d="M95 210c165 35 270 30 410 0 130-28 230-60 310-92" />
                  <path d="M90 420c160-40 280-60 430-50 140 10 240 44 330 62" />
                </g>
                <g stroke-linecap="round" stroke="rgba(43,43,43,.16)" stroke-width="4" filter="url(#rough)">
                  <path d="M150 70c40 140 30 240-20 340" />
                  <path d="M340 60c25 120 10 220-30 320" />
                  <path d="M520 70c30 135 20 230-25 320" />
                  <path d="M710 90c25 120 20 210-15 290" />
                </g>

                <!-- Parks -->
                <g filter="url(#rough)">
                  <path d="M590 140c40-30 95-20 120 10s10 80-35 98-100 10-115-25 0-62 30-83Z" fill="rgba(108,138,98,.18)" />
                  <path d="M210 320c30-35 85-35 110-10s25 78-15 105-95 25-115-8-10-62 20-87Z" fill="rgba(108,138,98,.16)" />
                </g>

                <!-- Delivery radius (center is farm hub) -->
                <circle
                  id="radiusRing"
                  cx="420"
                  cy="240"
                  r="150"
                  fill="rgba(108,138,98,.08)"
                  stroke="rgba(47,107,58,.45)"
                  stroke-width="5"
                  stroke-dasharray="10 10"
                />

                <!-- Farm hub -->
                <g id="farmMarker" transform="translate(420 240)">
                  <circle r="12" fill="rgba(184,137,77,.35)" stroke="rgba(43,43,43,.65)" stroke-width="3" />
                  <path d="M0 -22c8 10 12 16 12 22 0 8-5 14-12 14s-12-6-12-14c0-6 4-12 12-22Z" fill="rgba(184,137,77,.24)" stroke="rgba(43,43,43,.62)" stroke-width="3" />
                </g>

                <!-- Pickup pins -->
                <g id="pins" stroke="rgba(43,43,43,.64)" stroke-width="3" fill="rgba(160,106,99,.22)">
                  <g data-pickup="Cambridge Market" transform="translate(520 205)">
                    <path d="M0 -18c7 9 10 14 10 19 0 7-4 12-10 12s-10-5-10-12c0-5 3-10 10-19Z" />
                    <circle cy="1" r="5" fill="rgba(246,240,230,.8)" />
                  </g>
                  <g data-pickup="Somerville Porch" transform="translate(465 155)">
                    <path d="M0 -18c7 9 10 14 10 19 0 7-4 12-10 12s-10-5-10-12c0-5 3-10 10-19Z" />
                    <circle cy="1" r="5" fill="rgba(246,240,230,.8)" />
                  </g>
                  <g data-pickup="Brookline Library" transform="translate(370 305)">
                    <path d="M0 -18c7 9 10 14 10 19 0 7-4 12-10 12s-10-5-10-12c0-5 3-10 10-19Z" />
                    <circle cy="1" r="5" fill="rgba(246,240,230,.8)" />
                  </g>
                  <g data-pickup="Arlington Green" transform="translate(345 170)">
                    <path d="M0 -18c7 9 10 14 10 19 0 7-4 12-10 12s-10-5-10-12c0-5 3-10 10-19Z" />
                    <circle cy="1" r="5" fill="rgba(246,240,230,.8)" />
                  </g>
                </g>

                <!-- Label -->
                <g font-family="Caveat, cursive" font-size="22" fill="rgba(43,43,43,.75)">
                  <text x="445" y="244">Farm hub</text>
                </g>
              </svg>
              <div class="map-overlay" aria-hidden="true"></div>
            </div>
          </div>

          <aside class="panel pickup-panel" aria-label="Pickup locations">
            <h3>Pickup locations</h3>
            <p class="muted" style="margin: 8px 0 0">
              Choose a neighborhood drop spot, or deliver to your doorstep if you’re inside our radius.
            </p>

            <ul class="pickup-list" id="pickupList">
              <li class="pickup" data-name="Somerville Porch">
                <div class="pickup-top">
                  <strong>Somerville Porch</strong>
                  <span class="badge" data-dist aria-label="Distance unknown">
                    <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                      <path
                        d="M10 18c3-3 6-6.3 6-10a6 6 0 1 0-12 0c0 3.7 3 7 6 10Z"
                        stroke="rgba(43,43,43,.65)"
                        stroke-width="1.8"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path d="M10 11.2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(43,43,43,.55)" stroke-width="1.8" />
                    </svg>
                    <span class="distText">—</span>
                  </span>
                </div>
                <small>Elm St &amp; Willow Ave • Wed 4–7pm</small>
              </li>
              <li class="pickup" data-name="Cambridge Market">
                <div class="pickup-top">
                  <strong>Cambridge Market</strong>
                  <span class="badge" data-dist aria-label="Distance unknown">
                    <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                      <path
                        d="M10 18c3-3 6-6.3 6-10a6 6 0 1 0-12 0c0 3.7 3 7 6 10Z"
                        stroke="rgba(43,43,43,.65)"
                        stroke-width="1.8"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path d="M10 11.2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(43,43,43,.55)" stroke-width="1.8" />
                    </svg>
                    <span class="distText">—</span>
                  </span>
                </div>
                <small>Kendall Sq • Thu 3–6pm</small>
              </li>
              <li class="pickup" data-name="Brookline Library">
                <div class="pickup-top">
                  <strong>Brookline Library</strong>
                  <span class="badge" data-dist aria-label="Distance unknown">
                    <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                      <path
                        d="M10 18c3-3 6-6.3 6-10a6 6 0 1 0-12 0c0 3.7 3 7 6 10Z"
                        stroke="rgba(43,43,43,.65)"
                        stroke-width="1.8"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path d="M10 11.2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(43,43,43,.55)" stroke-width="1.8" />
                    </svg>
                    <span class="distText">—</span>
                  </span>
                </div>
                <small>Coolidge Corner • Tue 4–7pm</small>
              </li>
              <li class="pickup" data-name="Arlington Green">
                <div class="pickup-top">
                  <strong>Arlington Green</strong>
                  <span class="badge" data-dist aria-label="Distance unknown">
                    <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                      <path
                        d="M10 18c3-3 6-6.3 6-10a6 6 0 1 0-12 0c0 3.7 3 7 6 10Z"
                        stroke="rgba(43,43,43,.65)"
                        stroke-width="1.8"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <path d="M10 11.2a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(43,43,43,.55)" stroke-width="1.8" />
                    </svg>
                    <span class="distText">—</span>
                  </span>
                </div>
                <small>Town Hall Green • Fri 3–6pm</small>
              </li>
            </ul>

            <p class="hint" id="deliveryHint" style="margin-top: 12px">
              Enter a ZIP above to see delivery availability and approximate distances.
            </p>
          </aside>
        </div>
      </section>

      <section id="stories" class="section">
        <div class="section-head">
          <div>
            <div class="kicker"><span class="dot" aria-hidden="true"></span> From our members</div>
            <h2>Little notes, big gratitude.</h2>
          </div>
          <div class="pill" data-tone="good">Use arrows or swipe</div>
        </div>
        <p class="muted">A few voices from the community (portraits are hand-drawn line art—just like our labels).</p>

        <div class="carousel" aria-label="Testimonials carousel">
          <div class="carousel-shell">
            <div class="carousel-track" id="carouselTrack" style="--idx: 0">
              <div class="slide" aria-roledescription="slide" aria-label="1 of 4">
                <div class="test-card" tabindex="-1">
                  <div class="portrait" aria-hidden="true">
                    <svg viewBox="0 0 80 80" fill="none">
                      <path
                        d="M22 62c3-10 11-16 18-16s15 6 18 16"
                        stroke="rgba(43,43,43,.7)"
                        stroke-width="3"
                        stroke-linecap="round"
                      />
                      <path
                        d="M27 34c2-9 8-14 13-14s11 5 13 14c1 7-4 14-13 14s-14-7-13-14Z"
                        stroke="rgba(43,43,43,.75)"
                        stroke-width="3"
                        stroke-linejoin="round"
                      />
                      <path d="M26 30c6-6 13-8 22-6" stroke="rgba(43,43,43,.35)" stroke-width="3" stroke-linecap="round" />
                      <path d="M29 22c6-4 15-4 22 0" stroke="rgba(43,43,43,.35)" stroke-width="3" stroke-linecap="round" />
                    </svg>
                  </div>
                  <blockquote>
                    <p>
                      “The box feels like a postcard from the field. The produce lasts longer than grocery greens, and
                      the recipes taught me how to love beets.”
                    </p>
                    <div class="who"><strong>Mara Ortiz</strong><span>CSA member • 3rd season</span></div>
                  </blockquote>
                </div>
              </div>

              <div class="slide" aria-roledescription="slide" aria-label="2 of 4">
                <div class="test-card" tabindex="-1">
                  <div class="portrait" aria-hidden="true">
                    <svg viewBox="0 0 80 80" fill="none">
                      <path
                        d="M18 64c4-11 12-17 22-17s18 6 22 17"
                        stroke="rgba(43,43,43,.7)"
                        stroke-width="3"
                        stroke-linecap="round"
                      />
                      <path
                        d="M26 34c1-10 7-16 14-16s13 6 14 16c1 8-4 14-14 14s-15-6-14-14Z"
                        stroke="rgba(43,43,43,.75)"
                        stroke-width="3"
                        stroke-linejoin="round"
                      />
                      <path d="M24 31c3-10 10-14 16-14s13 4 16 14" stroke="rgba(43,43,43,.32)" stroke-width="3" stroke-linecap="round" />
                      <path d="M30 28c2 3 6 5 10 5s8-2 10-5" stroke="rgba(43,43,43,.35)" stroke-width="3" stroke-linecap="round" />
                    </svg>
                  </div>
                  <blockquote>
                    <p>
                      “The bi-weekly plan is perfect for our tiny fridge. We add flowers—every bouquet looks like it was
                      painted. Pickup is quick and kind.”
                    </p>
                    <div class="who"><strong>Levi Chen</strong><span>Pickup regular • Kendall</span></div>
                  </blockquote>
                </div>
              </div>

              <div class="slide" aria-roledescription="slide" aria-label="3 of 4">
                <div class="test-card" tabindex="-1">
                  <div class="portrait" aria-hidden="true">
                    <svg viewBox="0 0 80 80" fill="none">
                      <path
                        d="M22 62c3-9 10-14 18-14s15 5 18 14"
                        stroke="rgba(43,43,43,.7)"
                        stroke-width="3"
                        stroke-linecap="round"
                      />
                      <path
                        d="M27 33c2-9 8-15 13-15s11 6 13 15c2 9-4 15-13 15s-15-6-13-15Z"
                        stroke="rgba(43,43,43,.75)"
                        stroke-width="3"
                        stroke-linejoin="round"
                      />
                      <path d="M26 30c5-3 9-4 14-4s9 1 14 4" stroke="rgba(43,43,43,.32)" stroke-width="3" stroke-linecap="round" />
                      <path d="M32 22c1 6 4 9 8 9s7-3 8-9" stroke="rgba(43,43,43,.33)" stroke-width="3" stroke-linecap="round" />
                    </svg>
                  </div>
                  <blockquote>
                    <p>
                      “I thought ‘winter CSA’ would be all potatoes. Surprise: kale under row cover, ferments, and the
                      best carrots I’ve ever eaten.”
                    </p>
                    <div class="who"><strong>Anya Patel</strong><span>Year-round share</span></div>
                  </blockquote>
                </div>
              </div>

              <div class="slide" aria-roledescription="slide" aria-label="4 of 4">
                <div class="test-card" tabindex="-1">
                  <div class="portrait" aria-hidden="true">
                    <svg viewBox="0 0 80 80" fill="none">
                      <path
                        d="M20 63c4-11 12-16 20-16s16 5 20 16"
                        stroke="rgba(43,43,43,.7)"
                        stroke-width="3"
                        stroke-linecap="round"
                      />
                      <path
                        d="M26 35c2-10 8-16 14-16s12 6 14 16c2 8-4 14-14 14s-16-6-14-14Z"
                        stroke="rgba(43,43,43,.75)"
                        stroke-width="3"
                        stroke-linejoin="round"
                      />
                      <path d="M25 31c6-8 16-11 30-7" stroke="rgba(43,43,43,.33)" stroke-width="3" stroke-linecap="round" />
                      <path d="M29 23c8-6 20-6 28 0" stroke="rgba(43,43,43,.33)" stroke-width="3" stroke-linecap="round" />
                      <path d="M33 41c3 2 8 2 11 0" stroke="rgba(43,43,43,.32)" stroke-width="3" stroke-linecap="round" />
                    </svg>
                  </div>
                  <blockquote>
                    <p>
                      “As a chef, I appreciate the consistency. You can taste the soil care. The farm notes are charming
                      and genuinely useful for prep.”
                    </p>
                    <div class="who"><strong>Chef Rowan Blake</strong><span>Local restaurant partner</span></div>
                  </blockquote>
                </div>
              </div>
            </div>
          </div>

          <div class="carousel-controls">
            <div class="cta-row">
              <button class="btn ghost" type="button" id="prevBtn" aria-label="Previous testimonial">Prev</button>
              <button class="btn ghost" type="button" id="nextBtn" aria-label="Next testimonial">Next</button>
            </div>
            <div class="dots" role="tablist" aria-label="Carousel pagination">
              <button class="dot-btn" type="button" aria-label="Go to slide 1" aria-current="true"></button>
              <button class="dot-btn" type="button" aria-label="Go to slide 2" aria-current="false"></button>
              <button class="dot-btn" type="button" aria-label="Go to slide 3" aria-current="false"></button>
              <button class="dot-btn" type="button" aria-label="Go to slide 4" aria-current="false"></button>
            </div>
          </div>
        </div>
      </section>

      <section id="faq" class="section">
        <div class="section-head">
          <div>
            <div class="kicker"><span class="dot" aria-hidden="true"></span> FAQ + Contact</div>
            <h2>Clear answers. Warm welcome.</h2>
          </div>
          <div class="pill" data-tone="good">Keyboard-friendly accordion</div>
        </div>

        <div class="faq-grid">
          <div class="panel accordion" aria-label="Frequently asked questions">
            <div class="acc-item">
              <button class="acc-btn" type="button" aria-expanded="false" aria-controls="a1" id="q1">
                <span>
                  <span aria-hidden="true">How do subscriptions work?</span>
                  <span class="sr-only">How do subscriptions work?</span>
                </span>
                <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path d="M7 4l7 6-7 6" stroke="rgba(43,43,43,.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="acc-panel" id="a1" role="region" aria-labelledby="q1">
                <div class="acc-panel-inner">
                  Choose a share size and frequency, then reserve a spot. We bill per delivery and email a weekly harvest
                  note. You can pause for vacations with 7 days’ notice.
                </div>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-btn" type="button" aria-expanded="false" aria-controls="a2" id="q2">
                <span>
                  <span aria-hidden="true">What if I have allergies?</span>
                  <span class="sr-only">What if I have allergies?</span>
                </span>
                <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path d="M7 4l7 6-7 6" stroke="rgba(43,43,43,.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="acc-panel" id="a2" role="region" aria-labelledby="q2">
                <div class="acc-panel-inner">
                  The core produce box is naturally free of common allergens. Add-ons like bread, cheese, or pesto kits
                  may contain gluten, dairy, or nuts—clearly labeled at pickup and in your confirmation email.
                </div>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-btn" type="button" aria-expanded="false" aria-controls="a3" id="q3">
                <span>
                  <span aria-hidden="true">Can I swap items?</span>
                  <span class="sr-only">Can I swap items?</span>
                </span>
                <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path d="M7 4l7 6-7 6" stroke="rgba(43,43,43,.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="acc-panel" id="a3" role="region" aria-labelledby="q3">
                <div class="acc-panel-inner">
                  At pickups, we set up a small swap table for duplicates and new-to-you veggies. It’s informal—think
                  neighborly, not transactional.
                </div>
              </div>
            </div>

            <div class="acc-item">
              <button class="acc-btn" type="button" aria-expanded="false" aria-controls="a4" id="q4">
                <span>
                  <span aria-hidden="true">Is the farm organic?</span>
                  <span class="sr-only">Is the farm organic?</span>
                </span>
                <svg viewBox="0 0 20 20" fill="none" aria-hidden="true">
                  <path d="M7 4l7 6-7 6" stroke="rgba(43,43,43,.7)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
              </button>
              <div class="acc-panel" id="a4" role="region" aria-labelledby="q4">
                <div class="acc-panel-inner">
                  We follow organic practices (no synthetic herbicides, careful soil amendments, beneficial insect
                  habitat). Certification is expensive for small farms; we’d rather invest in workers and compost.
                </div>
              </div>
            </div>
          </div>

          <form id="contact" class="panel contact" aria-label="Contact form" novalidate>
            <h3>Contact</h3>
            <p class="muted" style="margin: -4px 0 0">
              Send a note and we’ll reply with current openings, pickup options, and the next delivery date.
            </p>
            <div class="form-row">
              <label class="small" for="email">Email</label>
              <input id="email" name="email" type="email" autocomplete="email" placeholder="you@domain.com" required />
            </div>
            <div class="form-row">
              <label class="small" for="msg">Message</label>
              <textarea id="msg" name="msg" placeholder="Tell us your ZIP, preferred plan, and any questions." required></textarea>
            </div>
            <div class="form-actions">
              <button class="btn primary" type="submit">Send</button>
              <button class="btn ghost" type="reset">Reset</button>
              <span class="tiny" id="formHint">We’ll never share your email.</span>
            </div>
            <div class="toast" id="formToast" aria-live="polite"></div>
          </form>
        </div>
      </section>

      <footer>
        <div>
          <strong style="font-family: Fraunces, ui-serif, Georgia, serif">Artisan CSA</strong>
          <span class="tiny"> • a hand-drawn, watercolor landing demo</span>
        </div>
        <div class="tiny">Accessibility: focus-visible, live regions, keyboard controls, reduced-motion support.</div>
      </footer>
    </main>

    <script>
      (() => {
        const $ = (sel, root = document) => root.querySelector(sel);
        const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));

        const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        const state = {
          zip: "",
          inArea: null,
          frequency: "weekly", // weekly | biweekly
          size: "standard", // standard | family
          addons: { eggs: false, flowers: false, bread: false },
          carouselIdx: 0,
        };

        const pricing = {
          standard: { weekly: 42, biweekly: 46 },
          family: { weekly: 68, biweekly: 74 },
        };
        const addonPrices = { eggs: 6, flowers: 9, bread: 7 };

        const allowedPrefixes = new Set(["021", "022", "024", "017", "018", "019", "020", "014"]);

        const zipAnchors = [
          { prefix: "021", lat: 42.36, lon: -71.08 },
          { prefix: "022", lat: 42.35, lon: -71.06 },
          { prefix: "024", lat: 42.32, lon: -71.14 },
          { prefix: "017", lat: 42.28, lon: -71.43 },
          { prefix: "018", lat: 42.55, lon: -71.22 },
          { prefix: "019", lat: 42.52, lon: -70.95 },
          { prefix: "020", lat: 42.22, lon: -71.21 },
          { prefix: "014", lat: 42.57, lon: -71.64 },
        ];

        const pickups = [
          { name: "Somerville Porch", lat: 42.3876, lon: -71.0995 },
          { name: "Cambridge Market", lat: 42.3656, lon: -71.0832 },
          { name: "Brookline Library", lat: 42.3426, lon: -71.1212 },
          { name: "Arlington Green", lat: 42.4154, lon: -71.1565 },
        ];

        const farmHub = { lat: 42.36, lon: -71.06 };

        function clamp(n, a, b) {
          return Math.max(a, Math.min(b, n));
        }

        function formatUSD(n) {
          return n.toLocaleString(undefined, { style: "currency", currency: "USD", maximumFractionDigits: 0 });
        }

        function sanitizeZip(value) {
          const digits = (value || "").replace(/[^\d]/g, "").slice(0, 5);
          return digits;
        }

        function isValidZip(zip) {
          return /^\d{5}$/.test(zip);
        }

        function inServiceArea(zip) {
          if (!isValidZip(zip)) return null;
          return allowedPrefixes.has(zip.slice(0, 3));
        }

        function zipToLatLon(zip) {
          if (!isValidZip(zip)) return null;
          const prefix = zip.slice(0, 3);
          const anchor = zipAnchors.find((a) => a.prefix === prefix);
          if (!anchor) return { ...farmHub };
          const wiggle = (parseInt(zip.slice(3), 10) / 999) * 0.04; // deterministic, tiny spread
          const lat = anchor.lat + (wiggle - 0.02);
          const lon = anchor.lon + (0.02 - wiggle) * 0.9;
          return { lat, lon };
        }

        function haversineMiles(a, b) {
          const R = 3958.8;
          const dLat = ((b.lat - a.lat) * Math.PI) / 180;
          const dLon = ((b.lon - a.lon) * Math.PI) / 180;
          const lat1 = (a.lat * Math.PI) / 180;
          const lat2 = (b.lat * Math.PI) / 180;
          const h =
            Math.sin(dLat / 2) ** 2 + Math.cos(lat1) * Math.cos(lat2) * Math.sin(dLon / 2) ** 2;
          return 2 * R * Math.asin(Math.sqrt(h));
        }

        function updatePricing() {
          const base = pricing[state.size][state.frequency];
          const addons =
            (state.addons.eggs ? addonPrices.eggs : 0) +
            (state.addons.flowers ? addonPrices.flowers : 0) +
            (state.addons.bread ? addonPrices.bread : 0);
          const perDelivery = base + addons;
          const deliveriesPerMonth = state.frequency === "weekly" ? 4 : 2;
          const monthly = perDelivery * deliveriesPerMonth;

          $("#pricePerDelivery").textContent = formatUSD(perDelivery);
          $("#baseLine").textContent = formatUSD(base);
          $("#addonsLine").textContent = formatUSD(addons);
          $("#monthLine").textContent = formatUSD(monthly);

          const sizeLabel = state.size === "standard" ? "Standard" : "Family";
          const freqLabel = state.frequency === "weekly" ? "Weekly" : "Bi-weekly";
          $("#planSummary").textContent = `${sizeLabel} • ${freqLabel}`;
          $("#freqLabel").textContent = state.frequency === "weekly" ? "Weekly delivery" : "Bi-weekly delivery";
          $("#freqPill").textContent =
            state.frequency === "weekly" ? "Best for cooking at home" : "Great for smaller kitchens";

          const note =
            state.size === "standard"
              ? "Balanced variety for 2–3 people."
              : "Extra volume for families and enthusiastic cooks.";
          $("#planNote").textContent = note;
        }

        function setZipStatus({ tone, text, hint }) {
          const pill = $("#zipPill");
          pill.dataset.tone = tone;
          $("#zipPillText").textContent = text;
          $("#deliveryHint").textContent = hint || "Enter a ZIP above to see delivery availability and approximate distances.";
          const mapPill = $("#mapPill");
          mapPill.dataset.tone = tone;
          mapPill.textContent = tone === "good" ? "Personalized distances are on" : "Check a ZIP to personalize distances";

          const ring = $("#radiusRing");
          if (tone === "good") {
            ring.setAttribute("fill", "rgba(108,138,98,.10)");
            ring.setAttribute("stroke", "rgba(47,107,58,.55)");
          } else if (tone === "warn") {
            ring.setAttribute("fill", "rgba(160,106,99,.06)");
            ring.setAttribute("stroke", "rgba(138,63,43,.50)");
          } else {
            ring.setAttribute("fill", "rgba(43,43,43,.04)");
            ring.setAttribute("stroke", "rgba(43,43,43,.30)");
          }
        }

        function updateDistances(zip) {
          const user = zipToLatLon(zip);
          const distEls = $$("[data-dist]");
          if (!user) {
            distEls.forEach((el) => {
              el.setAttribute("aria-label", "Distance unknown");
              $(".distText", el).textContent = "—";
            });
            return;
          }

          const sorted = pickups
            .map((p) => ({ ...p, miles: haversineMiles(user, p) }))
            .sort((a, b) => a.miles - b.miles);

          const list = $("#pickupList");
          sorted.forEach((p, idx) => {
            const li = list.querySelector(`[data-name="${CSS.escape(p.name)}"]`);
            if (!li) return;
            li.style.order = String(idx);
            const badge = li.querySelector("[data-dist]");
            const miles = Math.max(0.6, p.miles);
            const pretty = miles < 10 ? miles.toFixed(1) : Math.round(miles).toString();
            const label = `${pretty} miles`;
            badge.setAttribute("aria-label", `Approximately ${label} from your ZIP`);
            li.querySelector(".distText").textContent = label;
          });
        }

        function handleZipUpdate(raw) {
          const zip = sanitizeZip(raw);
          const input = $("#zip");
          if (input.value !== raw) {
            // keep user formatting if they typed non-digits; we'll normalize on blur
          }
          state.zip = zip;
          const area = inServiceArea(zip);
          state.inArea = area;

          if (!zip) {
            setZipStatus({ tone: "warn", text: "Enter a ZIP to see delivery + pickup distances." });
            updateDistances(null);
            return;
          }
          if (!isValidZip(zip)) {
            setZipStatus({ tone: "warn", text: "ZIPs should be 5 digits. Keep typing—almost there." });
            updateDistances(null);
            return;
          }

          if (area) {
            setZipStatus({
              tone: "good",
              text: `Great news: we deliver to ${zip}. Pickup distances updated below.`,
              hint: "You’re inside our typical delivery radius. You can still choose a pickup location if you prefer.",
            });
            updateDistances(zip);
          } else {
            setZipStatus({
              tone: "warn",
              text: `We’re not delivering to ${zip} yet. Pickup distances shown are approximate.`,
              hint: "You may be outside the current radius. If you're nearby, send a note—routes expand each season.",
            });
            updateDistances(zip);
          }
        }

        function initZipChecker() {
          const form = $("#zipForm");
          const input = $("#zip");

          input.addEventListener("input", (e) => handleZipUpdate(e.target.value));
          input.addEventListener("blur", () => {
            input.value = sanitizeZip(input.value);
            handleZipUpdate(input.value);
          });

          form.addEventListener("submit", (e) => {
            e.preventDefault();
            input.value = sanitizeZip(input.value);
            handleZipUpdate(input.value);
            $("#plans").scrollIntoView({ behavior: prefersReducedMotion ? "auto" : "smooth", block: "start" });
            // Move focus to first interactive element in plans for keyboard users
            const target = $("#sizeStandard");
            if (target) target.focus({ preventScroll: true });
          });
        }

        function initPlanControls() {
          const freq = $("#frequency");
          const sizeRadios = $$("input[name='size']");

          sizeRadios.forEach((r) =>
            r.addEventListener("change", () => {
              state.size = r.value;
              updatePricing();
            }),
          );

          freq.addEventListener("input", () => {
            state.frequency = freq.value === "0" ? "weekly" : "biweekly";
            updatePricing();
          });

          const bindAddon = (id, key) => {
            const el = $(id);
            el.addEventListener("change", () => {
              state.addons[key] = el.checked;
              updatePricing();
            });
          };
          bindAddon("#addonEggs", "eggs");
          bindAddon("#addonFlowers", "flowers");
          bindAddon("#addonBread", "bread");

          updatePricing();
        }

        function initCTAButtons() {
          $("#ctaScrollMap").addEventListener("click", () => {
            $("#map").scrollIntoView({ behavior: prefersReducedMotion ? "auto" : "smooth", block: "start" });
            $("#mapPill").focus?.();
          });
          $("#ctaScrollFaq").addEventListener("click", () => {
            $("#faq").scrollIntoView({ behavior: prefersReducedMotion ? "auto" : "smooth", block: "start" });
            const firstAcc = $(".acc-btn");
            if (firstAcc) firstAcc.focus({ preventScroll: true });
          });
        }

        function initAccordion() {
          const items = $$(".acc-item");
          const setOpen = (btn, panel, open) => {
            btn.setAttribute("aria-expanded", String(open));
            if (open) {
              const inner = $(".acc-panel-inner", panel);
              panel.style.height = inner.getBoundingClientRect().height + 14 + "px";
            } else {
              panel.style.height = "0px";
            }
          };

          items.forEach((item) => {
            const btn = $(".acc-btn", item);
            const panel = $(".acc-panel", item);
            setOpen(btn, panel, false);

            btn.addEventListener("click", () => {
              const open = btn.getAttribute("aria-expanded") === "true";
              // one-at-a-time behavior for clarity
              items.forEach((other) => {
                const b = $(".acc-btn", other);
                const p = $(".acc-panel", other);
                setOpen(b, p, false);
              });
              setOpen(btn, panel, !open);
            });

            btn.addEventListener("keydown", (e) => {
              if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                btn.click();
              }
              const buttons = items.map((it) => $(".acc-btn", it));
              const idx = buttons.indexOf(btn);
              if (e.key === "ArrowDown") {
                e.preventDefault();
                buttons[(idx + 1) % buttons.length].focus();
              }
              if (e.key === "ArrowUp") {
                e.preventDefault();
                buttons[(idx - 1 + buttons.length) % buttons.length].focus();
              }
              if (e.key === "Home") {
                e.preventDefault();
                buttons[0].focus();
              }
              if (e.key === "End") {
                e.preventDefault();
                buttons[buttons.length - 1].focus();
              }
            });
          });

          window.addEventListener("resize", () => {
            items.forEach((item) => {
              const btn = $(".acc-btn", item);
              const panel = $(".acc-panel", item);
              const open = btn.getAttribute("aria-expanded") === "true";
              if (open) {
                const inner = $(".acc-panel-inner", panel);
                panel.style.height = inner.getBoundingClientRect().height + 14 + "px";
              }
            });
          });
        }

        function initContactForm() {
          const form = $("#contact");
          const toast = $("#formToast");
          const email = $("#email");
          const msg = $("#msg");
          const resetToast = () => (toast.textContent = "");

          form.addEventListener("reset", () => {
            resetToast();
            setTimeout(() => email.focus(), 0);
          });

          form.addEventListener("submit", (e) => {
            e.preventDefault();
            resetToast();

            const emailVal = (email.value || "").trim();
            const msgVal = (msg.value || "").trim();
            const emailOk = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailVal);

            if (!emailOk) {
              toast.textContent = "Please enter a valid email address.";
              email.focus();
              return;
            }
            if (msgVal.length < 10) {
              toast.textContent = "Add a short message (at least 10 characters).";
              msg.focus();
              return;
            }

            const zipNote = state.zip && isValidZip(state.zip) ? ` ZIP: ${state.zip}.` : "";
            toast.textContent = `Message drafted${zipNote} In a real app this would send—here it simply confirms input.`;
          });
        }

        function initCarousel() {
          const track = $("#carouselTrack");
          const prev = $("#prevBtn");
          const next = $("#nextBtn");
          const dots = $$(".dot-btn");
          const slides = $$(".slide", track);
          const total = slides.length;

          function setIdx(nextIdx, { focus = false } = {}) {
            state.carouselIdx = (nextIdx + total) % total;
            track.style.setProperty("--idx", String(state.carouselIdx));
            dots.forEach((d, i) => d.setAttribute("aria-current", String(i === state.carouselIdx)));
            slides.forEach((s, i) => {
              s.setAttribute("aria-hidden", String(i !== state.carouselIdx));
            });
            if (focus) {
              const card = slides[state.carouselIdx].querySelector(".test-card");
              card?.focus?.();
            }
          }

          prev.addEventListener("click", () => setIdx(state.carouselIdx - 1));
          next.addEventListener("click", () => setIdx(state.carouselIdx + 1));
          dots.forEach((d, i) => d.addEventListener("click", () => setIdx(i)));

          const shell = track.closest(".carousel-shell");
          shell.setAttribute("tabindex", "0");
          shell.addEventListener("keydown", (e) => {
            if (e.key === "ArrowLeft") {
              e.preventDefault();
              setIdx(state.carouselIdx - 1);
            }
            if (e.key === "ArrowRight") {
              e.preventDefault();
              setIdx(state.carouselIdx + 1);
            }
          });

          // basic swipe
          let startX = 0;
          let startY = 0;
          let active = false;
          shell.addEventListener("pointerdown", (e) => {
            active = true;
            startX = e.clientX;
            startY = e.clientY;
            shell.setPointerCapture(e.pointerId);
          });
          shell.addEventListener("pointerup", (e) => {
            if (!active) return;
            active = false;
            const dx = e.clientX - startX;
            const dy = e.clientY - startY;
            if (Math.abs(dx) > 40 && Math.abs(dx) > Math.abs(dy) * 1.2) {
              setIdx(state.carouselIdx + (dx < 0 ? 1 : -1));
            }
          });

          // autoplay (gentle) with pause on hover/focus; disabled for reduced motion
          let timer = null;
          const start = () => {
            if (prefersReducedMotion) return;
            stop();
            timer = window.setInterval(() => setIdx(state.carouselIdx + 1), 6500);
          };
          const stop = () => {
            if (timer) window.clearInterval(timer);
            timer = null;
          };
          shell.addEventListener("mouseenter", stop);
          shell.addEventListener("mouseleave", start);
          shell.addEventListener("focusin", stop);
          shell.addEventListener("focusout", start);

          setIdx(0);
          start();
        }

        function initParallax() {
          const stage = $("#parallaxStage");
          if (prefersReducedMotion) return;
          const root = document.documentElement;
          let px = 0;
          let py = 0;
          let tx = 0;
          let ty = 0;
          let scroll = 0;

          const apply = () => {
            px += (tx - px) * 0.08;
            py += (ty - py) * 0.08;
            root.style.setProperty("--px", px.toFixed(2) + "px");
            root.style.setProperty("--py", py.toFixed(2) + "px");
            root.style.setProperty("--scroll", scroll.toFixed(2) + "px");
            if (stage) {
              stage.style.setProperty("--px", px.toFixed(2) + "px");
              stage.style.setProperty("--py", py.toFixed(2) + "px");
              stage.style.setProperty("--scroll", scroll.toFixed(2) + "px");
            }
            requestAnimationFrame(apply);
          };

          window.addEventListener(
            "mousemove",
            (e) => {
              const cx = window.innerWidth / 2;
              const cy = window.innerHeight / 2;
              tx = clamp((e.clientX - cx) / 18, -26, 26);
              ty = clamp((e.clientY - cy) / 22, -22, 22);
            },
            { passive: true },
          );

          window.addEventListener(
            "scroll",
            () => {
              scroll = window.scrollY;
            },
            { passive: true },
          );

          apply();
        }

        function initSeasonTooltipFocus() {
          // Make the season cards feel interactive for keyboard users while keeping the button semantics minimal.
          $$(".season-card .mini-btn").forEach((btn) => {
            btn.addEventListener("keydown", (e) => {
              if (e.key === "Escape") btn.blur();
            });
          });
        }

        initZipChecker();
        initPlanControls();
        initCTAButtons();
        initAccordion();
        initContactForm();
        initCarousel();
        initParallax();
        initSeasonTooltipFocus();
      })();
    </script>
  </body>
</html>
