<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Learning Flashcards</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        * {
            font-family: 'Inter', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .card-container {
            perspective: 1000px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .card-front {
            background: linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
        }

        .card-back {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            transform: rotateY(180deg);
            color: white;
        }

        .btn {
            transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        .learned-card {
            opacity: 0.5;
            filter: grayscale(0.5);
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes checkmark {
            0% {
                transform: scale(0) rotate(0deg);
            }
            50% {
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                transform: scale(1) rotate(360deg);
            }
        }

        .animate-slide-in {
            animation: slideInUp 0.5s ease-out;
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        .checkmark-animation {
            animation: checkmark 0.5s ease-out;
        }

        .progress-bar {
            transition: width 0.5s ease-out;
        }

        .language-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .language-option:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card-counter {
            transition: all 0.3s ease;
        }

        .shuffle-animation {
            animation: shuffle 0.5s ease-in-out;
        }

        @keyframes shuffle {
            0%, 100% {
                transform: translateX(0);
            }
            25% {
                transform: translateX(-10px) rotate(-5deg);
            }
            75% {
                transform: translateX(10px) rotate(5deg);
            }
        }
    </style>
</head>
<body>
    <div id="app" class="min-h-screen flex items-center justify-center p-4">
        <!-- Language Selection Screen -->
        <div id="languageSelection" class="animate-fade-in">
            <div class="text-center mb-12">
                <h1 class="text-5xl font-bold text-white mb-4" id="mainTitle">Choose Your Language</h1>
                <p class="text-xl text-white opacity-90" id="subtitle">Master essential travel phrases</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl">
                <div class="language-option bg-white rounded-2xl p-8 text-center shadow-2xl" onclick="selectLanguage('en')">
                    <div class="text-6xl mb-4">ðŸ‡¬ðŸ‡§</div>
                    <h2 class="text-3xl font-bold text-gray-800" id="langEnglish">English</h2>
                    <p class="text-gray-600 mt-2" id="descEnglish">Learn English phrases</p>
                </div>

                <div class="language-option bg-white rounded-2xl p-8 text-center shadow-2xl" onclick="selectLanguage('es')">
                    <div class="text-6xl mb-4">ðŸ‡ªðŸ‡¸</div>
                    <h2 class="text-3xl font-bold text-gray-800" id="langSpanish">Spanish</h2>
                    <p class="text-gray-600 mt-2" id="descSpanish">Learn Spanish phrases</p>
                </div>

                <div class="language-option bg-white rounded-2xl p-8 text-center shadow-2xl" onclick="selectLanguage('fr')">
                    <div class="text-6xl mb-4">ðŸ‡«ðŸ‡·</div>
                    <h2 class="text-3xl font-bold text-gray-800" id="langFrench">French</h2>
                    <p class="text-gray-600 mt-2" id="descFrench">Learn French phrases</p>
                </div>

                <div class="language-option bg-white rounded-2xl p-8 text-center shadow-2xl" onclick="selectLanguage('ja')">
                    <div class="text-6xl mb-4">ðŸ‡¯ðŸ‡µ</div>
                    <h2 class="text-3xl font-bold text-gray-800" id="langJapanese">Japanese</h2>
                    <p class="text-gray-600 mt-2" id="descJapanese">Learn Japanese phrases</p>
                </div>
            </div>
        </div>

        <!-- Flashcard Screen -->
        <div id="flashcardScreen" class="hidden w-full max-w-2xl animate-fade-in">
            <div class="text-center mb-6">
                <button onclick="backToSelection()" class="text-white hover:text-gray-200 transition mb-4 flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    <span id="backBtn">Back to Languages</span>
                </button>

                <h2 class="text-4xl font-bold text-white mb-2" id="learningTitle">Learning English</h2>
                <p class="text-white opacity-90 text-lg" id="tapToFlip">Tap card to flip</p>

                <!-- Progress Bar -->
                <div class="mt-4 bg-white bg-opacity-30 rounded-full h-3 overflow-hidden">
                    <div id="progressBar" class="progress-bar bg-green-400 h-full rounded-full" style="width: 0%"></div>
                </div>

                <div class="mt-3 text-white text-sm">
                    <span id="learnedCount">0</span> / <span id="totalCount">10</span> <span id="learnedText">learned</span>
                </div>
            </div>

            <!-- Card Counter -->
            <div class="text-center mb-4">
                <span class="card-counter inline-block bg-white bg-opacity-20 text-white px-6 py-2 rounded-full text-lg font-semibold">
                    <span id="currentCardNum">1</span> / <span id="totalCards">10</span>
                </span>
            </div>

            <!-- Flashcard -->
            <div class="card-container mb-6 animate-slide-in" onclick="flipCard()">
                <div id="flashcard" class="card">
                    <div class="card-face card-front">
                        <div class="text-center">
                            <p class="text-sm text-gray-500 mb-2 uppercase tracking-wide" id="nativeLabel">English</p>
                            <p id="frontText" class="text-3xl font-bold text-gray-800">Hello</p>
                        </div>
                    </div>
                    <div class="card-face card-back">
                        <div class="text-center">
                            <p class="text-sm text-white opacity-80 mb-2 uppercase tracking-wide" id="targetLabel">Translation</p>
                            <p id="backText" class="text-3xl font-bold">Hello</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="flex gap-4 justify-center mb-4">
                <button onclick="previousCard()" class="btn bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold shadow-lg flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                    <span id="prevBtn">Previous</span>
                </button>

                <button onclick="toggleLearned()" id="learnedBtn" class="btn bg-green-500 text-white px-6 py-3 rounded-xl font-semibold shadow-lg flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span id="markLearnedBtn">Mark as Learned</span>
                </button>

                <button onclick="nextCard()" class="btn bg-white text-purple-600 px-6 py-3 rounded-xl font-semibold shadow-lg flex items-center gap-2">
                    <span id="nextBtn">Next</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>

            <div class="text-center">
                <button onclick="shuffleCards()" class="btn bg-purple-500 text-white px-8 py-3 rounded-xl font-semibold shadow-lg flex items-center gap-2 mx-auto">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    <span id="shuffleBtn">Shuffle Cards</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Language data
        const phrases = {
            en: [
                { front: "Hello", back: "Hello" },
                { front: "Thank you", back: "Thank you" },
                { front: "Please", back: "Please" },
                { front: "Excuse me", back: "Excuse me" },
                { front: "Where is the bathroom?", back: "Where is the bathroom?" },
                { front: "How much does it cost?", back: "How much does it cost?" },
                { front: "I don't understand", back: "I don't understand" },
                { front: "Can you help me?", back: "Can you help me?" },
                { front: "Goodbye", back: "Goodbye" },
                { front: "Yes / No", back: "Yes / No" }
            ],
            es: [
                { front: "Hello", back: "Hola" },
                { front: "Thank you", back: "Gracias" },
                { front: "Please", back: "Por favor" },
                { front: "Excuse me", back: "Disculpe" },
                { front: "Where is the bathroom?", back: "Â¿DÃ³nde estÃ¡ el baÃ±o?" },
                { front: "How much does it cost?", back: "Â¿CuÃ¡nto cuesta?" },
                { front: "I don't understand", back: "No entiendo" },
                { front: "Can you help me?", back: "Â¿Puede ayudarme?" },
                { front: "Goodbye", back: "AdiÃ³s" },
                { front: "Yes / No", back: "SÃ­ / No" }
            ],
            fr: [
                { front: "Hello", back: "Bonjour" },
                { front: "Thank you", back: "Merci" },
                { front: "Please", back: "S'il vous plaÃ®t" },
                { front: "Excuse me", back: "Excusez-moi" },
                { front: "Where is the bathroom?", back: "OÃ¹ sont les toilettes?" },
                { front: "How much does it cost?", back: "Combien Ã§a coÃ»te?" },
                { front: "I don't understand", back: "Je ne comprends pas" },
                { front: "Can you help me?", back: "Pouvez-vous m'aider?" },
                { front: "Goodbye", back: "Au revoir" },
                { front: "Yes / No", back: "Oui / Non" }
            ],
            ja: [
                { front: "Hello", back: "ã“ã‚“ã«ã¡ã¯ (Konnichiwa)" },
                { front: "Thank you", back: "ã‚ã‚ŠãŒã¨ã† (ArigatÅ)" },
                { front: "Please", back: "ãŠé¡˜ã„ã—ã¾ã™ (Onegaishimasu)" },
                { front: "Excuse me", back: "ã™ã¿ã¾ã›ã‚“ (Sumimasen)" },
                { front: "Where is the bathroom?", back: "ãƒˆã‚¤ãƒ¬ã¯ã©ã“ã§ã™ã‹ï¼Ÿ (Toire wa doko desu ka?)" },
                { front: "How much does it cost?", back: "ã„ãã‚‰ã§ã™ã‹ï¼Ÿ (Ikura desu ka?)" },
                { front: "I don't understand", back: "ã‚ã‹ã‚Šã¾ã›ã‚“ (Wakarimasen)" },
                { front: "Can you help me?", back: "åŠ©ã‘ã¦ãã ã•ã„ (Tasukete kudasai)" },
                { front: "Goodbye", back: "ã•ã‚ˆã†ãªã‚‰ (SayÅnara)" },
                { front: "Yes / No", back: "ã¯ã„ / ã„ã„ãˆ (Hai / Iie)" }
            ]
        };

        // Translations for UI elements based on browser locale
        const translations = {
            en: {
                mainTitle: "Choose Your Language",
                subtitle: "Master essential travel phrases",
                langEnglish: "English",
                langSpanish: "Spanish",
                langFrench: "French",
                langJapanese: "Japanese",
                descEnglish: "Learn English phrases",
                descSpanish: "Learn Spanish phrases",
                descFrench: "Learn French phrases",
                descJapanese: "Learn Japanese phrases",
                backBtn: "Back to Languages",
                learningTitle: "Learning",
                tapToFlip: "Tap card to flip",
                learnedText: "learned",
                nativeLabel: "English",
                targetLabel: "Translation",
                prevBtn: "Previous",
                nextBtn: "Next",
                markLearnedBtn: "Mark as Learned",
                markedLearnedBtn: "Learned âœ“",
                shuffleBtn: "Shuffle Cards"
            },
            es: {
                mainTitle: "Elige tu idioma",
                subtitle: "Domina frases esenciales de viaje",
                langEnglish: "InglÃ©s",
                langSpanish: "EspaÃ±ol",
                langFrench: "FrancÃ©s",
                langJapanese: "JaponÃ©s",
                descEnglish: "Aprende frases en inglÃ©s",
                descSpanish: "Aprende frases en espaÃ±ol",
                descFrench: "Aprende frases en francÃ©s",
                descJapanese: "Aprende frases en japonÃ©s",
                backBtn: "Volver a idiomas",
                learningTitle: "Aprendiendo",
                tapToFlip: "Toca la tarjeta para voltear",
                learnedText: "aprendidas",
                nativeLabel: "InglÃ©s",
                targetLabel: "TraducciÃ³n",
                prevBtn: "Anterior",
                nextBtn: "Siguiente",
                markLearnedBtn: "Marcar como aprendida",
                markedLearnedBtn: "Aprendida âœ“",
                shuffleBtn: "Mezclar tarjetas"
            },
            fr: {
                mainTitle: "Choisissez votre langue",
                subtitle: "MaÃ®trisez les phrases essentielles de voyage",
                langEnglish: "Anglais",
                langSpanish: "Espagnol",
                langFrench: "FranÃ§ais",
                langJapanese: "Japonais",
                descEnglish: "Apprendre des phrases en anglais",
                descSpanish: "Apprendre des phrases en espagnol",
                descFrench: "Apprendre des phrases en franÃ§ais",
                descJapanese: "Apprendre des phrases en japonais",
                backBtn: "Retour aux langues",
                learningTitle: "Apprentissage",
                tapToFlip: "Touchez la carte pour la retourner",
                learnedText: "apprises",
                nativeLabel: "Anglais",
                targetLabel: "Traduction",
                prevBtn: "PrÃ©cÃ©dent",
                nextBtn: "Suivant",
                markLearnedBtn: "Marquer comme apprise",
                markedLearnedBtn: "Apprise âœ“",
                shuffleBtn: "MÃ©langer les cartes"
            },
            ja: {
                mainTitle: "è¨€èªžã‚’é¸æŠž",
                subtitle: "æ—…è¡Œã«å¿…é ˆã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ãƒžã‚¹ã‚¿ãƒ¼",
                langEnglish: "è‹±èªž",
                langSpanish: "ã‚¹ãƒšã‚¤ãƒ³èªž",
                langFrench: "ãƒ•ãƒ©ãƒ³ã‚¹èªž",
                langJapanese: "æ—¥æœ¬èªž",
                descEnglish: "è‹±èªžã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å­¦ã¶",
                descSpanish: "ã‚¹ãƒšã‚¤ãƒ³èªžã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å­¦ã¶",
                descFrench: "ãƒ•ãƒ©ãƒ³ã‚¹èªžã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å­¦ã¶",
                descJapanese: "æ—¥æœ¬èªžã®ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å­¦ã¶",
                backBtn: "è¨€èªžé¸æŠžã«æˆ»ã‚‹",
                learningTitle: "å­¦ç¿’ä¸­",
                tapToFlip: "ã‚«ãƒ¼ãƒ‰ã‚’ã‚¿ãƒƒãƒ—ã—ã¦åè»¢",
                learnedText: "å­¦ç¿’æ¸ˆã¿",
                nativeLabel: "è‹±èªž",
                targetLabel: "ç¿»è¨³",
                prevBtn: "å‰ã¸",
                nextBtn: "æ¬¡ã¸",
                markLearnedBtn: "å­¦ç¿’æ¸ˆã¿ã«ã™ã‚‹",
                markedLearnedBtn: "å­¦ç¿’æ¸ˆã¿ âœ“",
                shuffleBtn: "ã‚«ãƒ¼ãƒ‰ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«"
            }
        };

        // State
        let currentLanguage = 'en';
        let currentIndex = 0;
        let cards = [];
        let learnedCards = new Set();
        let uiLanguage = 'en';

        // Detect browser locale
        function detectLocale() {
            const browserLang = navigator.language.split('-')[0];
            if (translations[browserLang]) {
                uiLanguage = browserLang;
            } else {
                uiLanguage = 'en';
            }
            updateUILanguage();
        }

        // Update UI language
        function updateUILanguage() {
            const trans = translations[uiLanguage];
            Object.keys(trans).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = trans[key];
                }
            });
        }

        // Initialize
        function init() {
            detectLocale();
        }

        // Select language
        function selectLanguage(lang) {
            currentLanguage = lang;
            cards = [...phrases[lang]];
            learnedCards = new Set();
            currentIndex = 0;

            document.getElementById('languageSelection').classList.add('hidden');
            document.getElementById('flashcardScreen').classList.remove('hidden');

            const langNames = {
                en: translations[uiLanguage].langEnglish,
                es: translations[uiLanguage].langSpanish,
                fr: translations[uiLanguage].langFrench,
                ja: translations[uiLanguage].langJapanese
            };

            document.getElementById('learningTitle').textContent = translations[uiLanguage].learningTitle + ' ' + langNames[lang];
            document.getElementById('totalCount').textContent = cards.length;
            document.getElementById('totalCards').textContent = cards.length;

            updateCard();
            updateProgress();
        }

        // Back to selection
        function backToSelection() {
            document.getElementById('flashcardScreen').classList.add('hidden');
            document.getElementById('languageSelection').classList.remove('hidden');

            // Reset card flip
            document.getElementById('flashcard').classList.remove('flipped');
        }

        // Update card display
        function updateCard() {
            const card = cards[currentIndex];
            const flashcardElement = document.getElementById('flashcard');

            // Remove flip
            flashcardElement.classList.remove('flipped');

            // Add animation class
            const container = flashcardElement.parentElement;
            container.classList.remove('animate-slide-in');
            void container.offsetWidth; // Trigger reflow
            container.classList.add('animate-slide-in');

            document.getElementById('frontText').textContent = card.front;
            document.getElementById('backText').textContent = card.back;
            document.getElementById('currentCardNum').textContent = currentIndex + 1;

            // Update learned button
            const learnedBtn = document.getElementById('learnedBtn');
            if (learnedCards.has(currentIndex)) {
                learnedBtn.classList.remove('bg-green-500');
                learnedBtn.classList.add('bg-gray-400');
                learnedBtn.querySelector('span').textContent = translations[uiLanguage].markedLearnedBtn;
                container.classList.add('learned-card');
            } else {
                learnedBtn.classList.remove('bg-gray-400');
                learnedBtn.classList.add('bg-green-500');
                learnedBtn.querySelector('span').textContent = translations[uiLanguage].markLearnedBtn;
                container.classList.remove('learned-card');
            }
        }

        // Flip card
        function flipCard() {
            document.getElementById('flashcard').classList.toggle('flipped');
        }

        // Next card
        function nextCard() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
                updateCard();
            } else {
                currentIndex = 0;
                updateCard();
            }
        }

        // Previous card
        function previousCard() {
            if (currentIndex > 0) {
                currentIndex--;
                updateCard();
            } else {
                currentIndex = cards.length - 1;
                updateCard();
            }
        }

        // Toggle learned
        function toggleLearned() {
            const btn = document.getElementById('learnedBtn');
            const checkIcon = btn.querySelector('svg');

            if (learnedCards.has(currentIndex)) {
                learnedCards.delete(currentIndex);
            } else {
                learnedCards.add(currentIndex);

                // Animate checkmark
                checkIcon.classList.add('checkmark-animation');
                setTimeout(() => {
                    checkIcon.classList.remove('checkmark-animation');
                }, 500);
            }

            updateCard();
            updateProgress();
        }

        // Update progress
        function updateProgress() {
            const percentage = (learnedCards.size / cards.length) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('learnedCount').textContent = learnedCards.size;
        }

        // Shuffle cards
        function shuffleCards() {
            const container = document.querySelector('.card-container');
            container.classList.add('shuffle-animation');

            setTimeout(() => {
                // Fisher-Yates shuffle
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }

                // Update learned cards indices
                const learnedPhrases = new Set();
                learnedCards.forEach(index => {
                    learnedPhrases.add(cards[index]);
                });

                learnedCards.clear();
                cards.forEach((card, index) => {
                    if (learnedPhrases.has(card)) {
                        learnedCards.add(index);
                    }
                });

                currentIndex = 0;
                updateCard();

                container.classList.remove('shuffle-animation');
            }, 250);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('flashcardScreen').classList.contains('hidden')) return;

            if (e.key === 'ArrowRight' || e.key === 'n') {
                nextCard();
            } else if (e.key === 'ArrowLeft' || e.key === 'p') {
                previousCard();
            } else if (e.key === ' ' || e.key === 'f') {
                e.preventDefault();
                flipCard();
            } else if (e.key === 'l') {
                toggleLearned();
            } else if (e.key === 's') {
                shuffleCards();
            }
        });

        // Initialize app
        init();
    </script>
</body>
</html>
