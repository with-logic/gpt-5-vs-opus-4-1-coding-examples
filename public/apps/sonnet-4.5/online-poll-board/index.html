<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Poll Board</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #fef3e2 0%, #fae8d4 25%, #e8f4f8 75%, #d4e8f4 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .poll-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .poll-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
            border-color: #fbbf24;
        }

        .option-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 8px 0;
            width: 100%;
            text-align: left;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(251, 191, 36, 0.3);
        }

        .option-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.5);
        }

        .option-btn:active {
            transform: scale(0.98);
        }

        .option-btn.voted {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .vote-bar {
            height: 100%;
            background: rgba(255, 255, 255, 0.3);
            position: absolute;
            left: 0;
            top: 0;
            border-radius: 10px;
            transition: width 1s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 0;
        }

        .option-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .vote-count {
            font-size: 1.2em;
            font-weight: bold;
            animation: popIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes popIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .poll-card {
            animation: slideDown 0.5s ease forwards;
        }

        .poll-card:nth-child(1) { animation-delay: 0.1s; opacity: 0; }
        .poll-card:nth-child(2) { animation-delay: 0.2s; opacity: 0; }
        .poll-card:nth-child(3) { animation-delay: 0.3s; opacity: 0; }
        .poll-card:nth-child(4) { animation-delay: 0.4s; opacity: 0; }
        .poll-card:nth-child(5) { animation-delay: 0.5s; opacity: 0; }

        .header {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 32px;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 32px;
            box-shadow: 0 8px 16px rgba(251, 191, 36, 0.3);
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: 800;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            margin: 8px 0 0 0;
            font-size: 1.1em;
            opacity: 0.95;
        }

        .poll-title {
            font-size: 1.4em;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .total-votes {
            color: #6b7280;
            font-size: 0.95em;
            margin-top: 16px;
            text-align: center;
            font-weight: 500;
        }

        .confetti {
            position: fixed;
            pointer-events: none;
            animation: confettiFall 2s ease-out forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .percentage-badge {
            background: rgba(255, 255, 255, 0.5);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 700;
            margin-left: 8px;
        }

        .winning-option {
            position: relative;
        }

        .winning-option::before {
            content: 'üëë';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5em;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-60%) scale(1.1); }
        }
    </style>
</head>
<body class="p-8">
    <div class="max-w-4xl mx-auto">
        <div class="header">
            <h1>üìä Online Poll Board</h1>
            <p>Cast your vote and see the results in real-time!</p>
        </div>

        <div id="polls-container"></div>
    </div>

    <script>
        // Poll data
        const pollsData = [
            {
                id: 1,
                question: "What's your favorite programming language?",
                options: [
                    { id: 1, text: "JavaScript", votes: 42 },
                    { id: 2, text: "Python", votes: 58 },
                    { id: 3, text: "Java", votes: 23 },
                    { id: 4, text: "C++", votes: 17 }
                ],
                voted: null
            },
            {
                id: 2,
                question: "Best time to be productive?",
                options: [
                    { id: 1, text: "Early Morning", votes: 35 },
                    { id: 2, text: "Afternoon", votes: 28 },
                    { id: 3, text: "Late Night", votes: 52 },
                    { id: 4, text: "I'm always productive! üòÑ", votes: 15 }
                ],
                voted: null
            },
            {
                id: 3,
                question: "Preferred work environment?",
                options: [
                    { id: 1, text: "Office", votes: 22 },
                    { id: 2, text: "Home", votes: 64 },
                    { id: 3, text: "Coffee Shop", votes: 31 },
                    { id: 4, text: "Outdoors", votes: 8 }
                ],
                voted: null
            },
            {
                id: 4,
                question: "Favorite way to learn coding?",
                options: [
                    { id: 1, text: "Online Courses", votes: 45 },
                    { id: 2, text: "Books", votes: 18 },
                    { id: 3, text: "Practice Projects", votes: 67 },
                    { id: 4, text: "Pair Programming", votes: 25 }
                ],
                voted: null
            },
            {
                id: 5,
                question: "Dream vacation destination?",
                options: [
                    { id: 1, text: "Beach Paradise üèñÔ∏è", votes: 48 },
                    { id: 2, text: "Mountain Adventure ‚õ∞Ô∏è", votes: 33 },
                    { id: 3, text: "City Explorer üèôÔ∏è", votes: 41 },
                    { id: 4, text: "Cultural Heritage üèõÔ∏è", votes: 27 }
                ],
                voted: null
            }
        ];

        function createConfetti(x, y) {
            const colors = ['#fbbf24', '#f59e0b', '#10b981', '#3b82f6', '#ef4444', '#8b5cf6'];
            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = x + 'px';
                confetti.style.top = y + 'px';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.animationDelay = (Math.random() * 0.3) + 's';
                confetti.style.transform = `translateX(${(Math.random() - 0.5) * 100}px)`;
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 2000);
            }
        }

        function getTotalVotes(poll) {
            return poll.options.reduce((sum, opt) => sum + opt.votes, 0);
        }

        function getPercentage(votes, total) {
            return total === 0 ? 0 : Math.round((votes / total) * 100);
        }

        function getWinningOptionId(poll) {
            if (poll.voted === null) return null;
            let maxVotes = 0;
            let winningId = null;
            poll.options.forEach(opt => {
                if (opt.votes > maxVotes) {
                    maxVotes = opt.votes;
                    winningId = opt.id;
                }
            });
            return winningId;
        }

        function vote(pollId, optionId, event) {
            const poll = pollsData.find(p => p.id === pollId);
            if (poll.voted !== null) return; // Already voted

            const option = poll.options.find(o => o.id === optionId);
            option.votes++;
            poll.voted = optionId;

            // Create confetti at click position
            createConfetti(event.clientX, event.clientY);

            // Re-render the poll
            renderPoll(poll);
        }

        function renderPoll(poll) {
            const pollElement = document.getElementById(`poll-${poll.id}`);
            const totalVotes = getTotalVotes(poll);
            const winningId = getWinningOptionId(poll);

            const optionsHTML = poll.options.map(option => {
                const percentage = getPercentage(option.votes, totalVotes);
                const isVoted = poll.voted === option.id;
                const isWinning = poll.voted !== null && option.id === winningId && option.votes > 0;

                return `
                    <button
                        class="option-btn ${isVoted ? 'voted' : ''} ${isWinning ? 'winning-option' : ''}"
                        onclick="vote(${poll.id}, ${option.id}, event)"
                        ${poll.voted !== null ? 'disabled' : ''}
                    >
                        ${poll.voted !== null ? `<div class="vote-bar" style="width: ${percentage}%"></div>` : ''}
                        <div class="option-content">
                            <span>${option.text}</span>
                            ${poll.voted !== null ? `
                                <span class="vote-count">
                                    ${option.votes}
                                    <span class="percentage-badge">${percentage}%</span>
                                </span>
                            ` : ''}
                        </div>
                    </button>
                `;
            }).join('');

            pollElement.innerHTML = `
                <div class="poll-title">${poll.question}</div>
                ${optionsHTML}
                ${poll.voted !== null ? `<div class="total-votes">Total votes: ${totalVotes}</div>` : ''}
            `;
        }

        function renderPolls() {
            const container = document.getElementById('polls-container');

            pollsData.forEach(poll => {
                const pollCard = document.createElement('div');
                pollCard.className = 'poll-card';
                pollCard.id = `poll-${poll.id}`;
                container.appendChild(pollCard);
                renderPoll(poll);
            });
        }

        // Initialize
        renderPolls();
    </script>
</body>
</html>