<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holiday Card for Kids</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden;
            background: linear-gradient(180deg, #1a237e 0%, #4a148c 50%, #311b92 100%);
            height: 100vh;
            position: relative;
        }

        .container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 48px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            z-index: 100;
            animation: rainbow 3s infinite;
            font-weight: bold;
        }

        @keyframes rainbow {
            0% { color: #ff6b6b; }
            25% { color: #4ecdc4; }
            50% { color: #ffe66d; }
            75% { color: #a8e6cf; }
            100% { color: #ff6b6b; }
        }

        .toolbar {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 25px;
            border-radius: 50px;
            display: flex;
            gap: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            z-index: 1000;
            flex-wrap: wrap;
            max-width: 90%;
            justify-content: center;
        }

        .tool-item {
            font-size: 40px;
            cursor: grab;
            transition: transform 0.2s;
            user-select: none;
            padding: 5px;
        }

        .tool-item:hover {
            transform: scale(1.2) rotate(5deg);
        }

        .tool-item:active {
            cursor: grabbing;
        }

        .dropped-item {
            position: absolute;
            font-size: 50px;
            cursor: move;
            user-select: none;
            z-index: 10;
            transition: transform 0.1s;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .dropped-item:hover {
            transform: scale(1.1);
        }

        .snowflake {
            position: absolute;
            top: -20px;
            color: white;
            font-size: 20px;
            user-select: none;
            pointer-events: none;
            animation: fall linear infinite;
            z-index: 5;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
            pointer-events: none;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y));
                opacity: 0;
            }
        }

        .message-box {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 30px;
            border-radius: 20px;
            font-size: 24px;
            color: #333;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            z-index: 50;
            max-width: 80%;
        }

        .sound-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 40px;
            cursor: pointer;
            z-index: 1000;
            user-select: none;
            transition: transform 0.2s;
        }

        .sound-toggle:hover {
            transform: scale(1.2);
        }

        .clear-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 18px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .clear-button:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 1);
        }

        .gift-box {
            position: absolute;
            font-size: 60px;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .reindeer {
            position: absolute;
            font-size: 50px;
            animation: fly 8s linear infinite;
        }

        @keyframes fly {
            0% {
                left: -100px;
                transform: translateY(0);
            }
            50% {
                transform: translateY(-30px);
            }
            100% {
                left: 100%;
                transform: translateY(0);
            }
        }

        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: yellow;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            animation: sparkleAnim 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes sparkleAnim {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(2) rotate(180deg);
                opacity: 0;
            }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }

        .instructions {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 18px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 100;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <h1 class="title">üéÑ Happy Holidays! üéÖ</h1>

        <div class="message-box">
            üéÅ Drag and drop items to decorate! Click items for fun sounds! üéâ
        </div>

        <div class="instructions">
            Click items to hear sounds ‚Ä¢ Double-click to remove items
        </div>

        <div class="clear-button" id="clearBtn">üóëÔ∏è Clear All</div>

        <div class="sound-toggle" id="soundToggle">üîä</div>

        <div class="toolbar" id="toolbar">
            <span class="tool-item" draggable="true" data-emoji="üéÖ">üéÖ</span>
            <span class="tool-item" draggable="true" data-emoji="üéÑ">üéÑ</span>
            <span class="tool-item" draggable="true" data-emoji="‚õÑ">‚õÑ</span>
            <span class="tool-item" draggable="true" data-emoji="üéÅ">üéÅ</span>
            <span class="tool-item" draggable="true" data-emoji="‚≠ê">‚≠ê</span>
            <span class="tool-item" draggable="true" data-emoji="ü¶å">ü¶å</span>
            <span class="tool-item" draggable="true" data-emoji="üîî">üîî</span>
            <span class="tool-item" draggable="true" data-emoji="üïØÔ∏è">üïØÔ∏è</span>
            <span class="tool-item" draggable="true" data-emoji="üç™">üç™</span>
            <span class="tool-item" draggable="true" data-emoji="ü•õ">ü•õ</span>
            <span class="tool-item" draggable="true" data-emoji="üß¶">üß¶</span>
            <span class="tool-item" draggable="true" data-emoji="üéÄ">üéÄ</span>
            <span class="tool-item" draggable="true" data-emoji="‚ùÑÔ∏è">‚ùÑÔ∏è</span>
            <span class="tool-item" draggable="true" data-emoji="üåü">üåü</span>
            <span class="tool-item" draggable="true" data-emoji="üé∫">üé∫</span>
            <span class="tool-item" draggable="true" data-emoji="üé™">üé™</span>
            <span class="tool-item" draggable="true" data-emoji="üç≠">üç≠</span>
            <span class="tool-item" draggable="true" data-emoji="üéÇ">üéÇ</span>
            <span class="tool-item" draggable="true" data-emoji="üåà">üåà</span>
            <span class="tool-item" draggable="true" data-emoji="üéà">üéà</span>
        </div>
    </div>

    <script>
        // Audio Context for sound generation
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let soundEnabled = true;

        // Sound mapping for different emojis
        const soundMap = {
            'üéÖ': { freq: 400, type: 'sine', duration: 0.3 },
            'üéÑ': { freq: 300, type: 'sine', duration: 0.4 },
            '‚õÑ': { freq: 500, type: 'sine', duration: 0.3 },
            'üéÅ': { freq: 600, type: 'square', duration: 0.2 },
            '‚≠ê': { freq: 800, type: 'sine', duration: 0.3 },
            'ü¶å': { freq: 350, type: 'triangle', duration: 0.3 },
            'üîî': { freq: 900, type: 'sine', duration: 0.5 },
            'üïØÔ∏è': { freq: 250, type: 'sine', duration: 0.4 },
            'üç™': { freq: 450, type: 'square', duration: 0.2 },
            'ü•õ': { freq: 320, type: 'sine', duration: 0.3 },
            'üß¶': { freq: 380, type: 'triangle', duration: 0.3 },
            'üéÄ': { freq: 700, type: 'sine', duration: 0.3 },
            '‚ùÑÔ∏è': { freq: 1000, type: 'sine', duration: 0.3 },
            'üåü': { freq: 850, type: 'sine', duration: 0.4 },
            'üé∫': { freq: 400, type: 'sawtooth', duration: 0.5 },
            'üé™': { freq: 550, type: 'square', duration: 0.3 },
            'üç≠': { freq: 650, type: 'sine', duration: 0.2 },
            'üéÇ': { freq: 500, type: 'triangle', duration: 0.3 },
            'üåà': { freq: 750, type: 'sine', duration: 0.4 },
            'üéà': { freq: 600, type: 'sine', duration: 0.3 }
        };

        // Play sound function
        function playSound(emoji) {
            if (!soundEnabled) return;

            const sound = soundMap[emoji] || { freq: 440, type: 'sine', duration: 0.3 };

            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.frequency.value = sound.freq;
            oscillator.type = sound.type;

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + sound.duration);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + sound.duration);
        }

        // Play jingle sound
        function playJingle() {
            if (!soundEnabled) return;

            const notes = [523.25, 587.33, 659.25, 698.46, 783.99];
            notes.forEach((freq, index) => {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.frequency.value = freq;
                    oscillator.type = 'sine';

                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.2);
                }, index * 100);
            });
        }

        // Create sparkle effect
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            document.getElementById('container').appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1000);
        }

        // Create firework effect
        function createFirework(x, y) {
            const colors = ['#ff6b6b', '#4ecdc4', '#ffe66d', '#a8e6cf', '#ff99ff'];

            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'firework';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];

                const angle = (Math.PI * 2 * i) / 20;
                const velocity = 50 + Math.random() * 50;
                const xVel = Math.cos(angle) * velocity;
                const yVel = Math.sin(angle) * velocity;

                particle.style.setProperty('--x', xVel + 'px');
                particle.style.setProperty('--y', yVel + 'px');

                document.getElementById('container').appendChild(particle);

                setTimeout(() => particle.remove(), 1000);
            }
        }

        // Create snowflakes
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.textContent = '‚ùÑÔ∏è';
            snowflake.style.left = Math.random() * window.innerWidth + 'px';
            snowflake.style.fontSize = (10 + Math.random() * 20) + 'px';
            snowflake.style.animationDuration = (5 + Math.random() * 10) + 's';
            snowflake.style.opacity = Math.random();

            document.getElementById('container').appendChild(snowflake);

            setTimeout(() => snowflake.remove(), 15000);
        }

        // Create stars
        function createStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * window.innerWidth + 'px';
                star.style.top = Math.random() * (window.innerHeight * 0.6) + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                document.getElementById('container').appendChild(star);
            }
        }

        // Add default items
        function addDefaultItems() {
            const defaultItems = [
                { emoji: 'üéÑ', x: 200, y: 300 },
                { emoji: 'üéÖ', x: 400, y: 250 },
                { emoji: '‚õÑ', x: 600, y: 350 },
                { emoji: 'üéÅ', x: 250, y: 450 },
                { emoji: 'üéÅ', x: 550, y: 450 },
                { emoji: '‚≠ê', x: 220, y: 180 }
            ];

            defaultItems.forEach(item => {
                createDroppedItem(item.emoji, item.x, item.y);
            });
        }

        // Create dropped item
        function createDroppedItem(emoji, x, y) {
            const item = document.createElement('div');
            item.className = 'dropped-item';
            item.textContent = emoji;
            item.style.left = x + 'px';
            item.style.top = y + 'px';

            // Click for sound
            item.addEventListener('click', function(e) {
                e.stopPropagation();
                playSound(emoji);
                createSparkle(x + 25, y + 25);
                item.classList.add('shake');
                setTimeout(() => item.classList.remove('shake'), 500);
            });

            // Double click to remove
            item.addEventListener('dblclick', function(e) {
                e.stopPropagation();
                createFirework(x + 25, y + 25);
                playJingle();
                item.style.animation = 'popIn 0.3s ease-out reverse';
                setTimeout(() => item.remove(), 300);
            });

            // Make draggable
            let isDragging = false;
            let offsetX, offsetY;

            item.addEventListener('mousedown', function(e) {
                if (e.detail === 2) return; // Skip if double click
                isDragging = true;
                offsetX = e.clientX - item.offsetLeft;
                offsetY = e.clientY - item.offsetTop;
                item.style.cursor = 'grabbing';
                item.style.zIndex = 1000;
            });

            document.addEventListener('mousemove', function(e) {
                if (isDragging && item.parentElement) {
                    const newX = e.clientX - offsetX;
                    const newY = e.clientY - offsetY;
                    item.style.left = Math.max(0, Math.min(window.innerWidth - 50, newX)) + 'px';
                    item.style.top = Math.max(0, Math.min(window.innerHeight - 50, newY)) + 'px';
                }
            });

            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    item.style.cursor = 'move';
                    item.style.zIndex = 10;
                }
            });

            document.getElementById('container').appendChild(item);
        }

        // Toolbar drag and drop
        const toolbar = document.getElementById('toolbar');
        const container = document.getElementById('container');

        toolbar.addEventListener('dragstart', function(e) {
            if (e.target.classList.contains('tool-item')) {
                e.dataTransfer.setData('emoji', e.target.dataset.emoji);
            }
        });

        container.addEventListener('dragover', function(e) {
            e.preventDefault();
        });

        container.addEventListener('drop', function(e) {
            e.preventDefault();
            const emoji = e.dataTransfer.getData('emoji');
            if (emoji) {
                createDroppedItem(emoji, e.clientX - 25, e.clientY - 25);
                playSound(emoji);
                createSparkle(e.clientX, e.clientY);
            }
        });

        // Touch support for mobile
        let draggedEmoji = null;

        toolbar.addEventListener('touchstart', function(e) {
            if (e.target.classList.contains('tool-item')) {
                draggedEmoji = e.target.dataset.emoji;
            }
        });

        container.addEventListener('touchmove', function(e) {
            e.preventDefault();
        });

        container.addEventListener('touchend', function(e) {
            if (draggedEmoji) {
                const touch = e.changedTouches[0];
                createDroppedItem(draggedEmoji, touch.clientX - 25, touch.clientY - 25);
                playSound(draggedEmoji);
                createSparkle(touch.clientX, touch.clientY);
                draggedEmoji = null;
            }
        });

        // Sound toggle
        document.getElementById('soundToggle').addEventListener('click', function() {
            soundEnabled = !soundEnabled;
            this.textContent = soundEnabled ? 'üîä' : 'üîá';
        });

        // Clear all button
        document.getElementById('clearBtn').addEventListener('click', function() {
            const items = document.querySelectorAll('.dropped-item');
            items.forEach((item, index) => {
                setTimeout(() => {
                    createFirework(
                        item.offsetLeft + 25,
                        item.offsetTop + 25
                    );
                    item.remove();
                }, index * 50);
            });
            playJingle();
        });

        // Background click for fireworks
        container.addEventListener('click', function(e) {
            if (e.target === container) {
                createFirework(e.clientX, e.clientY);
                playJingle();
            }
        });

        // Create flying reindeer
        function createFlyingReindeer() {
            const reindeer = document.createElement('div');
            reindeer.className = 'reindeer';
            reindeer.textContent = 'ü¶å';
            reindeer.style.top = (100 + Math.random() * 200) + 'px';
            document.getElementById('container').appendChild(reindeer);

            setTimeout(() => reindeer.remove(), 8000);
        }

        // Initialize
        createStars();
        addDefaultItems();

        // Continuous effects
        setInterval(createSnowflake, 300);
        setInterval(createFlyingReindeer, 15000);

        // Create initial reindeer
        setTimeout(createFlyingReindeer, 2000);

        // Welcome jingle
        setTimeout(() => {
            playJingle();
        }, 500);

        // Random sparkles
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.7;
            createSparkle(x, y);
        }, 2000);
    </script>
</body>
</html>