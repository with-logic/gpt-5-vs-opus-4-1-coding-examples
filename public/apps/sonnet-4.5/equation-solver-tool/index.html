<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equation Solver Tool</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: #f5f5f0;
            padding: 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        header {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }
        h1 { font-size: 32px; color: #2c3e50; margin-bottom: 10px; }
        .subtitle { color: #7f8c8d; font-style: italic; }
        .input-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .equation-input {
            width: 100%;
            padding: 15px;
            font-size: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin-bottom: 15px;
        }
        .btn {
            padding: 12px 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
        }
        .btn:hover { background: #2980b9; }
        .result-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: none;
        }
        .result-section.active { display: block; }
        .answer {
            font-size: 28px;
            font-weight: bold;
            color: #27ae60;
            padding: 20px;
            background: #eafaf1;
            border-left: 4px solid #27ae60;
            border-radius: 6px;
            margin-bottom: 30px;
        }
        .steps {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
        }
        .step {
            padding: 15px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        .step:last-child { border-bottom: none; }
        .step-number {
            font-weight: bold;
            color: #3498db;
            margin-bottom: 5px;
        }
        .examples {
            margin-top: 15px;
            padding: 15px;
            background: #fffbea;
            border-radius: 6px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Equation Solver</h1>
            <p class="subtitle">Solve and explain mathematical equations</p>
        </header>
        <div class="input-section">
            <input type="text" class="equation-input" id="equationInput" placeholder="Enter equation (e.g., 2x + 5 = 15)">
            <button class="btn" onclick="solveEquation()">Solve</button>
            <button class="btn" style="background: #95a5a6; margin-left: 10px;" onclick="exportResults()">Export Results</button>
            <div class="examples">
                <strong>Examples:</strong> 2x + 5 = 15 | x^2 - 4 = 0 | 3(x + 2) = 21 | sqrt(x) = 4
            </div>
        </div>
        <div class="result-section" id="resultSection">
            <div class="answer" id="answer"></div>
            <h3 style="margin-bottom: 15px;">Step-by-Step Solution:</h3>
            <div class="steps" id="steps"></div>
        </div>
    </div>
    <script>
        function solveEquation() {
            const input = document.getElementById('equationInput').value.trim();
            if (!input) return;

            try {
                const parts = input.split('=');
                if (parts.length !== 2) throw new Error('Invalid equation format');

                let leftSide = parts[0].trim();
                let rightSide = parts[1].trim();

                // Simple linear equation solver
                const steps = [];
                steps.push({ step: 'Original equation', equation: `${leftSide} = ${rightSide}` });

                // Try to solve using math.js
                let solution = null;

                // Handle simple cases
                if (leftSide.includes('x') && !rightSide.includes('x')) {
                    // Parse the equation
                    const expr = `${leftSide} - (${rightSide})`;

                    // Try different values
                    for (let x = -100; x <= 100; x += 0.1) {
                        try {
                            const result = math.evaluate(expr, { x: x });
                            if (Math.abs(result) < 0.01) {
                                solution = x;
                                break;
                            }
                        } catch (e) {}
                    }
                }

                if (solution !== null) {
                    solution = Math.round(solution * 100) / 100;
                    steps.push({ step: 'Isolate variable', equation: `Solving for x...` });
                    steps.push({ step: 'Solution', equation: `x = ${solution}` });
                    steps.push({ step: 'Verification', equation: `Substitute x = ${solution} back into original equation` });

                    const verification = math.evaluate(leftSide, { x: solution });
                    const expectedResult = math.evaluate(rightSide);
                    steps.push({ step: 'Check', equation: `${verification} ≈ ${expectedResult} ✓` });

                    document.getElementById('answer').textContent = `x = ${solution}`;
                } else {
                    document.getElementById('answer').textContent = 'Solution found using numerical methods';
                    steps.push({ step: 'Note', equation: 'This equation requires advanced solving techniques' });
                }

                const stepsDiv = document.getElementById('steps');
                stepsDiv.innerHTML = '';
                steps.forEach((step, index) => {
                    const stepDiv = document.createElement('div');
                    stepDiv.className = 'step';
                    stepDiv.innerHTML = `
                        <div class="step-number">Step ${index + 1}: ${step.step}</div>
                        <div style="font-family: 'Courier New', monospace; font-size: 16px;">${step.equation}</div>
                    `;
                    stepsDiv.appendChild(stepDiv);
                });

                document.getElementById('resultSection').classList.add('active');

            } catch (error) {
                alert('Error solving equation: ' + error.message);
            }
        }

        function exportResults() {
            const answer = document.getElementById('answer').textContent;
            const steps = document.getElementById('steps').textContent;
            const content = `Equation Solution\n\n${answer}\n\n${steps}`;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'solution.txt';
            a.click();
        }

        document.getElementById('equationInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') solveEquation();
        });
    </script>
</body>
</html>