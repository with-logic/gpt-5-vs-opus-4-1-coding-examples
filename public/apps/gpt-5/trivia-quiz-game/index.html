<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>US Trivia Quiz</title>
  <meta name="description" content="A fast, fun, single‚Äëpage US trivia quiz with animated feedback and a progress bar." />
  <style>
    :root{
      --bg-start:#0f172a; /* slate-900 */
      --bg-end:#111827;   /* gray-900 */
      --card:#0b1220cc;   /* glass */
      --text:#e5e7eb;     /* gray-200 */
      --muted:#a3a3a3;    /* neutral */
      --accent:#7c3aed;   /* violet-600 */
      --accent-2:#06b6d4; /* cyan-500 */
      --good:#22c55e;     /* green-500 */
      --bad:#ef4444;      /* red-500 */
      --ring: #94a3b8;    /* slate-400 */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text); font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1000px 600px at 10% 0%, #0b1220 0%, transparent 70%),
                  radial-gradient(800px 500px at 90% 0%, #111936 0%, transparent 70%),
                  linear-gradient(160deg, var(--bg-start), var(--bg-end));
      background-attachment: fixed;
    }
    .wrap{max-width:960px; margin:80px auto 48px; padding:0 20px}

    /* Top progress bar */
    .progress{position:fixed; top:0; left:0; right:0; height:10px; background:linear-gradient(to right, #0b1220, #0b1220); z-index:50}
    .progress .track{position:absolute; inset:0; background:linear-gradient(90deg, #1f2937, #0b1220); opacity:.35}
    .progress .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow:0 0 10px rgba(124,58,237,.6), 0 0 16px rgba(6,182,212,.4); transition:width .45s cubic-bezier(.22,1,.36,1)}

    /* App title */
    .title{display:flex; align-items:center; gap:12px; margin:0 0 18px}
    .title .logo{width:44px; height:44px; border-radius:12px; background:conic-gradient(from 210deg, var(--accent), var(--accent-2)); filter:saturate(1.2); box-shadow:var(--shadow)}
    .title h1{font-size:28px; letter-spacing:.2px; margin:0}
    .subtitle{color:var(--muted); margin:-6px 0 24px; font-size:14px}

    /* Card */
    .card{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); border-radius:18px; padding:28px; box-shadow:var(--shadow); position:relative; overflow:hidden}
    .count{font-size:14px; color:#cbd5e1; letter-spacing:.4px; text-transform:uppercase}
    .question{font-size:24px; margin:8px 0 20px; font-weight:700; letter-spacing:.2px}

    /* Choices */
    .choices{display:grid; grid-template-columns:1fr; gap:12px}
    @media (min-width:680px){ .choices{grid-template-columns:1fr 1fr} }
    .choice{position:relative; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.03); color:var(--text); padding:16px 18px; border-radius:14px; cursor:pointer; text-align:left; transition:transform .06s ease, border-color .2s ease, background .2s ease; outline:none}
    .choice:hover{transform:translateY(-1px); background:rgba(255,255,255,.05)}
    .choice:focus-visible{box-shadow:0 0 0 3px rgba(148,163,184,.4)}
    .choice[disabled]{opacity:.7; cursor:not-allowed}
    .choice .mark{position:absolute; right:12px; top:50%; translate:0 -50%; opacity:.0; width:22px; height:22px}
    .choice.correct{border-color:rgba(34,197,94,.6); background:linear-gradient(0deg, rgba(34,197,94,.12), rgba(34,197,94,.06))}
    .choice.wrong{border-color:rgba(239,68,68,.6); background:linear-gradient(0deg, rgba(239,68,68,.12), rgba(239,68,68,.06))}
    .choice.revealed .mark{opacity:1; animation:pop .45s cubic-bezier(.16,1,.3,1)}

    /* Feedback overlay icon */
    .feedback{position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none}
    .feedback.hidden{display:none}
    .feedback .icon{width:120px; height:120px; filter:drop-shadow(0 8px 18px rgba(0,0,0,.35)); animation:pop .5s cubic-bezier(.16,1,.3,1)}
    .shake{animation:shake .5s linear}

    /* Fact / explanation */
    .fact{margin:16px 0 8px; padding:14px 14px 14px 44px; border:1px dashed rgba(255,255,255,.16); border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); position:relative; display:none}
    .fact::before{content:"‚ÑπÔ∏è"; position:absolute; left:12px; top:10px; font-size:18px}

    /* Footer actions */
    .actions{display:flex; gap:12px; margin-top:20px; align-items:center}
    .btn{border:1px solid rgba(255,255,255,.14); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); color:var(--text); padding:12px 16px; border-radius:12px; font-weight:600; cursor:pointer; transition:transform .06s ease, background .2s ease, border-color .2s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(90deg, var(--accent), var(--accent-2)); border-color:transparent}
    .btn[disabled]{opacity:.6; cursor:not-allowed}

    /* Result */
    .result{display:none}
    .result .score{font-size:54px; margin:0; font-weight:800}
    .result .summary{color:var(--muted); margin-top:6px}

    /* Confetti */
    #confetti{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:60}
    .conf{position:absolute; width:10px; height:16px; opacity:0; transform:translate3d(0,-20px,0) rotate(0deg)}
    @keyframes fall{ to{ transform:translate3d(var(--x), 110vh, 0) rotate(var(--r)); opacity:1 } }

    /* Keyframes */
    @keyframes pop{0%{transform:scale(.6); opacity:.2} 60%{transform:scale(1.08); opacity:1} 100%{transform:scale(1)} }
    @keyframes shake{10%, 90%{transform:translateX(-2px)} 20%, 80%{transform:translateX(4px)} 30%, 50%, 70%{transform:translateX(-6px)} 40%, 60%{transform:translateX(6px)} }
  </style>
</head>
<body>
  <div class="progress" aria-hidden="true">
    <div class="track"></div>
    <div class="bar" id="progressBar"></div>
  </div>
  <div id="confetti" aria-hidden="true"></div>

  <div class="wrap">
    <div class="title" role="banner">
      <div class="logo" aria-hidden="true"></div>
      <h1>US Trivia Quiz</h1>
    </div>
    <p class="subtitle">10 quick basics every U.S. citizen should know.</p>

    <main class="card" id="card" role="region" aria-live="polite">
      <div class="count" id="count">Question 1 of 10</div>
      <div class="question" id="question">Loading‚Ä¶</div>
      <div class="choices" id="choices" role="list"></div>
      <div class="feedback hidden" id="feedback" aria-hidden="true"></div>
      <div class="fact" id="fact"></div>
      <div class="actions">
        <button class="btn" id="restartBtn" style="display:none">Restart</button>
        <button class="btn primary" id="nextBtn" disabled>Next</button>
      </div>
    </main>

    <section class="card result" id="result" role="region" aria-live="polite">
      <h2 class="score" id="finalScore">0/10</h2>
      <p class="summary" id="finalMsg">Nice run! Want a rematch?</p>
      <div class="actions">
        <button class="btn" id="againBtn">Play Again</button>
        <button class="btn" id="shareBtn">Share Score</button>
      </div>
    </section>
  </div>

  <script>
    // ===== Utility =====
    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){ const j = Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] }
      return a;
    }

    // ===== Data: 10 basic-level US trivia questions =====
    const QUESTIONS = [
      {
        q: "What is the capital of the United States?",
        fact: "The federal government moved from Philadelphia to Washington, D.C. in 1800.",
        options: [
          {t:"Washington, D.C.", c:true},
          {t:"New York City", c:false},
          {t:"Philadelphia", c:false},
          {t:"Boston", c:false}
        ]
      },
      {
        q: "How many stars are on the U.S. flag?",
        fact: "Each star represents one of the 50 states.",
        options: [
          {t:"50", c:true},
          {t:"48", c:false},
          {t:"52", c:false},
          {t:"13", c:false}
        ]
      },
      {
        q: "How many stripes are on the U.S. flag?",
        fact: "Thirteen stripes honor the original 13 colonies.",
        options: [
          {t:"13", c:true},
          {t:"10", c:false},
          {t:"15", c:false},
          {t:"7", c:false}
        ]
      },
      {
        q: "Who was the first President of the United States?",
        fact: "George Washington served from 1789 to 1797.",
        options: [
          {t:"George Washington", c:true},
          {t:"Thomas Jefferson", c:false},
          {t:"Abraham Lincoln", c:false},
          {t:"John Adams", c:false}
        ]
      },
      {
        q: "When is Independence Day in the United States?",
        fact: "The Declaration of Independence was adopted on July 4, 1776.",
        options: [
          {t:"July 4", c:true},
          {t:"June 14", c:false},
          {t:"September 17", c:false},
          {t:"November 11", c:false}
        ]
      },
      {
        q: "What is the supreme law of the land in the U.S.?",
        fact: "The U.S. Constitution establishes the national government and fundamental laws.",
        options: [
          {t:"The Constitution", c:true},
          {t:"The Bill of Rights", c:false},
          {t:"The Declaration of Independence", c:false},
          {t:"The Federalist Papers", c:false}
        ]
      },
      {
        q: "How many branches does the U.S. federal government have?",
        fact: "Legislative, Executive, and Judicial‚Äîthree distinct branches.",
        options: [
          {t:"Three", c:true},
          {t:"Two", c:false},
          {t:"Four", c:false},
          {t:"One", c:false}
        ]
      },
      {
        q: "Which ocean borders the U.S. East Coast?",
        fact: "The Atlantic Ocean borders the eastern United States.",
        options: [
          {t:"Atlantic Ocean", c:true},
          {t:"Pacific Ocean", c:false},
          {t:"Arctic Ocean", c:false},
          {t:"Indian Ocean", c:false}
        ]
      },
      {
        q: "What is the national bird of the United States?",
        fact: "The bald eagle became the national bird in 1782.",
        options: [
          {t:"Bald eagle", c:true},
          {t:"Peregrine falcon", c:false},
          {t:"Wild turkey", c:false},
          {t:"Golden eagle", c:false}
        ]
      },
      {
        q: "What is the basic unit of U.S. currency?",
        fact: "The U.S. dollar (USD) is the official currency.",
        options: [
          {t:"Dollar", c:true},
          {t:"Euro", c:false},
          {t:"Pound", c:false},
          {t:"Yen", c:false}
        ]
      }
    ];

    // ===== State =====
    let order = [];
    let index = 0;
    let score = 0;
    let locked = false;

    const el = (id)=>document.getElementById(id);
    const progressBar = el('progressBar');
    const count = el('count');
    const question = el('question');
    const choices = el('choices');
    const feedback = el('feedback');
    const fact = el('fact');
    const nextBtn = el('nextBtn');
    const restartBtn = el('restartBtn');
    const result = el('result');
    const finalScore = el('finalScore');
    const finalMsg = el('finalMsg');
    const againBtn = el('againBtn');
    const shareBtn = el('shareBtn');

    function init(){
      // Shuffle question order and each question's options
      order = shuffle(QUESTIONS).map(q=>({
        q: q.q,
        fact: q.fact,
        options: shuffle(q.options)
      }));
      index = 0; score = 0; locked = false;
      result.style.display = 'none';
      el('card').style.display = 'block';
      restartBtn.style.display = 'none';
      updateProgress();
      render();
    }

    function updateProgress(){
      const pct = Math.round((index / order.length) * 100);
      progressBar.style.width = pct + '%';
      progressBar.setAttribute('aria-valuemin', '0');
      progressBar.setAttribute('aria-valuemax', '100');
      progressBar.setAttribute('aria-valuenow', pct);
    }

    function iconSVG(type){
      if(type==='good'){
        return `<svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <circle cx="12" cy="12" r="10" fill="rgba(34,197,94,.18)" stroke="var(--good)" stroke-width="2"/>
          <path d="M7 12.5l3 3 7-7" stroke="var(--good)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>`;
      }
      return `<svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <circle cx="12" cy="12" r="10" fill="rgba(239,68,68,.18)" stroke="var(--bad)" stroke-width="2"/>
        <path d="M8 8l8 8M16 8l-8 8" stroke="var(--bad)" stroke-width="2.5" stroke-linecap="round"/>
      </svg>`;
    }

    function render(){
      const item = order[index];
      count.textContent = `Question ${index+1} of ${order.length}`;
      question.textContent = item.q;
      choices.innerHTML = '';
      fact.style.display = 'none';
      feedback.classList.add('hidden');
      nextBtn.disabled = true;
      nextBtn.textContent = (index === order.length - 1) ? 'See Results' : 'Next';
      restartBtn.style.display = index>0 ? 'inline-flex' : 'none';
      locked = false;

      item.options.forEach((opt, i)=>{
        const btn = document.createElement('button');
        btn.className = 'choice';
        btn.setAttribute('role','listitem');
        btn.setAttribute('data-correct', String(!!opt.c));
        btn.innerHTML = `<span>${opt.t}</span>` +
          `<svg class="mark" viewBox="0 0 24 24" aria-hidden="true">`+
          `<path d="M20 6L9 17l-5-5" stroke="rgba(34,197,94,1)" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
        btn.addEventListener('click', ()=>select(btn));
        choices.appendChild(btn);
      });
    }

    function select(btn){
      if(locked) return; locked = true;
      const correct = btn.getAttribute('data-correct') === 'true';
      const btns = Array.from(choices.querySelectorAll('.choice'));
      btns.forEach(b=>b.disabled = true);

      // Reveal states
      btns.forEach(b=>{
        const isCorrect = b.getAttribute('data-correct')==='true';
        if(isCorrect){ b.classList.add('correct','revealed'); }
      });

      if(correct){
        score++;
        btn.classList.add('correct','revealed');
        showFeedback(true);
      } else {
        btn.classList.add('wrong','shake');
        showFeedback(false);
      }

      // Fact
      const item = order[index];
      if(item.fact){ fact.textContent = item.fact; fact.style.display = 'block'; }

      nextBtn.disabled = false;
      updateProgress();
    }

    function showFeedback(isGood){
      feedback.innerHTML = iconSVG(isGood ? 'good' : 'bad');
      feedback.classList.remove('hidden');
      // small haptic-like bounce on the whole card
      const card = document.getElementById('card');
      card.animate([
        { transform:'translateY(0)' },
        { transform:'translateY(-3px)' },
        { transform:'translateY(0)' }
      ], { duration: 220, easing:'cubic-bezier(.22,1,.36,1)' });
    }

    function next(){
      if(index < order.length-1){
        index++; updateProgress(); render();
      } else {
        finish();
      }
    }

    function finish(){
      el('card').style.display = 'none';
      result.style.display = 'block';
      finalScore.textContent = `${score}/${order.length}`;
      const pct = Math.round((score/order.length)*100);
      let msg = 'Nice run! Want a rematch?';
      if(pct===100) msg = 'Perfect! You aced it. üéØ';
      else if(pct>=80) msg = 'Great job! You know your basics.';
      else if(pct>=60) msg = 'Good effort‚Äîone more go?';
      else msg = 'Let\'s practice‚Äîtry again!';
      finalMsg.textContent = msg;
      fireConfetti();
    }

    function fireConfetti(){
      const c = document.getElementById('confetti');
      c.innerHTML = '';
      const colors = ['#22c55e','#a78bfa','#06b6d4','#f59e0b','#ef4444','#60a5fa','#eab308'];
      const n = 120;
      for(let i=0;i<n;i++){
        const s = document.createElement('span');
        s.className='conf';
        const left = Math.random()*100; // vw
        const xDrift = (Math.random()*60 - 30) + 'vw';
        const rot = (Math.random()*720 - 360) + 'deg';
        const d = (2 + Math.random()*1.8).toFixed(2) + 's';
        const delay = (Math.random()*0.25).toFixed(2) + 's';
        s.style.left = left+'vw';
        s.style.top = (-10 + Math.random()*-30)+'px';
        s.style.background = colors[i % colors.length];
        s.style.borderRadius = Math.random()>.5? '2px' : '50%';
        s.style.setProperty('--x', xDrift);
        s.style.setProperty('--r', rot);
        s.style.animation = `fall ${d} linear ${delay} forwards`;
        c.appendChild(s);
      }
      setTimeout(()=>{ c.innerHTML=''; }, 3600);
    }

    // Buttons
    nextBtn.addEventListener('click', next);
    restartBtn.addEventListener('click', init);
    againBtn.addEventListener('click', init);

    // Share score
    shareBtn.addEventListener('click', async ()=>{
      const text = `I scored ${finalScore.textContent} on this quick U.S. Trivia Quiz!`;
      if(navigator.share){
        try{ await navigator.share({ title:'US Trivia Quiz', text }); }catch(e){}
      } else if(navigator.clipboard){
        try{ await navigator.clipboard.writeText(text); shareBtn.textContent='Copied!'; setTimeout(()=>shareBtn.textContent='Share Score', 1600);}catch(e){}
      }
    });

    // Keyboard shortcuts: 1-4 to answer, Enter to next
    window.addEventListener('keydown', (e)=>{
      const key = e.key;
      if(['1','2','3','4'].includes(key)){
        const idx = Number(key)-1;
        const btn = choices.querySelectorAll('.choice')[idx];
        if(btn){ btn.click(); }
      } else if(key==='Enter'){
        if(result.style.display==='block') init(); else if(!nextBtn.disabled) nextBtn.click();
      }
    });

    // Init
    init();
  </script>
</body>
</html>
