<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0ea5e9" />
  <title>Micro Habit Tracker</title>
  <meta name="description" content="Track up to 7 daily habits with streaks, skip days, and simple charts. Fully offline, single-file app." />
  <style>
    :root{
      --bg: #0b1020;          /* dark gradient base */
      --bg-elev: #12162a;
      --bg-elev-2:#181d35;
      --text: #e8edf7;
      --muted:#a9b1c6;
      --line:#2a3153;
      --good:#10b981;
      --warn:#f59e0b;
      --bad:#ef4444;
      --accent:#0ea5e9;       /* sky */
      --accent-2:#7c3aed;     /* violet */
      --shadow: 0 10px 30px rgba(2,6,23,.35);
    }
    [data-theme="light"]{
      --bg: #f6f8ff;
      --bg-elev: #ffffff;
      --bg-elev-2:#f1f4ff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --shadow: 0 10px 30px rgba(2,6,23,.08);
    }
    html,body{height:100%;}
    body{
      margin:0; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text); background: radial-gradient(1200px 600px at 20% -10%, rgba(14,165,233,.25), transparent 60%),
                        radial-gradient(1000px 500px at 120% 10%, rgba(124,58,237,.22), transparent 60%), var(--bg);
    }
    .wrap{max-width:1000px; margin:0 auto; padding: clamp(16px, 2vw, 24px);}    

    /* Header */
    .hero{
      position:relative; border-radius:18px; padding:22px clamp(16px,2vw,28px);
      background: linear-gradient(135deg, rgba(14,165,233,.18), rgba(124,58,237,.18)),
                  linear-gradient(180deg, var(--bg-elev), var(--bg-elev));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .hero::after{
      content:''; position:absolute; inset:-2px; border-radius:20px;
      padding:1px; background:linear-gradient(120deg, rgba(14,165,233,.6), rgba(124,58,237,.6));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
    }
    .title{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .title h1{font-size: clamp(20px, 2.4vw, 28px); margin:0; letter-spacing:.2px}
    .subtitle{margin:6px 0 0 0; color:var(--muted); font-size:13px}

    /* Controls */
    .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
    .grow{flex:1}
    .btn{appearance:none; border:1px solid var(--line); background:var(--bg-elev-2); color:var(--text);
         border-radius:10px; padding:10px 12px; font-weight:600; font-size:13px; cursor:pointer;
         display:inline-flex; gap:8px; align-items:center; transition:.2s ease background, .2s ease border-color, .2s ease transform}
    .btn:hover{border-color:#5b6aa9; transform: translateY(-1px)}
    .btn.primary{background:linear-gradient(180deg, rgba(14,165,233,.22), rgba(14,165,233,.1)); border-color:rgba(14,165,233,.4)}
    .btn.alt{background:linear-gradient(180deg, rgba(124,58,237,.22), rgba(124,58,237,.1)); border-color:rgba(124,58,237,.4)}
    .btn.danger{background:linear-gradient(180deg, rgba(239,68,68,.18), rgba(239,68,68,.08)); border-color:rgba(239,68,68,.35)}
    .btn:disabled{opacity:.5; cursor:not-allowed; transform:none}

    /* Card */
    .card{margin-top:16px; border-radius:16px; background:var(--bg-elev); border:1px solid var(--line); box-shadow:var(--shadow)}
    .card-h{display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid var(--line)}
    .card-h h3{margin:0; font-size:14px; letter-spacing:.3px; text-transform:uppercase; color:var(--muted)}
    .card-b{padding:12px 10px}

    /* Grid headers for days */
    .days{display:grid; grid-auto-flow:column; grid-auto-columns:1fr; gap:6px; margin:8px 0}
    .day-h{font-size:11px; color:var(--muted); text-align:center}

    /* Habit list */
    .habits{display:flex; flex-direction:column; gap:8px}
    .habit{display:grid; align-items:center; gap:10px; padding:10px; border-radius:12px; border:1px solid var(--line); background:var(--bg-elev-2)}
    .habit{grid-template-columns: minmax(140px, 1.1fr) 74px minmax(220px, 1.6fr) minmax(120px, .9fr) 40px}

    .habit .name{display:flex; align-items:center; gap:10px; min-width:0}
    .dot{width:12px; height:12px; border-radius:50%}
    .name-title{font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .name.editing input{width:100%; padding:8px 10px; border-radius:8px; border:1px solid var(--line); background:var(--bg-elev); color:var(--text)}

    .streak{font-weight:800; font-variant-numeric:tabular-nums; display:flex; gap:6px; align-items:center; justify-content:center; font-size:13px; color:#fbbf24}

    .cells{display:grid; grid-template-columns: repeat(7, 1fr); gap:6px}
    .cell{position:relative; height:32px; border-radius:9px; border:1px dashed var(--line); display:grid; place-items:center; color:var(--muted); cursor:pointer; transition:.15s ease transform, .15s ease background, .15s ease border-color}
    .cell:hover{transform:translateY(-1px); border-color:#5b6aa9}
    .cell.done{border-style:solid; color:#fff}
    .cell .mark{font-size:16px}
    .cell .small{font-size:10px; position:absolute; bottom:3px; right:5px; opacity:.7}
    .cell.skipped{background: repeating-linear-gradient(45deg, rgba(148,163,184,.14) 0 6px, rgba(148,163,184,.22) 6px 12px)}
    .cell.disabled{opacity:.55; cursor:not-allowed}

    .spark{height:36px; display:flex; align-items:center}
    .spark svg{width:100%; height:28px}
    .actions{display:flex; justify-content:center}
    .icon-btn{border:none; background:transparent; color:var(--muted); cursor:pointer; padding:6px; border-radius:10px}
    .icon-btn:hover{background:rgba(148,163,184,.14); color:var(--text)}

    /* Add form */
    .adder{display:flex; gap:10px; flex-wrap:wrap}
    .adder input{flex:1; min-width:180px; padding:10px 12px; border-radius:10px; border:1px solid var(--line); background:var(--bg-elev-2); color:var(--text)}

    /* Summary ring */
    .summary{display:flex; gap:14px; align-items:center; flex-wrap:wrap}
    .ring{position:relative; width:74px; height:74px}
    .ring svg{width:74px; height:74px; transform:rotate(-90deg)}
    .ring .pct{position:absolute; inset:0; display:grid; place-items:center; font-weight:900; font-size:14px}
    .pill{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:20px; background:rgba(14,165,233,.16); border:1px solid rgba(14,165,233,.35); font-weight:700; font-size:12px}

    /* Toast */
    .toast{position:fixed; left:50%; bottom:18px; transform:translateX(-50%) translateY(20px); background:var(--bg-elev); border:1px solid var(--line); color:var(--text); padding:10px 12px; border-radius:10px; opacity:0; transition:.25s ease; box-shadow:var(--shadow); font-weight:700; font-size:13px; z-index:40}
    .toast.show{opacity:1; transform:translateX(-50%) translateY(0)}

    /* Responsive */
    @media (max-width: 860px){
      .habit{grid-template-columns: 1.2fr 70px 1fr; grid-template-rows: auto auto;}
      .habit .spark{grid-column: 1 / -1; order: 4}
      .habit .actions{grid-column: 3; grid-row: 1}
    }
    @media (max-width: 560px){
      .days{gap:4px}
      .cells{gap:4px}
      .cell{height:28px; border-radius:8px}
      .ring{width:66px;height:66px}
      .ring svg{width:66px;height:66px}
    }

    /* Accent palettes per habit (up to 7) */
    .accent-0{--acc:#0ea5e9}
    .accent-1{--acc:#10b981}
    .accent-2{--acc:#f59e0b}
    .accent-3{--acc:#ef4444}
    .accent-4{--acc:#8b5cf6}
    .accent-5{--acc:#06b6d4}
    .accent-6{--acc:#e11d48}
    .habit .dot{background:var(--acc)}
    .cell.done{background:color-mix(in oklab, var(--acc) 90%, black 0%); border-color:color-mix(in oklab, var(--acc) 70%, black 0%)}
    .cell .mark{opacity:.95}
  </style>
</head>
<body>
  <div class="wrap">
    <section class="hero">
      <div class="row" style="justify-content:space-between; align-items:flex-start; gap:14px">
        <div class="grow">
          <div class="title">
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M5 3v3m14-3v3M3 18.5V9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v9.5a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 3 18.5Z" stroke="currentColor" stroke-width="1.5"/>
              <path d="M7 12h2m3 0h2m3 0h2M7 16h2m3 0h2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <h1>Micro Habit Tracker</h1>
            <span id="themeToggle" class="btn" title="Toggle theme" style="padding:8px 10px; margin-left:4px">
              <span id="themeIcon">üåô</span>
            </span>
          </div>
          <p class="subtitle">Tiny steps compound. Check in daily, keep the streak alive.</p>
        </div>
        <div class="summary" id="summary">
          <!-- Filled by JS -->
        </div>
      </div>

      <div class="row" style="margin-top:12px; gap:8px; justify-content:space-between; flex-wrap:wrap">
        <div class="row" style="gap:8px">
          <button class="btn primary" id="skipBtn">Skip Today</button>
          <button class="btn" id="exportBtn">Export JSON</button>
          <label class="btn alt" for="importFile" style="cursor:pointer">Import JSON<input type="file" id="importFile" accept="application/json" hidden></label>
        </div>
        <div class="adder" style="min-width:260px">
          <input id="newHabit" maxlength="40" placeholder="Add a habit (max 7 total)" />
          <button class="btn primary" id="addBtn">Add</button>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="card-h">
        <h3>Last 7 Days</h3>
        <div class="days" id="dayHeaders"><!-- headers injected --></div>
      </div>
      <div class="card-b">
        <div class="habits" id="habits"></div>
        <div id="emptyState" style="display:none; padding:16px; color:var(--muted); text-align:center">Start by adding a habit above.</div>
      </div>
    </section>
  </div>

  <div class="toast" id="toast">Saved</div>

  <script>
  ;(()=>{
    const $ = sel => document.querySelector(sel);
    const $$ = sel => Array.from(document.querySelectorAll(sel));

    // Utilities
    const todayLocal = ()=>{ const n=new Date(); return new Date(n.getFullYear(), n.getMonth(), n.getDate()); };
    const ymd = (d)=>{ const t=new Date(d.getFullYear(), d.getMonth(), d.getDate()); const m=String(t.getMonth()+1).padStart(2,'0'); const day=String(t.getDate()).padStart(2,'0'); return `${t.getFullYear()}-${m}-${day}`; };
    const addDays = (d, n)=>{ const t=new Date(d); t.setDate(t.getDate()+n); return t; };
    const lastNDates = (n)=>{ const t=todayLocal(); return Array.from({length:n}, (_,i)=> ymd(addDays(t, i-(n-1)))); };

    const COLORS = ["#0ea5e9","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#e11d48"];

    const defaultData = ()=>{
      const base = todayLocal();
      const habits = [
        {id: id(), name: 'Hydrate (8 cups)', color: COLORS[0]},
        {id: id(), name: 'Move 20 minutes', color: COLORS[1]},
        {id: id(), name: 'Read 10 pages', color: COLORS[4]},
      ];
      const days = {};
      // Seed 6 previous days with some checks, including one skipped day
      for(let i=6;i>=0;i--){
        const d = addDays(base, -i);
        const k = ymd(d);
        days[k] = { skip: i===3 ? true : false, checks: {} };
        if(i>0){
          days[k].checks[habits[0].id] = (i%2===0);
          days[k].checks[habits[1].id] = (i%3!==0);
          days[k].checks[habits[2].id] = (i!==6 && i!==2);
        } else { // today start mostly empty
          days[k].checks = {};
        }
      }
      return { version:1, habits, days, settings:{ theme: window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches? 'light':'dark' } };
    };

    function id(){ return Math.random().toString(36).slice(2,9); }

    const Store = {
      key: 'micro-habit-tracker:v1',
      load(){
        try{
          const raw = localStorage.getItem(this.key);
          if(!raw){ const seed = defaultData(); localStorage.setItem(this.key, JSON.stringify(seed)); return seed; }
          const parsed = JSON.parse(raw);
          // Defensive defaults
          parsed.version ??= 1; parsed.days ??= {}; parsed.habits ??= []; parsed.settings ??= {theme:'dark'};
          return parsed;
        }catch(e){ console.warn('Load failed, seeding defaults', e); const seed = defaultData(); localStorage.setItem(this.key, JSON.stringify(seed)); return seed; }
      },
      save(data){ localStorage.setItem(this.key, JSON.stringify(data)); showToast('Saved'); },
      export(){ const blob = new Blob([localStorage.getItem(this.key)||'{}'], {type:'application/json'}); const a=document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = `micro-habit-tracker_${Date.now()}.json`; a.click(); setTimeout(()=>URL.revokeObjectURL(a.href), 2000); },
      async import(file){ const text = await file.text(); const parsed = JSON.parse(text); if(!parsed || !parsed.habits || !parsed.days) throw new Error('Invalid file'); localStorage.setItem(this.key, text); return parsed; }
    };

    let state = Store.load();

    // Theme
    function applyTheme(){ document.documentElement.setAttribute('data-theme', state.settings?.theme==='light'?'light':'dark'); $('#themeIcon').textContent = state.settings?.theme==='light' ? 'üåû' : 'üåô'; }
    $('#themeToggle').addEventListener('click', ()=>{ state.settings.theme = (state.settings.theme==='light'?'dark':'light'); applyTheme(); Store.save(state); });

    // DOM Builders
    function renderDayHeaders(){
      const days7 = lastNDates(7);
      const frag = document.createDocumentFragment();
      days7.forEach(k=>{
        const d = new Date(k);
        const el = document.createElement('div'); el.className='day-h';
        const wd = d.toLocaleDateString(undefined,{weekday:'short'}).slice(0,2);
        const dn = d.getDate();
        el.textContent = `${wd} ${dn}`;
        frag.appendChild(el);
      });
      const host = $('#dayHeaders'); host.innerHTML=''; host.appendChild(frag);
    }

    function streakFor(habitId){
      let s=0; const maxBack=365; let day = todayLocal();
      for(let i=0;i<maxBack;i++){
        const key = ymd(day);
        const dayObj = state.days[key];
        if(dayObj?.skip){ day = addDays(day,-1); continue; }
        const hit = !!(dayObj && dayObj.checks && dayObj.checks[habitId]);
        if(hit){ s++; day = addDays(day,-1); }
        else break;
      }
      return s;
    }

    function todayProgress(){
      const key = ymd(todayLocal());
      const dayObj = state.days[key] || {checks:{}};
      const total = state.habits.length || 1;
      const done = Object.values(dayObj.checks || {}).filter(Boolean).length;
      const skipped = !!dayObj.skip;
      const pct = skipped ? 100 : Math.round((done/total)*100);
      return { total, done, skipped, pct };
    }

    function renderSummary(){
      const {pct, total, done, skipped} = todayProgress();
      const R=32, C=2*Math.PI*R; const stroke = 8; const dash = (pct/100)*C;
      const wrap = $('#summary');
      wrap.innerHTML = `
        <div class="ring" title="Today's completion">
          <svg viewBox="0 0 80 80" aria-hidden="true">
            <circle cx="40" cy="40" r="${R}" stroke="rgba(148,163,184,.25)" stroke-width="${stroke}" fill="none"/>
            <circle cx="40" cy="40" r="${R}" stroke="${skipped? '#a3a3a3':'var(--accent)'}" stroke-linecap="round" stroke-width="${stroke}"
              stroke-dasharray="${dash} ${C-dash}" fill="none"/>
          </svg>
          <div class="pct">${skipped? '‚è≠Ô∏è' : pct+'%'}<div style="font-size:10px; font-weight:700; color:var(--muted)">${skipped?'skipped':'today'}</div></div>
        </div>
        <div>
          <div class="pill">${done}/${total} done today</div>
          <div class="subtitle" style="margin-top:6px">${new Date().toLocaleDateString(undefined,{weekday:'long', month:'short', day:'numeric'})}</div>
        </div>`;
    }

    function renderSparkline(habitId){
      const days = 14; const keys = Array.from({length:days}, (_,i)=> ymd(addDays(todayLocal(), i-(days-1))));
      const w = keys.length * 6; // 4px bar + 2px gap
      // Bars: 1 for done, 0 for miss, 0.5 for skip
      let bars = keys.map(k=>{
        const d = state.days[k];
        const v = d?.skip ? 0.5 : (d?.checks?.[habitId] ? 1 : 0);
        return v;
      });
      // Build SVG rects
      let x=0; const rects = bars.map(v=>{
        const h = v===0.5 ? 10 : (v? 22 : 6);
        const y = 24-h; const cls = v===0.5 ? 'fill="#94a3b8" opacity=".7"' : (v? 'style="fill: var(--acc)"' : 'fill="#475569" opacity=".55"');
        const shape = v===0.5
          ? `<rect x="${x}" y="${y}" width="4" height="${h}" fill="url(#diag)" stroke="#94a3b8" stroke-width=".6" opacity=".8"/>`
          : `<rect x="${x}" y="${y}" width="4" height="${h}" ${cls}/>`;
        x+=6; return shape;
      }).join('');
      return `<svg viewBox="0 0 ${w} 24" preserveAspectRatio="none">${svgDefs()}${rects}</svg>`;
    }

    function svgDefs(){
      return `<defs>
        <pattern id="diag" patternUnits="userSpaceOnUse" width="6" height="6" patternTransform="rotate(45)">
          <line x1="0" y1="0" x2="0" y2="6" stroke="#94a3b8" stroke-width="2" />
        </pattern>
      </defs>`;
    }

    function renderHabits(){
      const host = $('#habits'); host.innerHTML='';
      if(!state.habits.length){ $('#emptyState').style.display='block'; return; } else { $('#emptyState').style.display='none'; }
      const days7 = lastNDates(7);
      const todayKey = ymd(todayLocal());
      const todaySkipped = !!(state.days[todayKey]?.skip);
      state.habits.forEach((h, idx)=>{
        const row = document.createElement('div'); row.className = `habit accent-${idx%7}`; row.dataset.id = h.id;
        // Name / edit
        const name = document.createElement('div'); name.className='name';
        const dot = document.createElement('div'); dot.className='dot'; name.appendChild(dot);
        const title = document.createElement('div'); title.className='name-title'; title.textContent = h.name; name.appendChild(title);
        name.addEventListener('dblclick', ()=>startEdit(row, h));

        // Streak
        const streak = document.createElement('div'); streak.className='streak'; streak.innerHTML = `üî• <span>${streakFor(h.id)}</span>`;

        // Cells
        const cells = document.createElement('div'); cells.className='cells';
        days7.forEach(k=>{
          const d = state.days[k] || {checks:{}, skip:false};
          const el = document.createElement('div'); el.className='cell'; el.dataset.date=k;
          const isDone = !!d.checks[h.id];
          if(isDone) el.classList.add('done');
          if(d.skip) el.classList.add('skipped');
          if(d.skip) el.classList.add('disabled');
          el.innerHTML = `<span class="mark">${isDone? '‚úì' : ''}</span><span class="small">${new Date(k).getDate()}</span>`;
          el.title = d.skip? 'Skipped day' : (isDone? 'Done' : 'Tap to check');
          el.addEventListener('click', ()=>{
            if(d.skip) return;
            toggleCheck(h.id, k);
          });
          cells.appendChild(el);
        });

        // Sparkline
        const spark = document.createElement('div'); spark.className='spark'; spark.innerHTML = renderSparkline(h.id);

        // Actions
        const actions = document.createElement('div'); actions.className='actions';
        const edit = document.createElement('button'); edit.className='icon-btn'; edit.title='Rename'; edit.innerHTML='‚úèÔ∏è';
        edit.addEventListener('click', ()=>startEdit(row, h));
        const del = document.createElement('button'); del.className='icon-btn'; del.title='Delete'; del.innerHTML='üóëÔ∏è';
        del.addEventListener('click', ()=>deleteHabit(h.id));
        actions.append(edit, del);

        row.append(name, streak, cells, spark, actions);
        host.appendChild(row);
      });
    }

    function startEdit(row, habit){
      const name = row.querySelector('.name'); name.classList.add('editing');
      name.innerHTML = `<div class="dot"></div><input value="${habit.name}" maxlength="40" aria-label="Edit habit"/>`;
      const input = name.querySelector('input'); input.focus(); input.select();
      const finish = ()=>{ const v = input.value.trim() || habit.name; habit.name = v; Store.save(state); render(); };
      input.addEventListener('keydown', e=>{ if(e.key==='Enter') finish(); if(e.key==='Escape'){ render(); }});
      input.addEventListener('blur', finish);
    }

    function deleteHabit(idv){
      if(!confirm('Delete this habit? This cannot be undone.')) return;
      state.habits = state.habits.filter(h=>h.id!==idv);
      // Remove checks referencing this habit
      for(const k in state.days){ if(state.days[k]?.checks){ delete state.days[k].checks[idv]; }}
      Store.save(state); render();
    }

    function toggleCheck(habitId, key){
      state.days[key] ||= {skip:false, checks:{}};
      const checks = state.days[key].checks;
      checks[habitId] = !checks[habitId];
      if(checks[habitId]===false) delete checks[habitId];
      Store.save(state); render();
    }

    // Skip today toggle
    function toggleSkipToday(){
      const k = ymd(todayLocal());
      state.days[k] ||= {skip:false, checks:{}};
      const day = state.days[k]; day.skip = !day.skip;
      if(day.skip){ showToast('Today marked as skipped'); } else { showToast('Skip removed for today'); }
      Store.save(state); render();
    }

    // Add habit
    function addHabit(){
      const inp = $('#newHabit'); const name = inp.value.trim();
      if(!name) return;
      if(state.habits.length>=7){ showToast('Limit: 7 habits'); return; }
      const color = COLORS[state.habits.length % COLORS.length];
      state.habits.push({id:id(), name, color});
      inp.value=''; Store.save(state); render();
    }

    // Render loop
    function render(){
      applyTheme();
      renderDayHeaders();
      renderSummary();
      renderHabits();
      // Update skip button state
      const todayKey = ymd(todayLocal()); const isSkipped = !!(state.days[todayKey]?.skip);
      $('#skipBtn').textContent = isSkipped ? 'Unskip Today' : 'Skip Today';
      // Disable add button when max
      $('#addBtn').disabled = state.habits.length>=7;
    }

    // Toast
    let toastTimer=null; function showToast(msg){ const t=$('#toast'); t.textContent=msg; t.classList.add('show'); clearTimeout(toastTimer); toastTimer=setTimeout(()=>t.classList.remove('show'), 1400); }

    // Wire up controls
    $('#addBtn').addEventListener('click', addHabit);
    $('#newHabit').addEventListener('keydown', e=>{ if(e.key==='Enter') addHabit(); });
    $('#skipBtn').addEventListener('click', toggleSkipToday);
    $('#exportBtn').addEventListener('click', ()=>Store.export());
    $('#importFile').addEventListener('change', async (e)=>{
      const f=e.target.files?.[0]; if(!f) return; try{ const imported = await Store.import(f); state = imported; showToast('Imported'); render(); } catch(err){ alert('Import failed: '+err.message); } finally { e.target.value=''; }
    });

    // Kickoff
    render();
  })();
  </script>
</body>
</html>
