<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Artisan CSA — Hand-Drawn Farm Landing</title>
  <style>
    :root {
      --paper: #f4ecdd;
      --paper-deep: #efe3cf;
      --ink: #2c2a28;
      --ink-soft: #514c45;
      --leaf: #7a8e5d;
      --leaf-deep: #5f7545;
      --carrot: #c9754f;
      --wheat: #b59a65;
      --berry: #9a6f6a;
      --line: #4f4942;
      --card: rgba(255, 252, 245, 0.78);
      --shadow: 0 10px 28px rgba(57, 47, 33, 0.15);
      --radius: 16px;
      --radius-lg: 24px;
      --max: 1120px;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      font-family: "Georgia", "Times New Roman", serif;
      color: var(--ink);
      background: var(--paper);
      line-height: 1.5;
      scroll-behavior: smooth;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -2;
    }

    body::before {
      background:
        radial-gradient(circle at 20% 30%, rgba(180, 152, 97, 0.08), transparent 44%),
        radial-gradient(circle at 76% 16%, rgba(122, 142, 93, 0.1), transparent 40%),
        radial-gradient(circle at 16% 78%, rgba(201, 117, 79, 0.07), transparent 39%),
        radial-gradient(circle at 80% 80%, rgba(154, 111, 106, 0.08), transparent 48%),
        linear-gradient(160deg, var(--paper), var(--paper-deep));
    }

    body::after {
      background-image:
        radial-gradient(rgba(56, 47, 35, 0.035) 0.7px, transparent 0.7px),
        radial-gradient(rgba(56, 47, 35, 0.02) 0.8px, transparent 0.8px);
      background-size: 6px 6px, 9px 9px;
      background-position: 0 0, 2px 3px;
      mix-blend-mode: multiply;
      opacity: 0.6;
      z-index: -1;
    }

    a { color: inherit; }

    .wrap {
      width: min(var(--max), calc(100% - 2rem));
      margin: 0 auto;
    }

    .section {
      padding: 4.2rem 0;
      position: relative;
    }

    .section h2 {
      font-size: clamp(1.65rem, 1.3rem + 1.6vw, 2.45rem);
      margin: 0 0 0.8rem;
      letter-spacing: 0.2px;
    }

    .section .lead {
      max-width: 62ch;
      color: var(--ink-soft);
      margin: 0 0 1.8rem;
    }

    .ink-label {
      display: inline-block;
      font-size: 0.84rem;
      text-transform: uppercase;
      letter-spacing: 1.4px;
      color: var(--leaf-deep);
      margin-bottom: 0.55rem;
      font-weight: 700;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(4px);
      background: rgba(244, 236, 221, 0.77);
      border-bottom: 1px solid rgba(79, 73, 66, 0.18);
    }

    .topbar .wrap {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.65rem 0;
      gap: 1rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      text-decoration: none;
      font-weight: 700;
      letter-spacing: 0.4px;
    }

    .brand svg { width: 30px; height: 30px; }

    .nav {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .nav a {
      text-decoration: none;
      font-size: 0.9rem;
      padding: 0.35rem 0.6rem;
      border-radius: 999px;
      border: 1px solid transparent;
    }

    .nav a:focus-visible,
    .nav a:hover {
      outline: none;
      border-color: rgba(79, 73, 66, 0.45);
      background: rgba(255, 255, 255, 0.4);
    }

    .hero {
      padding: 4rem 0 2.8rem;
      display: grid;
      grid-template-columns: 1.15fr 1fr;
      gap: 2rem;
      align-items: center;
      min-height: 68vh;
    }

    .hero h1 {
      font-size: clamp(2rem, 1.4rem + 3vw, 4rem);
      line-height: 1.08;
      margin: 0 0 1rem;
      letter-spacing: 0.2px;
    }

    .hero p {
      color: var(--ink-soft);
      margin: 0 0 1.2rem;
      max-width: 53ch;
      font-size: 1.03rem;
    }

    .hero-panel {
      background: var(--card);
      border: 1px solid rgba(79, 73, 66, 0.2);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 1rem;
      position: relative;
      overflow: hidden;
    }

    .hero-grid {
      display: grid;
      gap: 0.8rem;
      grid-template-columns: 1fr auto;
      align-items: center;
    }

    .hero-grid input {
      border: 1px solid rgba(79, 73, 66, 0.4);
      background: rgba(255, 255, 255, 0.75);
      color: var(--ink);
      border-radius: 12px;
      padding: 0.78rem 0.84rem;
      font: inherit;
      width: 100%;
    }

    .hero-grid button,
    .cta,
    .btn {
      border: 1px solid rgba(79, 73, 66, 0.46);
      background: linear-gradient(140deg, #ebd5b1, #d4b581);
      color: #2e271f;
      border-radius: 999px;
      padding: 0.72rem 1.15rem;
      font: inherit;
      font-weight: 700;
      letter-spacing: 0.2px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
    }

    .hero-grid button:hover,
    .cta:hover,
    .btn:hover,
    .hero-grid button:focus-visible,
    .cta:focus-visible,
    .btn:focus-visible {
      transform: translateY(-1px);
      box-shadow: 0 8px 20px rgba(70, 54, 29, 0.2);
      outline: none;
    }

    .zip-msg {
      margin: 0.55rem 0 0;
      font-size: 0.92rem;
      min-height: 1.4em;
      color: var(--ink-soft);
    }

    .zip-msg.ok { color: #3f5f2f; }
    .zip-msg.no { color: #8a4436; }

    .hero-ill {
      position: relative;
      min-height: 290px;
      transform: translateY(var(--parallax, 0px));
      transition: transform 0.1s linear;
    }

    .ink-card {
      background: var(--card);
      border: 1px solid rgba(79, 73, 66, 0.2);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .season-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }

    .season-card {
      position: relative;
      min-height: 230px;
      padding: 0.9rem;
      background: rgba(255, 255, 255, 0.43);
      border: 1px solid rgba(79, 73, 66, 0.2);
      border-radius: var(--radius);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .season-card h3 { margin: 0; font-size: 1.25rem; }

    .season-art {
      min-height: 118px;
      transform: translateY(var(--parallax, 0px));
      transition: transform 0.08s linear;
    }

    .tooltip {
      position: absolute;
      left: 0.8rem;
      right: 0.8rem;
      bottom: 0.7rem;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.2s ease, transform 0.2s ease;
      background: rgba(252, 248, 240, 0.94);
      border: 1px solid rgba(79, 73, 66, 0.28);
      border-radius: 12px;
      padding: 0.55rem 0.65rem;
      font-size: 0.87rem;
      color: var(--ink-soft);
      pointer-events: none;
    }

    .season-card:is(:hover, :focus-within) .tooltip {
      opacity: 1;
      transform: translateY(0);
    }

    .allergens {
      display: flex;
      gap: 0.45rem;
      margin-top: 0.6rem;
      flex-wrap: wrap;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      border: 1px solid rgba(79, 73, 66, 0.3);
      border-radius: 999px;
      padding: 0.12rem 0.45rem;
      font-size: 0.74rem;
      background: rgba(255, 255, 255, 0.53);
    }

    .chip svg { width: 13px; height: 13px; }

    .plans {
      display: grid;
      gap: 1.2rem;
      grid-template-columns: 1.1fr 0.9fr;
      align-items: start;
    }

    .panel {
      background: var(--card);
      border: 1px solid rgba(79, 73, 66, 0.2);
      border-radius: var(--radius-lg);
      padding: 1rem;
      box-shadow: var(--shadow);
    }

    .mode {
      display: grid;
      gap: 0.55rem;
      margin-bottom: 1rem;
    }

    .range-wrap {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.4rem;
    }

    .range-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.9rem;
      color: var(--ink-soft);
    }

    input[type="range"] {
      width: 100%;
      accent-color: #896f3f;
      cursor: pointer;
    }

    .price-box {
      border: 1px dashed rgba(79, 73, 66, 0.42);
      border-radius: 14px;
      padding: 0.8rem;
      background: rgba(255, 255, 255, 0.5);
      margin: 0.8rem 0;
    }

    .price-line {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin: 0.3rem 0;
    }

    .price-total {
      border-top: 1px solid rgba(79, 73, 66, 0.24);
      margin-top: 0.45rem;
      padding-top: 0.55rem;
      font-size: 1.1rem;
      font-weight: 700;
    }

    .addons {
      display: grid;
      gap: 0.55rem;
    }

    .addon {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.8rem;
      border: 1px solid rgba(79, 73, 66, 0.22);
      border-radius: 12px;
      padding: 0.52rem 0.6rem;
      background: rgba(255, 255, 255, 0.5);
    }

    .addon label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    .addon input[type="checkbox"] { accent-color: #6c7f55; }

    .map-wrap {
      display: grid;
      gap: 1rem;
      grid-template-columns: 1.1fr 0.9fr;
      align-items: stretch;
    }

    .map-card {
      position: relative;
      min-height: 300px;
      overflow: hidden;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(79, 73, 66, 0.2);
      background: rgba(255, 255, 255, 0.62);
      box-shadow: var(--shadow);
    }

    .map-badge {
      position: absolute;
      top: 0.8rem;
      left: 0.8rem;
      background: rgba(252, 246, 234, 0.95);
      border: 1px solid rgba(79, 73, 66, 0.3);
      border-radius: 999px;
      padding: 0.25rem 0.62rem;
      font-size: 0.8rem;
      font-weight: 700;
    }

    .pickup-list {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: 0.6rem;
    }

    .pickup-list li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.6rem;
      padding: 0.58rem 0.66rem;
      border-radius: 12px;
      border: 1px solid rgba(79, 73, 66, 0.24);
      background: rgba(255, 255, 255, 0.5);
    }

    .dist {
      border: 1px solid rgba(79, 73, 66, 0.32);
      border-radius: 999px;
      font-size: 0.78rem;
      padding: 0.18rem 0.48rem;
      white-space: nowrap;
      background: rgba(245, 239, 228, 0.94);
    }

    .carousel {
      position: relative;
      display: grid;
      gap: 0.8rem;
    }

    .slides {
      position: relative;
      min-height: 240px;
    }

    .slide {
      position: absolute;
      inset: 0;
      opacity: 0;
      transform: translateX(16px);
      transition: opacity 0.32s ease, transform 0.32s ease;
      display: grid;
      grid-template-columns: 120px 1fr;
      gap: 1rem;
      align-items: center;
      background: var(--card);
      border: 1px solid rgba(79, 73, 66, 0.2);
      border-radius: var(--radius-lg);
      padding: 1rem;
      box-shadow: var(--shadow);
    }

    .slide.active {
      opacity: 1;
      transform: translateX(0);
      z-index: 2;
    }

    .controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .control-btn {
      border: 1px solid rgba(79, 73, 66, 0.36);
      background: rgba(255, 255, 255, 0.6);
      border-radius: 999px;
      width: 42px;
      height: 42px;
      font-size: 1.05rem;
      cursor: pointer;
    }

    .dots {
      display: flex;
      gap: 0.4rem;
      align-items: center;
      justify-content: center;
      flex: 1;
    }

    .dot {
      width: 11px;
      height: 11px;
      border-radius: 50%;
      border: 1px solid rgba(79, 73, 66, 0.5);
      background: transparent;
      cursor: pointer;
    }

    .dot[aria-current="true"] { background: rgba(121, 102, 66, 0.85); }

    .faq-contact {
      display: grid;
      gap: 1rem;
      grid-template-columns: 1.1fr 0.9fr;
    }

    .faq-item {
      border: 1px solid rgba(79, 73, 66, 0.28);
      border-radius: 12px;
      margin-bottom: 0.55rem;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.48);
    }

    .faq-q {
      width: 100%;
      text-align: left;
      border: 0;
      background: transparent;
      padding: 0.7rem 0.76rem;
      font: inherit;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
    }

    .faq-a {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.32s ease;
    }

    .faq-a p {
      margin: 0;
      padding: 0 0.76rem 0.8rem;
      color: var(--ink-soft);
      font-size: 0.95rem;
    }

    .faq-item.open .faq-a { max-height: 180px; }

    .faq-q span:last-child {
      font-weight: 700;
      transform: rotate(0deg);
      transition: transform 0.25s ease;
    }

    .faq-item.open .faq-q span:last-child { transform: rotate(45deg); }

    form {
      display: grid;
      gap: 0.62rem;
    }

    input,
    textarea {
      border: 1px solid rgba(79, 73, 66, 0.42);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.7);
      padding: 0.68rem 0.74rem;
      font: inherit;
      color: var(--ink);
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-msg {
      min-height: 1.2em;
      margin: 0;
      font-size: 0.9rem;
      color: var(--ink-soft);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    footer {
      padding: 2.2rem 0 2.8rem;
      color: var(--ink-soft);
      font-size: 0.92rem;
    }

    .parallax {
      will-change: transform;
      transform: translate3d(0, var(--parallax, 0), 0);
    }

    @media (max-width: 1020px) {
      .hero,
      .plans,
      .map-wrap,
      .faq-contact {
        grid-template-columns: 1fr;
      }

      .season-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }

      .hero {
        min-height: unset;
        padding-top: 2.5rem;
      }
    }

    @media (max-width: 640px) {
      .wrap { width: min(var(--max), calc(100% - 1.2rem)); }
      .season-grid { grid-template-columns: 1fr; }
      .topbar .wrap { align-items: flex-start; }
      .nav { gap: 0.35rem; }
      .slide {
        grid-template-columns: 1fr;
        text-align: center;
        min-height: 280px;
      }
      .slides { min-height: 295px; }
      .hero-grid { grid-template-columns: 1fr; }
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation: none !important;
        transition: none !important;
        scroll-behavior: auto !important;
      }
    }
  </style>
</head>
<body>
  <header class="topbar" aria-label="Primary">
    <div class="wrap">
      <a class="brand" href="#top">
        <svg viewBox="0 0 64 64" fill="none" aria-hidden="true">
          <circle cx="32" cy="32" r="28" stroke="var(--line)" stroke-width="2.5"/>
          <path d="M20 37c7 1 18 0 24-3" stroke="var(--line)" stroke-width="2" stroke-linecap="round"/>
          <path d="M31 36c0-8 1-12 7-16" stroke="var(--line)" stroke-width="2" stroke-linecap="round"/>
          <path d="M24 41c3 3 13 4 18 0" stroke="var(--line)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Artisan CSA</span>
      </a>
      <nav class="nav" aria-label="Section links">
        <a href="#share">Share</a>
        <a href="#plans">Plans</a>
        <a href="#map">Map</a>
        <a href="#stories">Stories</a>
        <a href="#faq">FAQ</a>
      </nav>
    </div>
  </header>

  <main id="top" class="wrap">
    <section class="hero section" aria-labelledby="hero-title">
      <div>
        <span class="ink-label">Community Supported Agriculture</span>
        <h1 id="hero-title">Hand-packed harvests from nearby regenerative farms.</h1>
        <p>
          Join neighbors who eat with the seasons. Every basket is drawn from small fields,
          picked at dawn, and delivered with old-school care.
        </p>
        <div class="hero-panel">
          <label for="zip" class="sr-only">ZIP code</label>
          <div class="hero-grid">
            <input id="zip" inputmode="numeric" maxlength="5" pattern="[0-9]{5}" placeholder="Enter your ZIP code" aria-describedby="zip-msg" />
            <button id="zip-check" type="button">Check Area</button>
          </div>
          <p id="zip-msg" class="zip-msg" role="status" aria-live="polite">We currently deliver within 12 miles of the farm hub.</p>
          <a class="cta" href="#plans">Join the harvest</a>
        </div>
      </div>

      <div class="hero-ill parallax" data-depth="13" aria-hidden="true">
        <svg viewBox="0 0 560 410" width="100%" height="100%" preserveAspectRatio="xMidYMid meet">
          <defs>
            <linearGradient id="basketWash" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#dec49b" stop-opacity="0.85"/>
              <stop offset="1" stop-color="#c9a46e" stop-opacity="0.78"/>
            </linearGradient>
            <linearGradient id="vegWash" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#86a26a" stop-opacity="0.8"/>
              <stop offset="1" stop-color="#6f8755" stop-opacity="0.62"/>
            </linearGradient>
          </defs>
          <ellipse cx="278" cy="324" rx="196" ry="42" fill="rgba(82,72,58,0.12)"/>
          <path d="M118 276c21-89 320-89 339 0-6 37-49 55-169 55-114 0-162-15-170-55z" fill="url(#basketWash)"/>
          <path d="M124 271c23-20 310-20 332 0" stroke="var(--line)" stroke-width="3" stroke-linecap="round" fill="none"/>
          <path d="M147 295c64 13 201 13 267 0" stroke="rgba(60,54,46,0.65)" stroke-width="2" stroke-linecap="round"/>
          <path d="M180 227c22-35 41-55 66-62 4 24-6 53-27 79" fill="#b85045" fill-opacity="0.65"/>
          <path d="M180 227c22-35 41-55 66-62 4 24-6 53-27 79" stroke="var(--line)" stroke-width="2.4"/>
          <path d="M250 150c16-42 48-66 86-78 12 41-5 84-43 108" fill="url(#vegWash)"/>
          <path d="M250 150c16-42 48-66 86-78 12 41-5 84-43 108" stroke="var(--line)" stroke-width="2.5"/>
          <path d="M308 196c21-35 46-50 70-52 3 31-10 59-39 83" fill="#d7835c" fill-opacity="0.75"/>
          <path d="M308 196c21-35 46-50 70-52 3 31-10 59-39 83" stroke="var(--line)" stroke-width="2.4"/>
          <circle cx="224" cy="219" r="19" fill="#f2e08b" fill-opacity="0.75" stroke="var(--line)" stroke-width="2"/>
          <circle cx="355" cy="235" r="17" fill="#9fba71" fill-opacity="0.75" stroke="var(--line)" stroke-width="2"/>
          <path d="M250 219c27 12 44 12 66 0" stroke="var(--line)" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M243 186c8-24 24-42 47-53" stroke="var(--line)" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M334 166c6-14 18-29 33-37" stroke="var(--line)" stroke-width="2" fill="none" stroke-linecap="round"/>
        </svg>
      </div>
    </section>

    <section id="share" class="section" aria-labelledby="share-title">
      <span class="ink-label">Seasonal Share</span>
      <h2 id="share-title">A rotating box that follows the weather.</h2>
      <p class="lead">Hover or focus each season to see what usually arrives. Allergen icons mark optional add-ons commonly paired with that share.</p>
      <div class="season-grid" role="list">
        <article class="season-card" role="listitem" tabindex="0" aria-describedby="spring-tip">
          <h3>Spring</h3>
          <div class="season-art parallax" data-depth="7" aria-hidden="true">
            <svg viewBox="0 0 180 120" width="100%" height="100%">
              <path d="M20 85c28-30 40-55 62-62 12 20 10 43-8 67" fill="#86a26f" fill-opacity="0.72" stroke="var(--line)" stroke-width="2"/>
              <path d="M65 83c20-26 40-35 57-35 2 23-10 44-33 58" fill="#a2bd79" fill-opacity="0.7" stroke="var(--line)" stroke-width="2"/>
              <circle cx="126" cy="82" r="17" fill="#f1dba0" fill-opacity="0.8" stroke="var(--line)" stroke-width="2"/>
            </svg>
          </div>
          <div class="allergens" aria-label="Allergen info">
            <span class="chip" title="Contains eggs add-on">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2c2 3 4 5 4 8a4 4 0 1 1-8 0c0-3 2-5 4-8z" stroke="currentColor"/></svg>Egg
            </span>
          </div>
          <p id="spring-tip" class="tooltip" role="tooltip">Baby lettuce, peas, radish, spinach, scallions, tender herbs.</p>
        </article>

        <article class="season-card" role="listitem" tabindex="0" aria-describedby="summer-tip">
          <h3>Summer</h3>
          <div class="season-art parallax" data-depth="9" aria-hidden="true">
            <svg viewBox="0 0 180 120" width="100%" height="100%">
              <ellipse cx="55" cy="78" rx="23" ry="19" fill="#d97e54" fill-opacity="0.73" stroke="var(--line)" stroke-width="2"/>
              <path d="M49 56c4-11 12-17 23-20" stroke="var(--line)" stroke-width="2" fill="none"/>
              <ellipse cx="111" cy="74" rx="31" ry="24" fill="#7ca15f" fill-opacity="0.73" stroke="var(--line)" stroke-width="2"/>
              <path d="M86 74c8-5 18-6 31-4" stroke="var(--line)" stroke-width="2" fill="none"/>
            </svg>
          </div>
          <div class="allergens">
            <span class="chip" title="Contains wheat add-on">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2v12M5 5l3 3 3-3M5 9l3 3 3-3" stroke="currentColor"/></svg>Wheat
            </span>
            <span class="chip" title="Contains eggs add-on">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2c2 3 4 5 4 8a4 4 0 1 1-8 0c0-3 2-5 4-8z" stroke="currentColor"/></svg>Egg
            </span>
          </div>
          <p id="summer-tip" class="tooltip" role="tooltip">Tomatoes, basil, zucchini, cucumbers, corn, sweet peppers.</p>
        </article>

        <article class="season-card" role="listitem" tabindex="0" aria-describedby="fall-tip">
          <h3>Fall</h3>
          <div class="season-art parallax" data-depth="6" aria-hidden="true">
            <svg viewBox="0 0 180 120" width="100%" height="100%">
              <ellipse cx="65" cy="78" rx="31" ry="22" fill="#ce8a4f" fill-opacity="0.74" stroke="var(--line)" stroke-width="2"/>
              <path d="M65 52c0-7 4-13 11-17" stroke="var(--line)" stroke-width="2" fill="none"/>
              <path d="M102 77c20-26 30-34 48-36 4 23-8 46-29 61" fill="#8da05f" fill-opacity="0.72" stroke="var(--line)" stroke-width="2"/>
            </svg>
          </div>
          <div class="allergens">
            <span class="chip" title="Contains wheat add-on">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2v12M5 5l3 3 3-3M5 9l3 3 3-3" stroke="currentColor"/></svg>Wheat
            </span>
            <span class="chip" title="Tree nut cross-contact note">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2c2 1 4 4 4 6a4 4 0 1 1-8 0c0-2 2-5 4-6z" stroke="currentColor"/></svg>Nuts
            </span>
          </div>
          <p id="fall-tip" class="tooltip" role="tooltip">Squash, apples, potatoes, beets, kale, onions.</p>
        </article>

        <article class="season-card" role="listitem" tabindex="0" aria-describedby="winter-tip">
          <h3>Winter</h3>
          <div class="season-art parallax" data-depth="8" aria-hidden="true">
            <svg viewBox="0 0 180 120" width="100%" height="100%">
              <circle cx="54" cy="79" r="18" fill="#f2e9c6" fill-opacity="0.8" stroke="var(--line)" stroke-width="2"/>
              <ellipse cx="102" cy="76" rx="29" ry="22" fill="#88a06d" fill-opacity="0.75" stroke="var(--line)" stroke-width="2"/>
              <path d="M117 56c5-12 15-20 30-24" stroke="var(--line)" stroke-width="2" fill="none"/>
            </svg>
          </div>
          <div class="allergens">
            <span class="chip" title="Contains eggs add-on">
              <svg viewBox="0 0 16 16" fill="none"><path d="M8 2c2 3 4 5 4 8a4 4 0 1 1-8 0c0-3 2-5 4-8z" stroke="currentColor"/></svg>Egg
            </span>
          </div>
          <p id="winter-tip" class="tooltip" role="tooltip">Carrots, cabbage, storage onions, turnips, winter greens, beans.</p>
        </article>
      </div>
    </section>

    <section id="plans" class="section" aria-labelledby="plans-title">
      <span class="ink-label">Plans</span>
      <h2 id="plans-title">Tune your rhythm and see pricing update instantly.</h2>
      <div class="plans">
        <div class="panel">
          <div class="mode">
            <label for="cadence"><strong>Delivery cadence</strong></label>
            <div class="range-wrap">
              <input id="cadence" type="range" min="0" max="1" step="1" value="0" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0" aria-label="Delivery cadence slider" />
              <div class="range-labels" aria-hidden="true">
                <span>Weekly</span>
                <span>Bi-weekly</span>
              </div>
            </div>
            <p id="cadence-copy" style="margin:0;color:var(--ink-soft);">Weekly keeps your kitchen stocked with the freshest mix each week.</p>
          </div>

          <div class="addons" aria-label="Optional add-ons">
            <div class="addon">
              <label for="eggs"><input id="eggs" type="checkbox" data-addon="7" /> Pasture eggs</label>
              <span>$7 / box</span>
            </div>
            <div class="addon">
              <label for="flowers"><input id="flowers" type="checkbox" data-addon="9" /> Flower bunch</label>
              <span>$9 / box</span>
            </div>
            <div class="addon">
              <label for="bread"><input id="bread" type="checkbox" data-addon="6" /> Sourdough loaf</label>
              <span>$6 / box</span>
            </div>
          </div>
        </div>

        <aside class="panel" aria-live="polite" aria-atomic="true">
          <h3 style="margin-top:0">Price Snapshot</h3>
          <div class="price-box">
            <div class="price-line"><span>Cadence</span><strong id="price-cadence">Weekly</strong></div>
            <div class="price-line"><span>Base share</span><strong id="price-base">$38.00</strong></div>
            <div class="price-line"><span>Add-ons</span><strong id="price-addons">$0.00</strong></div>
            <div class="price-line"><span>Per delivery</span><strong id="price-delivery">$38.00</strong></div>
            <div class="price-line"><span>Deliveries / month</span><strong id="price-count">4</strong></div>
            <div class="price-line price-total"><span>Estimated monthly</span><strong id="price-monthly">$152.00</strong></div>
          </div>
          <a class="btn" href="#contact">Reserve Your Spot</a>
        </aside>
      </div>
    </section>

    <section id="map" class="section" aria-labelledby="map-title">
      <span class="ink-label">Delivery Radius</span>
      <h2 id="map-title">From our farm hub to your doorstep or pickup table.</h2>
      <div class="map-wrap">
        <div class="map-card">
          <span class="map-badge">12-mile service radius</span>
          <svg viewBox="0 0 640 380" width="100%" height="100%" role="img" aria-label="Illustrated local delivery map with highlighted radius">
            <rect width="640" height="380" fill="#e9e0cf"/>
            <g stroke="#93866d" stroke-width="4" fill="none" stroke-linecap="round">
              <path d="M20 95c92 16 160 7 216-22 76-40 147-50 223-24 60 21 111 28 161 12"/>
              <path d="M38 216c78-18 140-12 214 24 71 35 143 41 244 25 60-10 97-9 131 0"/>
              <path d="M95 355c40-74 87-125 176-146 93-22 174-16 270-60"/>
            </g>
            <g stroke="#6a8262" stroke-width="3" fill="none" stroke-linecap="round">
              <path d="M125 39c22 26 32 55 34 92"/>
              <path d="M252 54c19 25 28 45 31 78"/>
              <path d="M440 42c14 21 24 56 24 92"/>
              <path d="M518 78c11 19 13 36 9 58"/>
            </g>
            <circle cx="322" cy="198" r="112" fill="rgba(124,161,95,0.18)" stroke="#5f7545" stroke-width="2.5" stroke-dasharray="8 8"/>
            <circle cx="322" cy="198" r="9" fill="#2c2a28"/>
            <path d="M322 206v38" stroke="#2c2a28" stroke-width="3"/>
            <path d="M296 242h52" stroke="#2c2a28" stroke-width="3"/>
            <text x="338" y="188" font-size="16" fill="#2c2a28" font-family="Georgia, serif">Farm Hub</text>
          </svg>
        </div>

        <aside class="panel">
          <h3 style="margin-top:0">Pickup Locations</h3>
          <ul class="pickup-list">
            <li><span>Riverbend Library Lot</span><span class="dist">2.4 mi</span></li>
            <li><span>Oak & Elm Co-op</span><span class="dist">4.1 mi</span></li>
            <li><span>Willow Square Market</span><span class="dist">7.8 mi</span></li>
            <li><span>Northfield Community Hall</span><span class="dist">10.6 mi</span></li>
          </ul>
        </aside>
      </div>
    </section>

    <section id="stories" class="section" aria-labelledby="stories-title">
      <span class="ink-label">Testimonials</span>
      <h2 id="stories-title">Neighbors and growers, in their own words.</h2>
      <div class="carousel" aria-roledescription="carousel" aria-label="Testimonials">
        <div class="slides">
          <article class="slide active" data-slide="0">
            <svg viewBox="0 0 120 120" width="120" height="120" aria-hidden="true">
              <circle cx="60" cy="60" r="54" fill="rgba(255,255,255,0.5)" stroke="var(--line)" stroke-width="2"/>
              <circle cx="60" cy="48" r="18" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M30 94c6-16 20-24 30-24s24 8 30 24" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M45 48c5-9 9-11 15-11 7 0 12 3 16 10" fill="none" stroke="var(--line)" stroke-width="2"/>
            </svg>
            <div>
              <p><strong>Marin, CSA Member</strong></p>
              <p>“Our kids now track the season by what shows up in the basket. The produce is always vibrant and lasts longer than anything from the store.”</p>
            </div>
          </article>

          <article class="slide" data-slide="1">
            <svg viewBox="0 0 120 120" width="120" height="120" aria-hidden="true">
              <circle cx="60" cy="60" r="54" fill="rgba(255,255,255,0.5)" stroke="var(--line)" stroke-width="2"/>
              <circle cx="60" cy="47" r="17" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M32 95c6-15 18-23 28-23 12 0 24 7 30 24" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M44 44c10-12 20-15 34-5" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M50 56h20" stroke="var(--line)" stroke-width="2"/>
            </svg>
            <div>
              <p><strong>Eli, Field Farmer</strong></p>
              <p>“Knowing exactly who receives each box helps us plan responsibly. There is less waste and more care at every step from bed to basket.”</p>
            </div>
          </article>

          <article class="slide" data-slide="2">
            <svg viewBox="0 0 120 120" width="120" height="120" aria-hidden="true">
              <circle cx="60" cy="60" r="54" fill="rgba(255,255,255,0.5)" stroke="var(--line)" stroke-width="2"/>
              <circle cx="60" cy="48" r="18" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M30 94c7-16 19-24 30-24s24 8 30 24" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M45 40c8-10 22-12 31 0" fill="none" stroke="var(--line)" stroke-width="2"/>
              <path d="M50 56c3 3 17 3 20 0" fill="none" stroke="var(--line)" stroke-width="2"/>
            </svg>
            <div>
              <p><strong>Noor, Pickup Host</strong></p>
              <p>“Pickup hour turned into a weekly neighborhood ritual. People share recipes, swap tips, and reconnect over real food.”</p>
            </div>
          </article>
        </div>

        <div class="controls">
          <button class="control-btn" id="prev" type="button" aria-label="Previous testimonial">&#8592;</button>
          <div class="dots" role="tablist" aria-label="Select testimonial">
            <button class="dot" data-dot="0" aria-current="true" aria-label="Testimonial 1"></button>
            <button class="dot" data-dot="1" aria-current="false" aria-label="Testimonial 2"></button>
            <button class="dot" data-dot="2" aria-current="false" aria-label="Testimonial 3"></button>
          </div>
          <button class="control-btn" id="next" type="button" aria-label="Next testimonial">&#8594;</button>
        </div>
      </div>
    </section>

    <section id="faq" class="section" aria-labelledby="faq-title">
      <span class="ink-label">FAQ + Contact</span>
      <h2 id="faq-title">Questions before you join?</h2>
      <div class="faq-contact">
        <div class="panel">
          <div class="faq-item open">
            <button class="faq-q" aria-expanded="true" aria-controls="faq-a1" id="faq-q1" type="button">
              <span>Can I pause my share while traveling?</span><span>+</span>
            </button>
            <div class="faq-a" id="faq-a1" role="region" aria-labelledby="faq-q1">
              <p>Yes. Pause up to two weeks per season with 5 days notice. You can also gift a box to a neighbor.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-q" aria-expanded="false" aria-controls="faq-a2" id="faq-q2" type="button">
              <span>Do you offer low-income shares?</span><span>+</span>
            </button>
            <div class="faq-a" id="faq-a2" role="region" aria-labelledby="faq-q2">
              <p>We reserve a limited number of sliding-scale memberships funded by community sponsor shares each season.</p>
            </div>
          </div>

          <div class="faq-item">
            <button class="faq-q" aria-expanded="false" aria-controls="faq-a3" id="faq-q3" type="button">
              <span>How are allergens handled?</span><span>+</span>
            </button>
            <div class="faq-a" id="faq-a3" role="region" aria-labelledby="faq-q3">
              <p>Core produce is allergen-light, while add-ons list egg, wheat, and nut cross-contact notes. Contact us for specifics.</p>
            </div>
          </div>
        </div>

        <div class="panel" id="contact">
          <h3 style="margin-top:0">Contact the Farm Desk</h3>
          <form id="contact-form" novalidate>
            <label for="name">Name</label>
            <input id="name" name="name" autocomplete="name" required />

            <label for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" required />

            <label for="note">Message</label>
            <textarea id="note" name="note" placeholder="Tell us about your household, schedule, or dietary needs." required></textarea>

            <button class="btn" type="submit">Send message</button>
            <p id="form-msg" class="form-msg" role="status" aria-live="polite"></p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">Artisan CSA · Cultivated with soil-first practices and neighborhood stewardship.</div>
  </footer>

  <script>
    (() => {
      const zipInput = document.getElementById('zip');
      const zipCheck = document.getElementById('zip-check');
      const zipMsg = document.getElementById('zip-msg');
      const servicePrefixes = new Set(['021', '022', '023', '024', '019']);

      function checkZip() {
        const raw = zipInput.value.trim();
        const zip = raw.replace(/\D/g, '').slice(0, 5);
        zipInput.value = zip;

        if (zip.length !== 5) {
          zipMsg.textContent = 'Please enter a valid 5-digit ZIP code.';
          zipMsg.className = 'zip-msg no';
          return;
        }

        const prefix = zip.slice(0, 3);
        const inArea = servicePrefixes.has(prefix);
        if (inArea) {
          zipMsg.textContent = `Great news: ${zip} is in our current delivery area.`;
          zipMsg.className = 'zip-msg ok';
        } else {
          zipMsg.textContent = `${zip} is just outside our current route. Pickup locations are still available.`;
          zipMsg.className = 'zip-msg no';
        }
      }

      zipCheck.addEventListener('click', checkZip);
      zipInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
          event.preventDefault();
          checkZip();
        }
      });

      const cadence = document.getElementById('cadence');
      const cadenceCopy = document.getElementById('cadence-copy');
      const addonInputs = [...document.querySelectorAll('[data-addon]')];

      const priceCadence = document.getElementById('price-cadence');
      const priceBase = document.getElementById('price-base');
      const priceAddons = document.getElementById('price-addons');
      const priceDelivery = document.getElementById('price-delivery');
      const priceCount = document.getElementById('price-count');
      const priceMonthly = document.getElementById('price-monthly');

      function money(value) {
        return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(value);
      }

      function updatePricing() {
        const mode = Number(cadence.value) === 0 ? 'weekly' : 'biweekly';
        const base = mode === 'weekly' ? 38 : 72;
        const count = mode === 'weekly' ? 4 : 2;
        const cadenceText = mode === 'weekly' ? 'Weekly' : 'Bi-weekly';
        const cadenceSentence = mode === 'weekly'
          ? 'Weekly keeps your kitchen stocked with the freshest mix each week.'
          : 'Bi-weekly offers a lighter pace while staying connected to the season.';

        const addonTotal = addonInputs
          .filter((el) => el.checked)
          .reduce((sum, el) => sum + Number(el.dataset.addon || 0), 0);

        const perDelivery = base + addonTotal;
        const monthly = perDelivery * count;

        cadence.setAttribute('aria-valuenow', String(cadence.value));
        priceCadence.textContent = cadenceText;
        cadenceCopy.textContent = cadenceSentence;
        priceBase.textContent = money(base);
        priceAddons.textContent = money(addonTotal);
        priceDelivery.textContent = money(perDelivery);
        priceCount.textContent = String(count);
        priceMonthly.textContent = money(monthly);
      }

      cadence.addEventListener('input', updatePricing);
      addonInputs.forEach((input) => input.addEventListener('change', updatePricing));
      updatePricing();

      const slides = [...document.querySelectorAll('.slide')];
      const dots = [...document.querySelectorAll('.dot')];
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');
      const carousel = document.querySelector('.carousel');
      let active = 0;
      let autoTimer = null;

      function showSlide(index) {
        active = (index + slides.length) % slides.length;
        slides.forEach((slide, i) => {
          slide.classList.toggle('active', i === active);
        });
        dots.forEach((dot, i) => {
          dot.setAttribute('aria-current', i === active ? 'true' : 'false');
        });
      }

      function restartAuto() {
        if (autoTimer) clearInterval(autoTimer);
        autoTimer = setInterval(() => showSlide(active + 1), 6000);
      }

      prev.addEventListener('click', () => {
        showSlide(active - 1);
        restartAuto();
      });

      next.addEventListener('click', () => {
        showSlide(active + 1);
        restartAuto();
      });

      dots.forEach((dot, i) => {
        dot.addEventListener('click', () => {
          showSlide(i);
          restartAuto();
        });
      });

      carousel.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowLeft') {
          event.preventDefault();
          showSlide(active - 1);
          restartAuto();
        }
        if (event.key === 'ArrowRight') {
          event.preventDefault();
          showSlide(active + 1);
          restartAuto();
        }
      });

      showSlide(0);
      restartAuto();

      const faqItems = [...document.querySelectorAll('.faq-item')];
      faqItems.forEach((item) => {
        const button = item.querySelector('.faq-q');
        const panel = item.querySelector('.faq-a');

        function toggle(open) {
          const isOpen = open ?? !item.classList.contains('open');
          item.classList.toggle('open', isOpen);
          button.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
          panel.setAttribute('aria-hidden', isOpen ? 'false' : 'true');
        }

        button.addEventListener('click', () => toggle());
        button.addEventListener('keydown', (event) => {
          if (event.key === 'Enter' || event.key === ' ') {
            event.preventDefault();
            toggle();
          }
        });

        if (!item.classList.contains('open')) {
          panel.setAttribute('aria-hidden', 'true');
        }
      });

      const form = document.getElementById('contact-form');
      const formMsg = document.getElementById('form-msg');
      form.addEventListener('submit', (event) => {
        event.preventDefault();
        if (!form.checkValidity()) {
          formMsg.textContent = 'Please complete all fields with a valid email address.';
          formMsg.style.color = '#8a4436';
          return;
        }

        formMsg.textContent = 'Thanks! Your note is queued for the farm desk. We reply within 1 business day.';
        formMsg.style.color = '#3f5f2f';
        form.reset();
        updatePricing();
      });

      const parallaxItems = [...document.querySelectorAll('.parallax')];
      let ticking = false;
      let pointerX = window.innerWidth / 2;
      let pointerY = window.innerHeight / 2;

      function renderParallax() {
        const yScroll = window.scrollY || window.pageYOffset;
        const cx = (pointerX / window.innerWidth) - 0.5;
        const cy = (pointerY / window.innerHeight) - 0.5;

        parallaxItems.forEach((el) => {
          const depth = Number(el.dataset.depth || 5);
          const driftX = cx * depth * 0.8;
          const driftY = cy * depth * 0.6;
          const scrollLift = -yScroll * (depth / 2600);
          const move = (driftY + scrollLift).toFixed(2);
          el.style.setProperty('--parallax', `${move}px`);
          el.style.transform = `translate3d(${driftX.toFixed(2)}px, ${move}px, 0)`;
        });

        ticking = false;
      }

      function requestRender() {
        if (!ticking) {
          window.requestAnimationFrame(renderParallax);
          ticking = true;
        }
      }

      window.addEventListener('scroll', requestRender, { passive: true });
      window.addEventListener('mousemove', (event) => {
        pointerX = event.clientX;
        pointerY = event.clientY;
        requestRender();
      }, { passive: true });
      window.addEventListener('resize', requestRender);
      requestRender();
    })();
  </script>
</body>
</html>
