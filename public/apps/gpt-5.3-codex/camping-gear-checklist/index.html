<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Camping Gear Checklist</title>
  <style>
    :root {
      --pine-900: #10261d;
      --pine-800: #1a3a2c;
      --pine-700: #24523d;
      --moss-600: #4f7a44;
      --moss-500: #6a9258;
      --sand-100: #f5f1e6;
      --sand-200: #e8dfcc;
      --amber-400: #d79b3f;
      --ember-500: #c5642f;
      --sky-300: #9cc9cf;
      --danger-500: #b64537;
      --shadow: 0 18px 40px rgba(8, 20, 14, 0.28);
      --radius-lg: 18px;
      --radius-md: 12px;
      --radius-sm: 8px;
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      margin: 0;
      font-family: "Trebuchet MS", "Segoe UI", Tahoma, sans-serif;
      color: var(--sand-100);
      background:
        radial-gradient(circle at 12% 16%, rgba(156, 201, 207, 0.18), transparent 34%),
        radial-gradient(circle at 84% 12%, rgba(215, 155, 63, 0.18), transparent 30%),
        linear-gradient(180deg, #0f261d 0%, #173727 44%, #244435 100%);
      overflow-x: hidden;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background-image:
        linear-gradient(120deg, rgba(255, 255, 255, 0.03) 0, rgba(255, 255, 255, 0.03) 1px, transparent 1px, transparent 34px),
        linear-gradient(60deg, rgba(255, 255, 255, 0.02) 0, rgba(255, 255, 255, 0.02) 1px, transparent 1px, transparent 30px);
      opacity: 0.45;
      z-index: 0;
    }

    .app {
      position: relative;
      z-index: 1;
      width: min(1120px, 94vw);
      margin: 26px auto 42px;
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 18px;
      animation: rise 700ms ease-out;
    }

    .panel {
      background: linear-gradient(165deg, rgba(18, 48, 37, 0.96), rgba(15, 38, 29, 0.92));
      border: 1px solid rgba(255, 255, 255, 0.14);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      backdrop-filter: blur(3px);
    }

    .hero {
      grid-column: 1 / -1;
      padding: 26px 24px 22px;
      background:
        linear-gradient(140deg, rgba(18, 53, 42, 0.97), rgba(31, 73, 57, 0.88)),
        radial-gradient(circle at top right, rgba(156, 201, 207, 0.35), transparent 45%);
      overflow: hidden;
    }

    .hero::after {
      content: "";
      position: absolute;
      right: -60px;
      top: -50px;
      width: 220px;
      height: 220px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(215, 155, 63, 0.17), transparent 68%);
      pointer-events: none;
    }

    h1 {
      margin: 0;
      font-size: clamp(1.6rem, 2.8vw, 2.4rem);
      letter-spacing: 0.03em;
      text-transform: uppercase;
      font-weight: 800;
    }

    .subtitle {
      margin-top: 6px;
      color: #d7e6d8;
      font-size: 0.97rem;
      max-width: 640px;
      line-height: 1.45;
    }

    .badge-row {
      margin-top: 16px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .badge {
      border: 1px solid rgba(255, 255, 255, 0.18);
      color: #ecf4e9;
      background: rgba(255, 255, 255, 0.08);
      border-radius: 999px;
      padding: 5px 10px;
      font-size: 0.8rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .left, .right {
      padding: 18px;
    }

    .section-title {
      margin: 0 0 12px;
      font-size: 1rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      color: #d8ebdd;
    }

    .card {
      background: rgba(255, 255, 255, 0.055);
      border: 1px solid rgba(255, 255, 255, 0.11);
      border-radius: var(--radius-md);
      padding: 14px;
      margin-bottom: 14px;
    }

    .input-grid {
      display: grid;
      grid-template-columns: 1.2fr 0.7fr auto;
      gap: 8px;
    }

    input, select, button {
      font: inherit;
    }

    input[type="text"], input[type="number"], select {
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.19);
      background: rgba(10, 22, 17, 0.56);
      color: var(--sand-100);
      padding: 10px 11px;
      border-radius: var(--radius-sm);
      transition: border-color 180ms ease, box-shadow 180ms ease;
    }

    input::placeholder {
      color: rgba(230, 237, 228, 0.62);
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--sky-300);
      box-shadow: 0 0 0 3px rgba(156, 201, 207, 0.2);
    }

    .btn {
      border: 0;
      border-radius: var(--radius-sm);
      padding: 10px 12px;
      color: #f3f5eb;
      background: linear-gradient(180deg, var(--moss-500), var(--moss-600));
      font-weight: 700;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: transform 120ms ease, filter 180ms ease;
    }

    .btn:hover { filter: brightness(1.05); }
    .btn:active { transform: translateY(1px); }

    .btn-alt {
      background: linear-gradient(180deg, #3f5d4f, #345347);
    }

    .btn-warn {
      background: linear-gradient(180deg, #c6753f, #a85c2c);
    }

    .btn-danger {
      background: linear-gradient(180deg, #c15344, #a33e32);
    }

    .stack {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .saved-row {
      display: grid;
      grid-template-columns: 1fr auto auto auto;
      gap: 8px;
      margin-top: 8px;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
    }

    .metric {
      border-radius: var(--radius-md);
      padding: 12px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: linear-gradient(170deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
    }

    .metric .label {
      font-size: 0.78rem;
      text-transform: uppercase;
      color: #c7dbc8;
      letter-spacing: 0.05em;
    }

    .metric .value {
      margin-top: 4px;
      font-size: 1.35rem;
      font-weight: 800;
      color: #f4f8ed;
    }

    .list-wrap {
      margin-top: 10px;
      max-height: 460px;
      overflow: auto;
      padding-right: 2px;
    }

    .list-wrap::-webkit-scrollbar {
      width: 8px;
    }

    .list-wrap::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.19);
      border-radius: 999px;
    }

    .item {
      display: grid;
      grid-template-columns: auto 1fr auto auto;
      gap: 10px;
      align-items: center;
      padding: 9px 8px;
      border-radius: 10px;
      border: 1px solid transparent;
      transition: background 140ms ease, border-color 140ms ease;
      animation: fadeIn 220ms ease;
    }

    .item:hover {
      background: rgba(255, 255, 255, 0.05);
      border-color: rgba(255, 255, 255, 0.1);
    }

    .check {
      width: 21px;
      height: 21px;
      accent-color: var(--amber-400);
      cursor: pointer;
    }

    .item-name {
      font-weight: 650;
      letter-spacing: 0.01em;
    }

    .item-meta {
      font-size: 0.82rem;
      color: #cbdece;
      margin-top: 2px;
    }

    .item.packed .item-name {
      text-decoration: line-through;
      color: #bdd0bf;
    }

    .weight-chip {
      font-size: 0.82rem;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(215, 155, 63, 0.18);
      color: #f5deb9;
      border: 1px solid rgba(215, 155, 63, 0.35);
      white-space: nowrap;
    }

    .icon-btn {
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.06);
      color: #f4f6ea;
      width: 30px;
      height: 30px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.95rem;
      line-height: 1;
    }

    .icon-btn:hover {
      background: rgba(255, 255, 255, 0.12);
    }

    .empty {
      text-align: center;
      color: #ccdccf;
      border: 1px dashed rgba(255, 255, 255, 0.28);
      border-radius: var(--radius-md);
      padding: 18px;
      margin-top: 6px;
      background: rgba(255, 255, 255, 0.03);
    }

    .status {
      margin-top: 10px;
      font-size: 0.86rem;
      color: #d9e7d7;
      min-height: 1.2em;
    }

    .footer-note {
      margin-top: 8px;
      color: #bdd2c0;
      font-size: 0.8rem;
    }

    @keyframes rise {
      from { transform: translateY(10px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeIn {
      from { transform: translateY(3px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @media (max-width: 900px) {
      .app {
        grid-template-columns: 1fr;
        margin-top: 18px;
      }

      .input-grid {
        grid-template-columns: 1fr;
      }

      .saved-row {
        grid-template-columns: 1fr 1fr;
      }

      .saved-row .full {
        grid-column: 1 / -1;
      }

      .summary-grid {
        grid-template-columns: 1fr;
      }

      .list-wrap {
        max-height: 380px;
      }
    }
  </style>
</head>
<body>
  <main class="app" aria-label="Camping Gear Checklist app">
    <section class="panel hero">
      <h1>Camping Gear Checklist</h1>
      <p class="subtitle">Plan faster, pack smarter, and keep your trail load under control. Add gear, check packed items, and save custom lists for every kind of trip.</p>
      <div class="badge-row">
        <span class="badge">Checklist Items</span>
        <span class="badge">Weight Calculator</span>
        <span class="badge">Saved Lists</span>
      </div>
    </section>

    <section class="panel left">
      <h2 class="section-title">Gear Planner</h2>

      <div class="card">
        <form id="gearForm" class="input-grid" autocomplete="off">
          <input id="itemName" type="text" maxlength="70" placeholder="Gear item (e.g., Tent Stakes)" aria-label="Gear item name" required />
          <input id="itemWeight" type="number" inputmode="decimal" min="0" step="0.01" placeholder="Weight (lb)" aria-label="Item weight in pounds" required />
          <button class="btn" type="submit">Add</button>
        </form>
      </div>

      <div class="card">
        <div class="stack">
          <button id="packAllBtn" class="btn btn-alt" type="button">Mark All Packed</button>
          <button id="unpackAllBtn" class="btn btn-alt" type="button">Unpack All</button>
          <button id="clearPackedBtn" class="btn btn-warn" type="button">Remove Packed</button>
          <button id="clearAllBtn" class="btn btn-danger" type="button">Clear All</button>
        </div>
      </div>

      <div class="card">
        <h3 class="section-title" style="margin-top:0;">Checklist</h3>
        <div id="checklist" class="list-wrap" aria-live="polite"></div>
      </div>
    </section>

    <section class="panel right">
      <h2 class="section-title">Trip Stats & Saves</h2>

      <div class="card">
        <div class="summary-grid">
          <div class="metric">
            <div class="label">Total Items</div>
            <div id="statTotalItems" class="value">0</div>
          </div>
          <div class="metric">
            <div class="label">Packed Items</div>
            <div id="statPackedItems" class="value">0</div>
          </div>
          <div class="metric">
            <div class="label">Total Weight</div>
            <div id="statTotalWeight" class="value">0.00 lb</div>
          </div>
          <div class="metric">
            <div class="label">Packed Weight</div>
            <div id="statPackedWeight" class="value">0.00 lb</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h3 class="section-title" style="margin-top:0;">Saved Lists</h3>
        <div class="saved-row">
          <input id="saveName" class="full" type="text" maxlength="45" placeholder="List name (e.g., Winter Overnight)" aria-label="Save list name" />
          <button id="saveBtn" class="btn" type="button">Save</button>
          <select id="savedSelect" aria-label="Saved lists"></select>
          <button id="loadBtn" class="btn btn-alt" type="button">Load</button>
          <button id="deleteSaveBtn" class="btn btn-danger" type="button">Delete</button>
        </div>
        <div id="status" class="status" role="status" aria-live="polite"></div>
        <div class="footer-note">Saved lists are stored locally in your browser.</div>
      </div>

      <div class="card">
        <h3 class="section-title" style="margin-top:0;">Quick Starter</h3>
        <div class="stack">
          <button id="starterBtn" class="btn btn-alt" type="button">Load Starter Gear</button>
        </div>
      </div>
    </section>
  </main>

  <script>
    (function () {
      const STORAGE_KEY = "camping-gear-checklist-app-v1";

      const state = {
        items: []
      };

      const starterItems = [
        { name: "Tent", weight: 4.8, packed: false },
        { name: "Sleeping Bag", weight: 2.4, packed: false },
        { name: "Sleeping Pad", weight: 1.2, packed: false },
        { name: "Headlamp", weight: 0.2, packed: false },
        { name: "Camp Stove", weight: 1.3, packed: false },
        { name: "Water Filter", weight: 0.4, packed: false },
        { name: "Rain Jacket", weight: 0.9, packed: false }
      ];

      const $ = (id) => document.getElementById(id);
      const gearForm = $("gearForm");
      const itemName = $("itemName");
      const itemWeight = $("itemWeight");
      const checklist = $("checklist");
      const packAllBtn = $("packAllBtn");
      const unpackAllBtn = $("unpackAllBtn");
      const clearPackedBtn = $("clearPackedBtn");
      const clearAllBtn = $("clearAllBtn");
      const saveName = $("saveName");
      const saveBtn = $("saveBtn");
      const savedSelect = $("savedSelect");
      const loadBtn = $("loadBtn");
      const deleteSaveBtn = $("deleteSaveBtn");
      const status = $("status");
      const starterBtn = $("starterBtn");

      function uid() {
        return `${Date.now()}-${Math.random().toString(36).slice(2, 8)}`;
      }

      function normalizeWeight(value) {
        const weight = Number(value);
        if (!Number.isFinite(weight) || weight < 0) return null;
        return Math.round(weight * 100) / 100;
      }

      function loadStore() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return { lists: {} };
          const parsed = JSON.parse(raw);
          if (!parsed || typeof parsed !== "object") return { lists: {} };
          if (!parsed.lists || typeof parsed.lists !== "object") parsed.lists = {};
          return parsed;
        } catch {
          return { lists: {} };
        }
      }

      function saveStore(store) {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(store));
      }

      function savedListNames() {
        return Object.keys(loadStore().lists).sort((a, b) => a.localeCompare(b));
      }

      function setStatus(message, isError = false) {
        status.textContent = message;
        status.style.color = isError ? "#ffd2ca" : "#d9e7d7";
      }

      function updateSavedDropdown() {
        const names = savedListNames();
        savedSelect.innerHTML = "";

        if (!names.length) {
          const opt = document.createElement("option");
          opt.value = "";
          opt.textContent = "No saved lists";
          savedSelect.appendChild(opt);
          savedSelect.disabled = true;
          loadBtn.disabled = true;
          deleteSaveBtn.disabled = true;
          return;
        }

        savedSelect.disabled = false;
        loadBtn.disabled = false;
        deleteSaveBtn.disabled = false;

        names.forEach((name) => {
          const opt = document.createElement("option");
          opt.value = name;
          opt.textContent = name;
          savedSelect.appendChild(opt);
        });
      }

      function renderStats() {
        const totalItems = state.items.length;
        const packedItems = state.items.filter((item) => item.packed).length;
        const totalWeight = state.items.reduce((acc, item) => acc + item.weight, 0);
        const packedWeight = state.items.reduce((acc, item) => acc + (item.packed ? item.weight : 0), 0);

        $("statTotalItems").textContent = String(totalItems);
        $("statPackedItems").textContent = String(packedItems);
        $("statTotalWeight").textContent = `${totalWeight.toFixed(2)} lb`;
        $("statPackedWeight").textContent = `${packedWeight.toFixed(2)} lb`;
      }

      function renderList() {
        checklist.innerHTML = "";

        if (!state.items.length) {
          const empty = document.createElement("div");
          empty.className = "empty";
          empty.textContent = "No gear yet. Add items to start planning your pack.";
          checklist.appendChild(empty);
          renderStats();
          return;
        }

        state.items.forEach((item) => {
          const row = document.createElement("div");
          row.className = `item${item.packed ? " packed" : ""}`;

          const checkbox = document.createElement("input");
          checkbox.className = "check";
          checkbox.type = "checkbox";
          checkbox.checked = item.packed;
          checkbox.setAttribute("aria-label", `Mark ${item.name} packed`);
          checkbox.addEventListener("change", () => {
            item.packed = checkbox.checked;
            renderAll();
          });

          const textWrap = document.createElement("div");
          const name = document.createElement("div");
          name.className = "item-name";
          name.textContent = item.name;
          const meta = document.createElement("div");
          meta.className = "item-meta";
          meta.textContent = item.packed ? "Packed" : "Not packed";
          textWrap.appendChild(name);
          textWrap.appendChild(meta);

          const weight = document.createElement("span");
          weight.className = "weight-chip";
          weight.textContent = `${item.weight.toFixed(2)} lb`;

          const del = document.createElement("button");
          del.className = "icon-btn";
          del.type = "button";
          del.title = `Remove ${item.name}`;
          del.setAttribute("aria-label", `Remove ${item.name}`);
          del.textContent = "âœ•";
          del.addEventListener("click", () => {
            state.items = state.items.filter((i) => i.id !== item.id);
            renderAll();
          });

          row.appendChild(checkbox);
          row.appendChild(textWrap);
          row.appendChild(weight);
          row.appendChild(del);
          checklist.appendChild(row);
        });

        renderStats();
      }

      function renderAll() {
        renderList();
        updateSavedDropdown();
      }

      function addItem(nameValue, weightValue, packed = false) {
        const cleanName = nameValue.trim();
        const normalizedWeight = normalizeWeight(weightValue);

        if (!cleanName) {
          setStatus("Enter a gear name.", true);
          return false;
        }
        if (normalizedWeight === null) {
          setStatus("Enter a valid non-negative weight.", true);
          return false;
        }

        state.items.push({
          id: uid(),
          name: cleanName,
          weight: normalizedWeight,
          packed
        });

        setStatus("");
        renderAll();
        return true;
      }

      gearForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const added = addItem(itemName.value, itemWeight.value, false);
        if (added) {
          gearForm.reset();
          itemName.focus();
        }
      });

      packAllBtn.addEventListener("click", () => {
        if (!state.items.length) return;
        state.items = state.items.map((item) => ({ ...item, packed: true }));
        setStatus("All items marked packed.");
        renderAll();
      });

      unpackAllBtn.addEventListener("click", () => {
        if (!state.items.length) return;
        state.items = state.items.map((item) => ({ ...item, packed: false }));
        setStatus("All items marked unpacked.");
        renderAll();
      });

      clearPackedBtn.addEventListener("click", () => {
        const before = state.items.length;
        state.items = state.items.filter((item) => !item.packed);
        const removed = before - state.items.length;
        setStatus(removed ? `Removed ${removed} packed item${removed === 1 ? "" : "s"}.` : "No packed items to remove.");
        renderAll();
      });

      clearAllBtn.addEventListener("click", () => {
        if (!state.items.length) {
          setStatus("Checklist is already empty.");
          return;
        }
        state.items = [];
        setStatus("Cleared all checklist items.");
        renderAll();
      });

      saveBtn.addEventListener("click", () => {
        const name = saveName.value.trim();
        if (!name) {
          setStatus("Enter a name before saving.", true);
          return;
        }
        if (!state.items.length) {
          setStatus("Add at least one item before saving a list.", true);
          return;
        }

        const store = loadStore();
        store.lists[name] = state.items.map((item) => ({
          name: item.name,
          weight: item.weight,
          packed: Boolean(item.packed)
        }));
        saveStore(store);
        saveName.value = "";
        setStatus(`Saved list \"${name}\".`);
        renderAll();
        savedSelect.value = name;
      });

      loadBtn.addEventListener("click", () => {
        const name = savedSelect.value;
        if (!name) {
          setStatus("Select a saved list to load.", true);
          return;
        }

        const store = loadStore();
        const list = store.lists[name];
        if (!Array.isArray(list)) {
          setStatus("That saved list could not be loaded.", true);
          return;
        }

        state.items = list
          .map((item) => {
            const cleanName = typeof item.name === "string" ? item.name.trim() : "";
            const normalizedWeight = normalizeWeight(item.weight);
            if (!cleanName || normalizedWeight === null) return null;
            return {
              id: uid(),
              name: cleanName,
              weight: normalizedWeight,
              packed: Boolean(item.packed)
            };
          })
          .filter(Boolean);

        setStatus(`Loaded list \"${name}\" (${state.items.length} items).`);
        renderAll();
      });

      deleteSaveBtn.addEventListener("click", () => {
        const name = savedSelect.value;
        if (!name) {
          setStatus("Select a saved list to delete.", true);
          return;
        }

        const store = loadStore();
        if (!(name in store.lists)) {
          setStatus("Saved list was already removed.", true);
          updateSavedDropdown();
          return;
        }

        delete store.lists[name];
        saveStore(store);
        setStatus(`Deleted saved list \"${name}\".`);
        renderAll();
      });

      starterBtn.addEventListener("click", () => {
        state.items = starterItems.map((item) => ({
          id: uid(),
          name: item.name,
          weight: item.weight,
          packed: item.packed
        }));
        setStatus("Loaded starter camping gear list.");
        renderAll();
      });

      renderAll();
      itemName.focus();
    })();
  </script>
</body>
</html>
