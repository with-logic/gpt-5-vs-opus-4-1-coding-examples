<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000011;
            color: white;
            overflow: hidden;
            min-height: 100vh;
        }

        #canvas {
            display: block;
            cursor: grab;
        }

        #canvas:active {
            cursor: grabbing;
        }

        .controls {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 20, 0.8);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 16px;
            z-index: 100;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-width: 220px;
        }

        .controls h1 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #FFD700;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
        }

        .slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            cursor: pointer;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #FFD700;
            cursor: pointer;
        }

        .btn-group {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .btn {
            flex: 1;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
        }

        .info-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 20, 0.9);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 16px;
            z-index: 100;
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 320px;
            display: none;
        }

        .info-panel.visible {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .planet-name {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close-btn {
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 1rem;
        }

        .planet-icon {
            font-size: 4rem;
            text-align: center;
            margin: 20px 0;
        }

        .info-grid {
            display: grid;
            gap: 12px;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 10px;
        }

        .info-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 4px;
        }

        .info-value {
            font-size: 0.95rem;
            font-weight: 600;
        }

        .planet-desc {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.6;
            margin-top: 15px;
        }

        .instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 20, 0.8);
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            gap: 20px;
        }

        .instructions span {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        @media (max-width: 768px) {
            .controls {
                top: 10px;
                left: 10px;
                padding: 15px;
                min-width: 180px;
            }

            .info-panel {
                top: auto;
                bottom: 80px;
                right: 10px;
                left: 10px;
                max-width: none;
            }

            .instructions {
                flex-direction: column;
                gap: 5px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div class="controls">
        <h1>üåå Solar System</h1>
        <div class="control-group">
            <label>Orbit Speed</label>
            <input type="range" class="slider" id="speedSlider" min="0" max="5" step="0.1" value="1">
        </div>
        <div class="control-group">
            <label>Zoom</label>
            <input type="range" class="slider" id="zoomSlider" min="0.5" max="3" step="0.1" value="1">
        </div>
        <div class="btn-group">
            <button class="btn" onclick="toggleOrbits()">Orbits</button>
            <button class="btn" onclick="resetView()">Reset</button>
        </div>
    </div>

    <div class="info-panel" id="infoPanel">
        <div class="info-header">
            <span class="planet-name" id="planetName">Earth</span>
            <button class="close-btn" onclick="closeInfo()">√ó</button>
        </div>
        <div class="planet-icon" id="planetIcon">üåç</div>
        <div class="info-grid">
            <div class="info-item">
                <div class="info-label">Distance from Sun</div>
                <div class="info-value" id="planetDistance">149.6 million km</div>
            </div>
            <div class="info-item">
                <div class="info-label">Orbital Period</div>
                <div class="info-value" id="planetPeriod">365.25 days</div>
            </div>
            <div class="info-item">
                <div class="info-label">Diameter</div>
                <div class="info-value" id="planetDiameter">12,742 km</div>
            </div>
            <div class="info-item">
                <div class="info-label">Moons</div>
                <div class="info-value" id="planetMoons">1</div>
            </div>
        </div>
        <p class="planet-desc" id="planetDesc">Earth is the third planet from the Sun and the only astronomical object known to harbor life.</p>
    </div>

    <div class="instructions">
        <span>üñ±Ô∏è Drag to rotate</span>
        <span>üîç Scroll to zoom</span>
        <span>üëÜ Click planet for info</span>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let width, height, centerX, centerY;
        let time = 0;
        let speedMultiplier = 1;
        let zoom = 1;
        let showOrbits = true;
        let rotationX = 0.3;
        let rotationY = 0;
        let isDragging = false;
        let lastMouseX, lastMouseY;

        const planets = [
            { name: 'Sun', icon: '‚òÄÔ∏è', color: '#FFD700', radius: 35, orbitRadius: 0, speed: 0, distance: '0', period: '-', diameter: '1.39 million km', moons: 0, desc: 'The Sun is the star at the center of our Solar System. It is a nearly perfect sphere of hot plasma, heated to incandescence by nuclear fusion reactions.' },
            { name: 'Mercury', icon: '‚ö´', color: '#B5B5B5', radius: 6, orbitRadius: 60, speed: 0.04, distance: '57.9 million km', period: '88 days', diameter: '4,879 km', moons: 0, desc: 'Mercury is the smallest planet in our solar system and nearest to the Sun. It speeds around the Sun every 88 Earth days.' },
            { name: 'Venus', icon: 'üü°', color: '#E6C87A', radius: 9, orbitRadius: 90, speed: 0.015, distance: '108.2 million km', period: '225 days', diameter: '12,104 km', moons: 0, desc: 'Venus is the second planet from the Sun. It rotates in the opposite direction to most planets, so the Sun rises in the west.' },
            { name: 'Earth', icon: 'üåç', color: '#4A90D9', radius: 10, orbitRadius: 130, speed: 0.01, distance: '149.6 million km', period: '365.25 days', diameter: '12,742 km', moons: 1, desc: 'Earth is the third planet from the Sun and the only astronomical object known to harbor life. About 71% of its surface is water.' },
            { name: 'Mars', icon: 'üî¥', color: '#C1440E', radius: 7, orbitRadius: 175, speed: 0.008, distance: '227.9 million km', period: '687 days', diameter: '6,779 km', moons: 2, desc: 'Mars is the fourth planet from the Sun, known as the Red Planet due to its reddish appearance caused by iron oxide on its surface.' },
            { name: 'Jupiter', icon: 'üü†', color: '#D4A574', radius: 25, orbitRadius: 250, speed: 0.002, distance: '778.5 million km', period: '12 years', diameter: '139,820 km', moons: 95, desc: 'Jupiter is the largest planet in our solar system. Its iconic Great Red Spot is a storm that has raged for hundreds of years.' },
            { name: 'Saturn', icon: 'ü™ê', color: '#F4D58D', radius: 22, orbitRadius: 340, speed: 0.0009, distance: '1.43 billion km', period: '29 years', diameter: '116,460 km', moons: 146, desc: 'Saturn is famous for its stunning ring system, made mostly of ice particles with some rocky debris and dust.' },
            { name: 'Uranus', icon: 'üîµ', color: '#7EC8E3', radius: 14, orbitRadius: 420, speed: 0.0004, distance: '2.87 billion km', period: '84 years', diameter: '50,724 km', moons: 27, desc: 'Uranus is unique in that it rotates on its side, with an axial tilt of 98 degrees. It has a faint ring system.' },
            { name: 'Neptune', icon: 'üîµ', color: '#4169E1', radius: 13, orbitRadius: 480, speed: 0.0001, distance: '4.5 billion km', period: '165 years', diameter: '49,244 km', moons: 16, desc: 'Neptune is the windiest planet, with storms reaching 1,200 mph. It has a vivid blue color due to methane in its atmosphere.' }
        ];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        function drawStars() {
            ctx.fillStyle = '#FFFFFF';
            for (let i = 0; i < 200; i++) {
                const x = (Math.sin(i * 123.456) * 0.5 + 0.5) * width;
                const y = (Math.cos(i * 789.012) * 0.5 + 0.5) * height;
                const size = Math.random() * 1.5 + 0.5;
                const twinkle = Math.sin(time * 2 + i) * 0.3 + 0.7;
                ctx.globalAlpha = twinkle;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.globalAlpha = 1;
        }

        function project3D(x, y, z) {
            // Apply rotation
            const cosX = Math.cos(rotationX);
            const sinX = Math.sin(rotationX);
            const cosY = Math.cos(rotationY);
            const sinY = Math.sin(rotationY);

            // Rotate around Y axis
            const x1 = x * cosY - z * sinY;
            const z1 = x * sinY + z * cosY;

            // Rotate around X axis
            const y1 = y * cosX - z1 * sinX;
            const z2 = y * sinX + z1 * cosX;

            // Simple perspective projection
            const scale = zoom * 400 / (400 + z2);
            return {
                x: centerX + x1 * scale,
                y: centerY + y1 * scale,
                scale: scale,
                z: z2
            };
        }

        function drawPlanet(planet, index) {
            const angle = time * planet.speed * speedMultiplier;
            const x = Math.cos(angle) * planet.orbitRadius;
            const z = Math.sin(angle) * planet.orbitRadius;
            const y = 0;

            const projected = project3D(x, y, z);
            const size = planet.radius * projected.scale;

            // Store projected position for click detection
            planet.screenX = projected.x;
            planet.screenY = projected.y;
            planet.screenRadius = size;

            // Draw orbit
            if (showOrbits && planet.orbitRadius > 0) {
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
                ctx.lineWidth = 1;
                ctx.beginPath();

                for (let a = 0; a <= Math.PI * 2; a += 0.1) {
                    const ox = Math.cos(a) * planet.orbitRadius;
                    const oz = Math.sin(a) * planet.orbitRadius;
                    const op = project3D(ox, 0, oz);

                    if (a === 0) {
                        ctx.moveTo(op.x, op.y);
                    } else {
                        ctx.lineTo(op.x, op.y);
                    }
                }
                ctx.closePath();
                ctx.stroke();
            }

            // Draw planet
            const gradient = ctx.createRadialGradient(
                projected.x - size * 0.3, projected.y - size * 0.3, 0,
                projected.x, projected.y, size
            );
            gradient.addColorStop(0, lightenColor(planet.color, 40));
            gradient.addColorStop(0.5, planet.color);
            gradient.addColorStop(1, darkenColor(planet.color, 30));

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(projected.x, projected.y, size, 0, Math.PI * 2);
            ctx.fill();

            // Sun glow
            if (planet.name === 'Sun') {
                const glowGradient = ctx.createRadialGradient(
                    projected.x, projected.y, size * 0.8,
                    projected.x, projected.y, size * 2
                );
                glowGradient.addColorStop(0, 'rgba(255, 215, 0, 0.5)');
                glowGradient.addColorStop(0.5, 'rgba(255, 100, 0, 0.2)');
                glowGradient.addColorStop(1, 'transparent');

                ctx.fillStyle = glowGradient;
                ctx.beginPath();
                ctx.arc(projected.x, projected.y, size * 2, 0, Math.PI * 2);
                ctx.fill();
            }

            // Saturn rings
            if (planet.name === 'Saturn') {
                ctx.strokeStyle = 'rgba(244, 213, 141, 0.6)';
                ctx.lineWidth = 3 * projected.scale;
                ctx.beginPath();
                ctx.ellipse(projected.x, projected.y, size * 1.8, size * 0.5, 0, 0, Math.PI * 2);
                ctx.stroke();
            }

            // Planet name
            if (size > 8) {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.font = `${Math.max(10, size * 0.5)}px -apple-system, sans-serif`;
                ctx.textAlign = 'center';
                ctx.fillText(planet.name, projected.x, projected.y + size + 15);
            }
        }

        function lightenColor(color, percent) {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = Math.min(255, (num >> 16) + amt);
            const G = Math.min(255, (num >> 8 & 0x00FF) + amt);
            const B = Math.min(255, (num & 0x0000FF) + amt);
            return `rgb(${R}, ${G}, ${B})`;
        }

        function darkenColor(color, percent) {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = Math.max(0, (num >> 16) - amt);
            const G = Math.max(0, (num >> 8 & 0x00FF) - amt);
            const B = Math.max(0, (num & 0x0000FF) - amt);
            return `rgb(${R}, ${G}, ${B})`;
        }

        function animate() {
            ctx.fillStyle = '#000011';
            ctx.fillRect(0, 0, width, height);

            drawStars();

            // Sort planets by z-depth for proper rendering
            const sortedPlanets = [...planets].map((p, i) => ({ ...p, index: i }));
            sortedPlanets.sort((a, b) => {
                const aAngle = time * a.speed * speedMultiplier;
                const bAngle = time * b.speed * speedMultiplier;
                const aZ = Math.sin(aAngle) * a.orbitRadius;
                const bZ = Math.sin(bAngle) * b.orbitRadius;
                return bZ - aZ;
            });

            sortedPlanets.forEach(planet => drawPlanet(planet, planet.index));

            time += 0.016;
            requestAnimationFrame(animate);
        }

        // Controls
        document.getElementById('speedSlider').addEventListener('input', (e) => {
            speedMultiplier = parseFloat(e.target.value);
        });

        document.getElementById('zoomSlider').addEventListener('input', (e) => {
            zoom = parseFloat(e.target.value);
        });

        function toggleOrbits() {
            showOrbits = !showOrbits;
        }

        function resetView() {
            rotationX = 0.3;
            rotationY = 0;
            zoom = 1;
            document.getElementById('zoomSlider').value = 1;
            speedMultiplier = 1;
            document.getElementById('speedSlider').value = 1;
        }

        // Mouse/touch interaction
        canvas.addEventListener('mousedown', (e) => {
            // Check if clicked on a planet
            const clickedPlanet = planets.find(p => {
                const dx = e.clientX - p.screenX;
                const dy = e.clientY - p.screenY;
                return Math.sqrt(dx * dx + dy * dy) < p.screenRadius + 10;
            });

            if (clickedPlanet) {
                showPlanetInfo(clickedPlanet);
            } else {
                isDragging = true;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - lastMouseX;
                const deltaY = e.clientY - lastMouseY;

                rotationY += deltaX * 0.005;
                rotationX += deltaY * 0.005;
                rotationX = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX));

                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
            }
        });

        canvas.addEventListener('mouseup', () => isDragging = false);
        canvas.addEventListener('mouseleave', () => isDragging = false);

        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            zoom -= e.deltaY * 0.001;
            zoom = Math.max(0.5, Math.min(3, zoom));
            document.getElementById('zoomSlider').value = zoom;
        });

        // Touch support
        canvas.addEventListener('touchstart', (e) => {
            if (e.touches.length === 1) {
                isDragging = true;
                lastMouseX = e.touches[0].clientX;
                lastMouseY = e.touches[0].clientY;
            }
        });

        canvas.addEventListener('touchmove', (e) => {
            if (isDragging && e.touches.length === 1) {
                const deltaX = e.touches[0].clientX - lastMouseX;
                const deltaY = e.touches[0].clientY - lastMouseY;

                rotationY += deltaX * 0.005;
                rotationX += deltaY * 0.005;
                rotationX = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, rotationX));

                lastMouseX = e.touches[0].clientX;
                lastMouseY = e.touches[0].clientY;
            }
        });

        canvas.addEventListener('touchend', () => isDragging = false);

        function showPlanetInfo(planet) {
            document.getElementById('planetName').textContent = planet.name;
            document.getElementById('planetName').style.color = planet.color;
            document.getElementById('planetIcon').textContent = planet.icon;
            document.getElementById('planetDistance').textContent = planet.distance;
            document.getElementById('planetPeriod').textContent = planet.period;
            document.getElementById('planetDiameter').textContent = planet.diameter;
            document.getElementById('planetMoons').textContent = planet.moons;
            document.getElementById('planetDesc').textContent = planet.desc;
            document.getElementById('infoPanel').classList.add('visible');
        }

        function closeInfo() {
            document.getElementById('infoPanel').classList.remove('visible');
        }

        animate();
    </script>
</body>
</html>
