<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown ‚Üí Slides</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #f8fafc;
            --panel: #ffffff;
            --border: #e2e8f0;
            --text: #1e293b;
            --text-light: #64748b;
            --primary: #3b82f6;
            --primary-dark: #2563eb;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
        }

        body.dark-theme {
            --bg: #0f172a;
            --panel: #1e293b;
            --border: #334155;
            --text: #f1f5f9;
            --text-light: #94a3b8;
        }

        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto 1fr;
            height: 100vh;
        }

        /* Header */
        header {
            grid-column: 1 / -1;
            background: var(--panel);
            padding: 15px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .btn-secondary {
            background: var(--bg);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--border);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg);
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Editor Panel */
        .editor-panel {
            background: var(--panel);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
        }

        .panel-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .editor-wrapper {
            flex: 1;
            overflow: hidden;
        }

        #markdown-editor {
            width: 100%;
            height: 100%;
            padding: 20px;
            border: none;
            resize: none;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            background: var(--panel);
            color: var(--text);
        }

        #markdown-editor:focus {
            outline: none;
        }

        /* Preview Panel */
        .preview-panel {
            background: var(--bg);
            display: flex;
            flex-direction: column;
        }

        .preview-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px;
            overflow: hidden;
        }

        .slide {
            width: 100%;
            max-width: 800px;
            aspect-ratio: 16 / 9;
            background: var(--panel);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            padding: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: auto;
        }

        .slide h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .slide h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .slide h3 {
            font-size: 1.5rem;
            margin-bottom: 12px;
        }

        .slide p {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 15px;
            color: var(--text);
        }

        .slide ul, .slide ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        .slide li {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .slide code {
            background: var(--bg);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9em;
        }

        .slide pre {
            background: var(--bg);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 15px;
        }

        .slide pre code {
            background: none;
            padding: 0;
        }

        .slide blockquote {
            border-left: 4px solid var(--primary);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: var(--text-light);
        }

        .slide strong {
            color: var(--primary);
        }

        /* Navigation */
        .nav-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: var(--panel);
            border-top: 1px solid var(--border);
        }

        .nav-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--bg);
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .slide-indicator {
            font-size: 1rem;
            color: var(--text-light);
            min-width: 80px;
            text-align: center;
        }

        /* Fullscreen mode */
        .fullscreen-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 50px;
        }

        .fullscreen-overlay.active {
            display: flex;
        }

        .fullscreen-overlay .slide {
            max-width: 1200px;
            max-height: 90vh;
            padding: 60px;
        }

        .fullscreen-overlay .slide h1 {
            font-size: 3.5rem;
        }

        .fullscreen-overlay .slide h2 {
            font-size: 2.5rem;
        }

        .fullscreen-overlay .slide p,
        .fullscreen-overlay .slide li {
            font-size: 1.5rem;
        }

        .fullscreen-nav {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            align-items: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 30px;
        }

        .fullscreen-nav .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
        }

        .fullscreen-nav .nav-btn:hover {
            background: var(--primary);
        }

        .fullscreen-nav .slide-indicator {
            color: white;
        }

        .close-fullscreen {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .close-fullscreen:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 900px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto 1fr auto;
            }

            .editor-panel {
                max-height: 40vh;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }

            .slide {
                padding: 30px;
            }

            .slide h1 {
                font-size: 1.8rem;
            }

            .slide p, .slide li {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="logo">
                <span>üìä</span> Markdown ‚Üí Slides
            </div>
            <div class="header-controls">
                <button class="btn btn-secondary" onclick="loadSample()">Load Sample</button>
                <button class="btn btn-primary" onclick="enterFullscreen()">‚õ∂ Present</button>
                <button class="theme-toggle" onclick="toggleTheme()" id="themeBtn">üåô</button>
            </div>
        </header>

        <div class="editor-panel">
            <div class="panel-header">
                <span class="panel-title">Markdown</span>
                <span style="color: var(--text-light); font-size: 0.85rem;">Use --- for slide breaks</span>
            </div>
            <div class="editor-wrapper">
                <textarea id="markdown-editor" placeholder="Write your markdown here..."></textarea>
            </div>
        </div>

        <div class="preview-panel">
            <div class="panel-header">
                <span class="panel-title">Preview</span>
            </div>
            <div class="preview-container">
                <div class="slide" id="slidePreview"></div>
            </div>
            <div class="nav-controls">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">‚Üê</button>
                <span class="slide-indicator"><span id="currentSlide">1</span> / <span id="totalSlides">1</span></span>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()">‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Fullscreen Overlay -->
    <div class="fullscreen-overlay" id="fullscreenOverlay">
        <button class="close-fullscreen" onclick="exitFullscreen()">√ó</button>
        <div class="slide" id="fullscreenSlide"></div>
        <div class="fullscreen-nav">
            <button class="nav-btn" onclick="prevSlide()">‚Üê</button>
            <span class="slide-indicator"><span id="fsCurrentSlide">1</span> / <span id="fsTotalSlides">1</span></span>
            <button class="nav-btn" onclick="nextSlide()">‚Üí</button>
        </div>
    </div>

    <script>
        let slides = [];
        let currentIndex = 0;
        let isFullscreen = false;

        const editor = document.getElementById('markdown-editor');

        // Sample markdown
        const sampleMarkdown = `# Welcome to Markdown Slides
### Create beautiful presentations from plain text

---

## Why Markdown Slides?

- **Simple**: Write in plain text
- **Fast**: No complex UI to learn
- **Portable**: Works everywhere
- **Version Control**: Track changes easily

---

## How to Use

1. Write your content in Markdown
2. Use \`---\` to separate slides
3. Click **Present** for fullscreen

> Pro tip: Use keyboard arrows to navigate!

---

## Formatting Examples

You can use *italics*, **bold**, and \`inline code\`.

\`\`\`javascript
const greeting = "Hello, World!";
console.log(greeting);
\`\`\`

---

## Key Features

### Live Preview
See changes instantly as you type

### Multiple Themes
Switch between light and dark mode

### Fullscreen Mode
Present directly from your browser

---

# Thank You!

### Questions?

*Press ESC to exit fullscreen*`;

        // Load sample on start
        editor.value = sampleMarkdown;
        parseMarkdown();

        // Parse markdown into slides
        function parseMarkdown() {
            const markdown = editor.value;
            slides = markdown.split(/\n---\n/).map(slide => slide.trim());

            updateSlideCount();
            renderSlide();
        }

        // Simple markdown to HTML converter
        function markdownToHtml(md) {
            let html = md
                // Code blocks
                .replace(/```(\w+)?\n([\s\S]*?)```/g, '<pre><code>$2</code></pre>')
                // Inline code
                .replace(/`([^`]+)`/g, '<code>$1</code>')
                // Headers
                .replace(/^### (.+)$/gm, '<h3>$1</h3>')
                .replace(/^## (.+)$/gm, '<h2>$1</h2>')
                .replace(/^# (.+)$/gm, '<h1>$1</h1>')
                // Bold
                .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>')
                // Italic
                .replace(/\*([^*]+)\*/g, '<em>$1</em>')
                // Blockquote
                .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
                // Unordered list
                .replace(/^- (.+)$/gm, '<li>$1</li>')
                // Ordered list
                .replace(/^\d+\. (.+)$/gm, '<li>$1</li>')
                // Paragraphs
                .replace(/^(?!<[huplbo]|<li|<code|<pre)(.+)$/gm, '<p>$1</p>');

            // Wrap consecutive list items
            html = html.replace(/(<li>.*?<\/li>\n?)+/g, match => {
                return '<ul>' + match + '</ul>';
            });

            // Clean up empty paragraphs
            html = html.replace(/<p><\/p>/g, '');

            return html;
        }

        // Render current slide
        function renderSlide() {
            if (slides.length === 0) return;

            const html = markdownToHtml(slides[currentIndex]);
            document.getElementById('slidePreview').innerHTML = html;
            document.getElementById('fullscreenSlide').innerHTML = html;

            updateNavigation();
        }

        // Update slide count
        function updateSlideCount() {
            document.getElementById('totalSlides').textContent = slides.length;
            document.getElementById('fsTotalSlides').textContent = slides.length;
        }

        // Update navigation
        function updateNavigation() {
            document.getElementById('currentSlide').textContent = currentIndex + 1;
            document.getElementById('fsCurrentSlide').textContent = currentIndex + 1;

            document.getElementById('prevBtn').disabled = currentIndex === 0;
            document.getElementById('nextBtn').disabled = currentIndex === slides.length - 1;
        }

        // Navigation
        function nextSlide() {
            if (currentIndex < slides.length - 1) {
                currentIndex++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentIndex > 0) {
                currentIndex--;
                renderSlide();
            }
        }

        // Fullscreen
        function enterFullscreen() {
            isFullscreen = true;
            document.getElementById('fullscreenOverlay').classList.add('active');
            renderSlide();
        }

        function exitFullscreen() {
            isFullscreen = false;
            document.getElementById('fullscreenOverlay').classList.remove('active');
        }

        // Theme toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const btn = document.getElementById('themeBtn');
            btn.textContent = document.body.classList.contains('dark-theme') ? '‚òÄÔ∏è' : 'üåô';
        }

        // Load sample
        function loadSample() {
            editor.value = sampleMarkdown;
            currentIndex = 0;
            parseMarkdown();
        }

        // Event listeners
        editor.addEventListener('input', () => {
            parseMarkdown();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.target === editor) return;

            switch (e.key) {
                case 'ArrowRight':
                case 'ArrowDown':
                case ' ':
                    e.preventDefault();
                    nextSlide();
                    break;
                case 'ArrowLeft':
                case 'ArrowUp':
                    e.preventDefault();
                    prevSlide();
                    break;
                case 'Escape':
                    exitFullscreen();
                    break;
                case 'f':
                case 'F':
                    if (!isFullscreen) enterFullscreen();
                    break;
            }
        });
    </script>
</body>
</html>
