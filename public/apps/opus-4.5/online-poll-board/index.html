<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Poll Board</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #fef9f3 0%, #fdf2f8 50%, #f0f9ff 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: #64748b;
            font-size: 1.1rem;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            padding: 0.75rem 1.25rem;
            border-radius: 50px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .stat-icon {
            font-size: 1.25rem;
        }

        .stat-value {
            font-weight: 700;
            color: #1e293b;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.875rem;
        }

        .polls-grid {
            display: grid;
            gap: 1.5rem;
        }

        .poll-card {
            background: white;
            border-radius: 20px;
            padding: 1.75rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .poll-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
        }

        .poll-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.25rem;
        }

        .poll-category {
            display: inline-block;
            padding: 0.35rem 0.85rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .category-tech { background: #dbeafe; color: #1d4ed8; }
        .category-food { background: #fef3c7; color: #b45309; }
        .category-lifestyle { background: #d1fae5; color: #047857; }
        .category-entertainment { background: #fce7f3; color: #be185d; }
        .category-sports { background: #e0e7ff; color: #4338ca; }

        .poll-votes {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            color: #64748b;
            font-size: 0.875rem;
        }

        .poll-question {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1.25rem;
            line-height: 1.4;
        }

        .poll-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .poll-option {
            position: relative;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 1rem 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
            background: white;
        }

        .poll-option:hover:not(.voted):not(.disabled) {
            border-color: #6366f1;
            background: #faf5ff;
        }

        .poll-option.selected {
            border-color: #6366f1;
            background: #f5f3ff;
        }

        .poll-option.disabled {
            cursor: default;
        }

        .option-progress {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            border-radius: 10px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 0;
        }

        .option-content {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .option-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .option-radio {
            width: 22px;
            height: 22px;
            border: 2px solid #cbd5e1;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .poll-option.selected .option-radio {
            border-color: #6366f1;
            background: #6366f1;
        }

        .option-radio-inner {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
            transform: scale(0);
            transition: transform 0.2s ease;
        }

        .poll-option.selected .option-radio-inner {
            transform: scale(1);
        }

        .option-text {
            font-weight: 500;
            color: #334155;
        }

        .option-stats {
            display: flex;
            align-items: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .poll-option.voted .option-stats {
            opacity: 1;
        }

        .option-percentage {
            font-weight: 700;
            color: #1e293b;
            min-width: 50px;
            text-align: right;
        }

        .option-votes {
            font-size: 0.875rem;
            color: #64748b;
        }

        .poll-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.25rem;
            padding-top: 1rem;
            border-top: 1px solid #f1f5f9;
        }

        .poll-time {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            color: #94a3b8;
            font-size: 0.875rem;
        }

        .share-btn {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.5rem 1rem;
            border: none;
            background: #f1f5f9;
            color: #64748b;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .share-btn:hover {
            background: #e2e8f0;
            color: #475569;
        }

        /* Vote animation */
        .vote-celebration {
            position: fixed;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 2px;
            animation: confetti-fall 1s ease-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(200px) rotate(720deg);
                opacity: 0;
            }
        }

        /* Count animation */
        .count-animate {
            display: inline-block;
            animation: count-pop 0.3s ease;
        }

        @keyframes count-pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1e293b;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 500;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast-content {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        /* Responsive */
        @media (max-width: 640px) {
            h1 {
                font-size: 1.875rem;
            }

            .poll-card {
                padding: 1.25rem;
            }

            .poll-question {
                font-size: 1.1rem;
            }

            .stats-bar {
                gap: 1rem;
            }

            .stat-item {
                padding: 0.5rem 1rem;
            }
        }

        /* Pulse animation for new votes */
        @keyframes pulse-ring {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .live-dot {
            position: relative;
            width: 10px;
            height: 10px;
            background: #10b981;
            border-radius: 50%;
        }

        .live-dot::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: #10b981;
            border-radius: 50%;
            animation: pulse-ring 1.5s infinite;
        }

        .winner-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            padding: 0.25rem 0.6rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üó≥Ô∏è Online Poll Board</h1>
            <p class="subtitle">Voice your opinion on trending topics</p>
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-icon">üìä</span>
                    <span class="stat-value" id="total-polls">6</span>
                    <span class="stat-label">Active Polls</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üë•</span>
                    <span class="stat-value" id="total-votes">0</span>
                    <span class="stat-label">Total Votes</span>
                </div>
                <div class="stat-item live-indicator">
                    <span class="live-dot"></span>
                    <span class="stat-label">Live Updates</span>
                </div>
            </div>
        </header>

        <main class="polls-grid" id="polls-container">
            <!-- Polls will be rendered here -->
        </main>
    </div>

    <div class="toast" id="toast">
        <div class="toast-content">
            <span>‚úÖ</span>
            <span id="toast-message">Vote recorded!</span>
        </div>
    </div>

    <script>
        // Poll data
        const pollsData = [
            {
                id: 1,
                category: 'tech',
                question: 'Which AI assistant do you find most helpful?',
                options: [
                    { id: 'a', text: 'ChatGPT', votes: 1842 },
                    { id: 'b', text: 'Claude', votes: 2156 },
                    { id: 'c', text: 'Gemini', votes: 987 },
                    { id: 'd', text: 'Copilot', votes: 654 }
                ],
                totalVotes: 5639,
                createdAt: '2 hours ago',
                userVoted: null
            },
            {
                id: 2,
                category: 'food',
                question: 'What\'s your go-to comfort food?',
                options: [
                    { id: 'a', text: 'Pizza üçï', votes: 3421 },
                    { id: 'b', text: 'Burgers üçî', votes: 2876 },
                    { id: 'c', text: 'Sushi üç£', votes: 1654 },
                    { id: 'd', text: 'Tacos üåÆ', votes: 2103 }
                ],
                totalVotes: 10054,
                createdAt: '5 hours ago',
                userVoted: null
            },
            {
                id: 3,
                category: 'lifestyle',
                question: 'Preferred work environment?',
                options: [
                    { id: 'a', text: 'Fully Remote', votes: 4532 },
                    { id: 'b', text: 'Hybrid', votes: 3876 },
                    { id: 'c', text: 'Office Only', votes: 892 }
                ],
                totalVotes: 9300,
                createdAt: '1 day ago',
                userVoted: null
            },
            {
                id: 4,
                category: 'entertainment',
                question: 'Best streaming platform in 2025?',
                options: [
                    { id: 'a', text: 'Netflix', votes: 2987 },
                    { id: 'b', text: 'Disney+', votes: 1543 },
                    { id: 'c', text: 'HBO Max', votes: 2108 },
                    { id: 'd', text: 'Prime Video', votes: 1876 }
                ],
                totalVotes: 8514,
                createdAt: '3 days ago',
                userVoted: null
            },
            {
                id: 5,
                category: 'sports',
                question: 'Most exciting sport to watch?',
                options: [
                    { id: 'a', text: 'Football ‚öΩ', votes: 5432 },
                    { id: 'b', text: 'Basketball üèÄ', votes: 3987 },
                    { id: 'c', text: 'Tennis üéæ', votes: 1654 },
                    { id: 'd', text: 'F1 Racing üèéÔ∏è', votes: 2876 }
                ],
                totalVotes: 13949,
                createdAt: '1 week ago',
                userVoted: null
            },
            {
                id: 6,
                category: 'tech',
                question: 'Which programming language should beginners learn first?',
                options: [
                    { id: 'a', text: 'Python', votes: 4521 },
                    { id: 'b', text: 'JavaScript', votes: 3287 },
                    { id: 'c', text: 'Java', votes: 1543 },
                    { id: 'd', text: 'Rust', votes: 876 }
                ],
                totalVotes: 10227,
                createdAt: '4 days ago',
                userVoted: null
            }
        ];

        // Calculate total votes across all polls
        function calculateTotalVotes() {
            return pollsData.reduce((sum, poll) => sum + poll.totalVotes, 0);
        }

        // Update total votes display with animation
        function updateTotalVotesDisplay() {
            const totalVotesEl = document.getElementById('total-votes');
            const total = calculateTotalVotes();
            animateNumber(totalVotesEl, total);
        }

        // Animate number counting
        function animateNumber(element, target) {
            const current = parseInt(element.textContent.replace(/,/g, '')) || 0;
            const duration = 500;
            const steps = 20;
            const increment = (target - current) / steps;
            let step = 0;

            const timer = setInterval(() => {
                step++;
                const value = Math.round(current + increment * step);
                element.textContent = value.toLocaleString();
                element.classList.add('count-animate');

                setTimeout(() => element.classList.remove('count-animate'), 150);

                if (step >= steps) {
                    clearInterval(timer);
                    element.textContent = target.toLocaleString();
                }
            }, duration / steps);
        }

        // Get progress bar color based on ranking
        function getProgressColor(percentage, isWinner) {
            if (isWinner) {
                return 'linear-gradient(90deg, rgba(99, 102, 241, 0.25) 0%, rgba(168, 85, 247, 0.25) 100%)';
            }
            return 'rgba(226, 232, 240, 0.6)';
        }

        // Render a single poll
        function renderPoll(poll) {
            const maxVotes = Math.max(...poll.options.map(o => o.votes));

            const optionsHTML = poll.options.map(option => {
                const percentage = poll.totalVotes > 0 ? (option.votes / poll.totalVotes * 100).toFixed(1) : 0;
                const isWinner = option.votes === maxVotes && poll.userVoted;
                const isSelected = poll.userVoted === option.id;
                const progressColor = getProgressColor(percentage, isWinner);

                return `
                    <div class="poll-option ${poll.userVoted ? 'voted disabled' : ''} ${isSelected ? 'selected' : ''}"
                         data-poll-id="${poll.id}"
                         data-option-id="${option.id}">
                        <div class="option-progress" style="width: ${poll.userVoted ? percentage : 0}%; background: ${progressColor};"></div>
                        <div class="option-content">
                            <div class="option-left">
                                <div class="option-radio">
                                    <div class="option-radio-inner"></div>
                                </div>
                                <span class="option-text">
                                    ${option.text}
                                    ${isWinner ? '<span class="winner-badge">üëë Leading</span>' : ''}
                                </span>
                            </div>
                            <div class="option-stats">
                                <span class="option-votes">${option.votes.toLocaleString()} votes</span>
                                <span class="option-percentage">${percentage}%</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            return `
                <article class="poll-card" data-poll-id="${poll.id}">
                    <div class="poll-header">
                        <span class="poll-category category-${poll.category}">${poll.category}</span>
                        <div class="poll-votes">
                            <span>üë•</span>
                            <span class="poll-vote-count">${poll.totalVotes.toLocaleString()}</span> votes
                        </div>
                    </div>
                    <h2 class="poll-question">${poll.question}</h2>
                    <div class="poll-options">
                        ${optionsHTML}
                    </div>
                    <div class="poll-footer">
                        <div class="poll-time">
                            <span>üïê</span>
                            <span>${poll.createdAt}</span>
                        </div>
                        <button class="share-btn" onclick="sharePoll(${poll.id})">
                            <span>üì§</span>
                            Share
                        </button>
                    </div>
                </article>
            `;
        }

        // Render all polls
        function renderPolls() {
            const container = document.getElementById('polls-container');
            container.innerHTML = pollsData.map(renderPoll).join('');
            updateTotalVotesDisplay();
            attachEventListeners();
        }

        // Attach click listeners to options
        function attachEventListeners() {
            document.querySelectorAll('.poll-option:not(.voted)').forEach(option => {
                option.addEventListener('click', handleVote);
            });
        }

        // Handle voting
        function handleVote(event) {
            const optionEl = event.currentTarget;
            const pollId = parseInt(optionEl.dataset.pollId);
            const optionId = optionEl.dataset.optionId;

            const poll = pollsData.find(p => p.id === pollId);
            if (!poll || poll.userVoted) return;

            // Update data
            poll.userVoted = optionId;
            const selectedOption = poll.options.find(o => o.id === optionId);
            selectedOption.votes++;
            poll.totalVotes++;

            // Trigger confetti
            createConfetti(optionEl);

            // Re-render the poll card
            const pollCard = document.querySelector(`.poll-card[data-poll-id="${pollId}"]`);
            pollCard.outerHTML = renderPoll(poll);

            // Animate progress bars
            setTimeout(() => {
                const newPollCard = document.querySelector(`.poll-card[data-poll-id="${pollId}"]`);
                newPollCard.querySelectorAll('.option-progress').forEach(progress => {
                    progress.style.width = progress.style.width; // Trigger reflow
                });
            }, 50);

            // Update total votes
            updateTotalVotesDisplay();

            // Show toast
            showToast('Thanks for voting! üéâ');

            // Reattach listeners
            attachEventListeners();
        }

        // Create confetti effect
        function createConfetti(element) {
            const rect = element.getBoundingClientRect();
            const celebration = document.createElement('div');
            celebration.className = 'vote-celebration';
            celebration.style.left = rect.left + rect.width / 2 + 'px';
            celebration.style.top = rect.top + 'px';
            document.body.appendChild(celebration);

            const colors = ['#6366f1', '#ec4899', '#10b981', '#f59e0b', '#8b5cf6'];

            for (let i = 0; i < 15; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = (Math.random() - 0.5) * 100 + 'px';
                confetti.style.animationDelay = Math.random() * 0.3 + 's';
                confetti.style.animationDuration = (0.8 + Math.random() * 0.4) + 's';
                celebration.appendChild(confetti);
            }

            setTimeout(() => celebration.remove(), 1500);
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            toastMessage.textContent = message;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Share poll (mock)
        function sharePoll(pollId) {
            const poll = pollsData.find(p => p.id === pollId);
            if (poll) {
                // In a real app, this would use the Web Share API or copy to clipboard
                showToast('Link copied to clipboard! üìã');
            }
        }

        // Simulate live votes from other users
        function simulateLiveVotes() {
            setInterval(() => {
                const randomPoll = pollsData[Math.floor(Math.random() * pollsData.length)];
                const randomOption = randomPoll.options[Math.floor(Math.random() * randomPoll.options.length)];

                randomOption.votes += Math.floor(Math.random() * 3) + 1;
                randomPoll.totalVotes = randomPoll.options.reduce((sum, o) => sum + o.votes, 0);

                // Update the vote count in the UI if the poll is visible
                const pollCard = document.querySelector(`.poll-card[data-poll-id="${randomPoll.id}"]`);
                if (pollCard) {
                    const voteCountEl = pollCard.querySelector('.poll-vote-count');
                    if (voteCountEl) {
                        voteCountEl.textContent = randomPoll.totalVotes.toLocaleString();
                        voteCountEl.classList.add('count-animate');
                        setTimeout(() => voteCountEl.classList.remove('count-animate'), 150);
                    }

                    // If user has voted, update the percentages
                    if (randomPoll.userVoted) {
                        randomPoll.options.forEach(option => {
                            const percentage = (option.votes / randomPoll.totalVotes * 100).toFixed(1);
                            const optionEl = pollCard.querySelector(`.poll-option[data-option-id="${option.id}"]`);
                            if (optionEl) {
                                const percentageEl = optionEl.querySelector('.option-percentage');
                                const votesEl = optionEl.querySelector('.option-votes');
                                const progressEl = optionEl.querySelector('.option-progress');

                                if (percentageEl) percentageEl.textContent = percentage + '%';
                                if (votesEl) votesEl.textContent = option.votes.toLocaleString() + ' votes';
                                if (progressEl) progressEl.style.width = percentage + '%';
                            }
                        });
                    }
                }

                updateTotalVotesDisplay();
            }, 3000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderPolls();
            simulateLiveVotes();
        });
    </script>
</body>
</html>