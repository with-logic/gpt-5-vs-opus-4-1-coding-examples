<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Holiday Card for Kids! ‚ùÑÔ∏èüéÖ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden;
            position: relative;
            height: 100vh;
            background: linear-gradient(180deg, #0a1929 0%, #1e3a5f 50%, #2e5a8e 100%);
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><text y="24" font-size="24">‚ùÑÔ∏è</text></svg>'), auto;
        }

        .scene {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* Snow Animation */
        .snowflake {
            position: absolute;
            color: #fff;
            user-select: none;
            pointer-events: none;
            animation: fall linear infinite;
            filter: blur(0.5px);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        @keyframes fall {
            from {
                transform: translateY(-100vh) rotate(0deg);
            }
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Ground */
        .ground {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(180deg, #ffffff 0%, #e8f4ff 100%);
            border-radius: 50% 50% 0 0 / 20px 20px 0 0;
            box-shadow: inset 0 5px 20px rgba(0, 50, 100, 0.1);
        }

        /* Title */
        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 100;
        }

        .title h1 {
            font-size: 3em;
            color: #fff;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5), 0 0 30px rgba(255, 255, 255, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #ffe66d);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes glow {
            from { filter: brightness(1); }
            to { filter: brightness(1.3); }
        }

        .subtitle {
            color: #ffe66d;
            font-size: 1.5em;
            margin-top: 10px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
            animation: bounce 2s ease infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Draggable Items Container */
        .items-container {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
            z-index: 50;
        }

        .draggable-item {
            font-size: 3em;
            cursor: grab;
            transition: transform 0.2s;
            animation: wiggle 3s ease-in-out infinite;
            filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
        }

        .draggable-item:hover {
            transform: scale(1.2) rotate(5deg);
        }

        .draggable-item.dragging {
            cursor: grabbing;
            animation: none;
            transform: scale(1.3);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.5));
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-3deg); }
            50% { transform: rotate(3deg); }
        }

        /* Placed Items */
        .placed-item {
            position: absolute;
            font-size: 3em;
            cursor: grab;
            transition: transform 0.2s;
            filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
        }

        .placed-item:hover {
            transform: scale(1.1) rotate(10deg);
        }

        .placed-item.dragging {
            cursor: grabbing;
            transform: scale(1.2);
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.5));
        }

        /* Christmas Tree */
        .tree {
            position: absolute;
            bottom: 100px;
            left: 10%;
            font-size: 8em;
            animation: sway 4s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.5));
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        /* Sparkles */
        .sparkle {
            position: absolute;
            color: #ffe66d;
            animation: sparkle 1.5s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes sparkle {
            0%, 100% {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
        }

        /* Sound Button */
        .sound-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 2.5em;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
        }

        .sound-btn:hover {
            transform: scale(1.1) rotate(20deg);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .sound-btn:active {
            transform: scale(0.95);
        }

        /* Stars */
        .star {
            position: absolute;
            color: #ffe66d;
            animation: twinkle 3s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Floating Hearts */
        .heart {
            position: absolute;
            color: #ff6b6b;
            font-size: 2em;
            animation: float-up 4s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float-up {
            0% {
                opacity: 0;
                transform: translateY(0) scale(0);
            }
            50% {
                opacity: 1;
                transform: translateY(-50px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }

        /* Message Box */
        .message-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            z-index: 30;
        }

        .message-box h2 {
            color: #ff6b6b;
            font-size: 2.5em;
            margin-bottom: 15px;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .message-box p {
            color: #2e5a8e;
            font-size: 1.3em;
            line-height: 1.6;
        }

        /* Clouds */
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 100px;
            opacity: 0.7;
        }

        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 100px;
        }

        .cloud1 {
            width: 100px;
            height: 40px;
            top: 20%;
            animation: drift 20s infinite;
        }

        .cloud1::before {
            width: 50px;
            height: 50px;
            top: -25px;
            left: 10px;
        }

        .cloud1::after {
            width: 60px;
            height: 40px;
            top: -15px;
            right: 10px;
        }

        @keyframes drift {
            from { left: -100px; }
            to { left: 100%; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .title h1 { font-size: 2em; }
            .subtitle { font-size: 1.2em; }
            .items-container {
                gap: 10px;
                padding: 10px;
            }
            .draggable-item { font-size: 2.5em; }
            .message-box h2 { font-size: 2em; }
            .message-box p { font-size: 1.1em; }
        }
    </style>
</head>
<body>
    <div class="scene" id="scene">
        <!-- Clouds -->
        <div class="cloud cloud1"></div>

        <!-- Title -->
        <div class="title">
            <h1>Happy Holidays!</h1>
            <div class="subtitle">Drag and drop to decorate! üéÑ</div>
        </div>

        <!-- Sound Button -->
        <button class="sound-btn" id="soundBtn" onclick="playSound()">üîî</button>

        <!-- Message Box -->
        <div class="message-box">
            <h2>üéÖ Merry Christmas! üéÅ</h2>
            <p>May your holidays be filled with<br>
               ‚ú® Magic ‚ú® Joy ‚ú® Love ‚ú®<br>
               and lots of fun!</p>
        </div>

        <!-- Christmas Tree -->
        <div class="tree">üéÑ</div>

        <!-- Pre-placed decorative items -->
        <div class="placed-item" style="top: 30%; left: 70%;" data-sound="star">‚≠ê</div>
        <div class="placed-item" style="top: 40%; right: 10%;" data-sound="gift">üéÅ</div>
        <div class="placed-item" style="bottom: 180px; left: 30%;" data-sound="snowman">‚õÑ</div>
        <div class="placed-item" style="top: 25%; left: 5%;" data-sound="santa">üéÖ</div>
        <div class="placed-item" style="bottom: 200px; right: 20%;" data-sound="reindeer">ü¶å</div>

        <!-- Ground -->
        <div class="ground"></div>

        <!-- Items Container -->
        <div class="items-container">
            <div class="draggable-item" draggable="true" data-emoji="üéÖ" data-sound="santa">üéÖ</div>
            <div class="draggable-item" draggable="true" data-emoji="üéÅ" data-sound="gift">üéÅ</div>
            <div class="draggable-item" draggable="true" data-emoji="‚õÑ" data-sound="snowman">‚õÑ</div>
            <div class="draggable-item" draggable="true" data-emoji="ü¶å" data-sound="reindeer">ü¶å</div>
            <div class="draggable-item" draggable="true" data-emoji="üç™" data-sound="cookie">üç™</div>
            <div class="draggable-item" draggable="true" data-emoji="üéÑ" data-sound="tree">üéÑ</div>
            <div class="draggable-item" draggable="true" data-emoji="‚≠ê" data-sound="star">‚≠ê</div>
            <div class="draggable-item" draggable="true" data-emoji="üîî" data-sound="bell">üîî</div>
            <div class="draggable-item" draggable="true" data-emoji="üïØÔ∏è" data-sound="candle">üïØÔ∏è</div>
            <div class="draggable-item" draggable="true" data-emoji="üß∏" data-sound="teddy">üß∏</div>
            <div class="draggable-item" draggable="true" data-emoji="üç≠" data-sound="candy">üç≠</div>
            <div class="draggable-item" draggable="true" data-emoji="üéà" data-sound="balloon">üéà</div>
        </div>
    </div>

    <script>
        // Sound effects using Web Audio API
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        const sounds = {
            santa: { frequency: 500, duration: 300, type: 'sine' },
            gift: { frequency: 800, duration: 200, type: 'square' },
            snowman: { frequency: 400, duration: 400, type: 'triangle' },
            reindeer: { frequency: 600, duration: 250, type: 'sawtooth' },
            cookie: { frequency: 1000, duration: 150, type: 'sine' },
            tree: { frequency: 300, duration: 500, type: 'triangle' },
            star: { frequency: 1200, duration: 300, type: 'sine' },
            bell: { frequency: 900, duration: 400, type: 'sine' },
            candle: { frequency: 350, duration: 600, type: 'triangle' },
            teddy: { frequency: 450, duration: 350, type: 'square' },
            candy: { frequency: 1100, duration: 200, type: 'sine' },
            balloon: { frequency: 700, duration: 300, type: 'sawtooth' }
        };

        function playSoundEffect(soundType) {
            if (!sounds[soundType]) return;

            const sound = sounds[soundType];
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            oscillator.type = sound.type;
            oscillator.frequency.setValueAtTime(sound.frequency, audioContext.currentTime);

            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + sound.duration / 1000);

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + sound.duration / 1000);

            // Add visual feedback
            createSparkle(event.clientX, event.clientY);
        }

        function playSound() {
            // Play a cheerful jingle
            const notes = [523, 659, 784, 659, 523, 523, 523];
            const duration = 200;

            notes.forEach((freq, index) => {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.type = 'sine';
                    oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);

                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.2);
                }, index * duration);
            });

            // Animate button
            document.getElementById('soundBtn').style.animation = 'none';
            setTimeout(() => {
                document.getElementById('soundBtn').style.animation = 'bounce 0.5s ease';
            }, 10);
        }

        // Snowfall effect
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            snowflake.innerHTML = ['‚ùÑ', '‚ùÖ', '‚ùÜ'][Math.floor(Math.random() * 3)];
            snowflake.style.left = Math.random() * 100 + '%';
            snowflake.style.fontSize = (Math.random() * 20 + 10) + 'px';
            snowflake.style.animationDuration = (Math.random() * 10 + 5) + 's';
            snowflake.style.animationDelay = Math.random() * 5 + 's';
            document.querySelector('.scene').appendChild(snowflake);

            setTimeout(() => snowflake.remove(), 15000);
        }

        // Create initial snowflakes
        for (let i = 0; i < 30; i++) {
            setTimeout(createSnowflake, i * 300);
        }
        setInterval(createSnowflake, 500);

        // Create stars
        function createStars() {
            for (let i = 0; i < 20; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.innerHTML = '‚ú®';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 50 + '%';
                star.style.fontSize = (Math.random() * 20 + 10) + 'px';
                star.style.animationDelay = Math.random() * 3 + 's';
                document.querySelector('.scene').appendChild(star);
            }
        }
        createStars();

        // Sparkle effect
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.innerHTML = '‚ú®';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = '30px';
            document.querySelector('.scene').appendChild(sparkle);

            setTimeout(() => sparkle.remove(), 1500);
        }

        // Heart effect on click
        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            heart.style.animationDelay = '0s';
            document.querySelector('.scene').appendChild(heart);

            setTimeout(() => heart.remove(), 4000);
        }

        // Click effect
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('scene') || e.target.classList.contains('ground')) {
                createHeart(e.clientX - 15, e.clientY - 15);
            }
        });

        // Drag and Drop functionality
        let draggedElement = null;
        let draggedClone = null;
        let offsetX = 0;
        let offsetY = 0;

        // Handle draggable items from container
        document.querySelectorAll('.draggable-item').forEach(item => {
            item.addEventListener('dragstart', handleDragStart);
            item.addEventListener('dragend', handleDragEnd);
        });

        // Handle placed items
        document.querySelectorAll('.placed-item').forEach(item => {
            item.draggable = true;
            item.addEventListener('dragstart', handleDragStart);
            item.addEventListener('dragend', handleDragEnd);
            item.addEventListener('click', (e) => {
                e.stopPropagation();
                const soundType = item.dataset.sound;
                if (soundType) {
                    playSoundEffect(soundType);
                }
            });
        });

        function handleDragStart(e) {
            draggedElement = e.target;
            draggedElement.classList.add('dragging');

            const rect = draggedElement.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;

            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', e.target.innerHTML);
        }

        function handleDragEnd(e) {
            if (draggedElement) {
                draggedElement.classList.remove('dragging');
            }
            draggedElement = null;
            draggedClone = null;
        }

        // Allow drop on scene
        document.querySelector('.scene').addEventListener('dragover', (e) => {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        });

        document.querySelector('.scene').addEventListener('drop', (e) => {
            e.preventDefault();

            if (!draggedElement) return;

            const x = e.clientX - offsetX;
            const y = e.clientY - offsetY;

            // Check if it's from the container (needs cloning) or already placed (just move)
            if (draggedElement.classList.contains('draggable-item')) {
                // Create a new placed item
                const newItem = document.createElement('div');
                newItem.className = 'placed-item';
                newItem.innerHTML = draggedElement.dataset.emoji;
                newItem.dataset.sound = draggedElement.dataset.sound;
                newItem.style.left = x + 'px';
                newItem.style.top = y + 'px';
                newItem.draggable = true;

                newItem.addEventListener('dragstart', handleDragStart);
                newItem.addEventListener('dragend', handleDragEnd);
                newItem.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const soundType = newItem.dataset.sound;
                    if (soundType) {
                        playSoundEffect(soundType);
                    }
                });

                document.querySelector('.scene').appendChild(newItem);

                // Play sound effect
                if (newItem.dataset.sound) {
                    playSoundEffect(newItem.dataset.sound);
                }

                // Add animation
                newItem.style.animation = 'bounce 0.5s ease';
                setTimeout(() => {
                    newItem.style.animation = '';
                }, 500);
            } else if (draggedElement.classList.contains('placed-item')) {
                // Just move the existing item
                draggedElement.style.left = x + 'px';
                draggedElement.style.top = y + 'px';

                // Play sound effect
                if (draggedElement.dataset.sound) {
                    playSoundEffect(draggedElement.dataset.sound);
                }
            }

            // Create sparkles at drop location
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    createSparkle(
                        e.clientX + (Math.random() - 0.5) * 50,
                        e.clientY + (Math.random() - 0.5) * 50
                    );
                }, i * 100);
            }
        });

        // Touch support for mobile
        let touchItem = null;
        let touchOffset = { x: 0, y: 0 };

        function handleTouchStart(e) {
            const touch = e.touches[0];
            touchItem = e.target;

            const rect = touchItem.getBoundingClientRect();
            touchOffset.x = touch.clientX - rect.left;
            touchOffset.y = touch.clientY - rect.top;

            touchItem.style.position = 'fixed';
            touchItem.style.zIndex = '1000';
            touchItem.classList.add('dragging');
        }

        function handleTouchMove(e) {
            if (!touchItem) return;
            e.preventDefault();

            const touch = e.touches[0];
            touchItem.style.left = (touch.clientX - touchOffset.x) + 'px';
            touchItem.style.top = (touch.clientY - touchOffset.y) + 'px';
        }

        function handleTouchEnd(e) {
            if (!touchItem) return;

            touchItem.classList.remove('dragging');

            const touch = e.changedTouches[0];
            const x = touch.clientX - touchOffset.x;
            const y = touch.clientY - touchOffset.y;

            if (touchItem.classList.contains('draggable-item')) {
                // Create new placed item
                const newItem = document.createElement('div');
                newItem.className = 'placed-item';
                newItem.innerHTML = touchItem.dataset.emoji;
                newItem.dataset.sound = touchItem.dataset.sound;
                newItem.style.position = 'absolute';
                newItem.style.left = x + 'px';
                newItem.style.top = y + 'px';

                newItem.addEventListener('touchstart', handleTouchStart, { passive: false });
                newItem.addEventListener('touchmove', handleTouchMove, { passive: false });
                newItem.addEventListener('touchend', handleTouchEnd);

                document.querySelector('.scene').appendChild(newItem);

                // Reset original item
                touchItem.style.position = '';
                touchItem.style.zIndex = '';
                touchItem.style.left = '';
                touchItem.style.top = '';

                // Play sound
                if (newItem.dataset.sound) {
                    playSoundEffect(newItem.dataset.sound);
                }
            } else {
                // Just update position for placed items
                touchItem.style.position = 'absolute';
                touchItem.style.left = x + 'px';
                touchItem.style.top = y + 'px';
                touchItem.style.zIndex = '';

                // Play sound
                if (touchItem.dataset.sound) {
                    playSoundEffect(touchItem.dataset.sound);
                }
            }

            // Create sparkles
            createSparkle(touch.clientX, touch.clientY);

            touchItem = null;
        }

        // Add touch listeners to all draggable items
        document.querySelectorAll('.draggable-item, .placed-item').forEach(item => {
            item.addEventListener('touchstart', handleTouchStart, { passive: false });
            item.addEventListener('touchmove', handleTouchMove, { passive: false });
            item.addEventListener('touchend', handleTouchEnd);
        });

        // Periodic animations
        setInterval(() => {
            // Random sparkles
            if (Math.random() > 0.7) {
                createSparkle(
                    Math.random() * window.innerWidth,
                    Math.random() * window.innerHeight
                );
            }

            // Random hearts
            if (Math.random() > 0.9) {
                createHeart(
                    Math.random() * window.innerWidth,
                    window.innerHeight - 100
                );
            }
        }, 2000);

        // Initialize audio context on first user interaction
        document.addEventListener('click', () => {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }, { once: true });
    </script>
</body>
</html>