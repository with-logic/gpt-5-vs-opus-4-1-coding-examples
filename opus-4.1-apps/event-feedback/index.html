<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Feedback Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .ai-summary {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: #f0f0f0;
            color: #333;
        }

        .ai-summary h2 {
            color: #4f46e5;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ai-icon {
            font-size: 1.5rem;
        }

        .summary-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .summary-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4f46e5;
        }

        .summary-card h3 {
            color: #4f46e5;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .summary-card p {
            line-height: 1.6;
            color: #555;
        }

        .controls {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-container {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: #4f46e5;
        }

        .search-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .table-container {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .table-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #f8f9fa;
            padding: 20px 15px;
            text-align: left;
            font-weight: 600;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
            cursor: pointer;
            transition: background-color 0.2s;
            position: relative;
            user-select: none;
        }

        th:hover {
            background: #e5e7eb;
        }

        th.sortable::after {
            content: '‚ÜïÔ∏è';
            position: absolute;
            right: 10px;
            opacity: 0.5;
        }

        th.sort-asc::after {
            content: '‚Üë';
            opacity: 1;
            color: #4f46e5;
        }

        th.sort-desc::after {
            content: '‚Üì';
            opacity: 1;
            color: #4f46e5;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
        }

        tr:hover {
            background: #f9fafb;
        }

        .date-cell {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .event-name {
            font-weight: 600;
            color: #1f2937;
        }

        .participant-name {
            color: #4f46e5;
            font-weight: 500;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stars {
            color: #fbbf24;
        }

        .rating-number {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .feedback-text {
            max-width: 400px;
            line-height: 1.4;
            color: #374151;
        }

        .feedback-long {
            position: relative;
            max-height: 60px;
            overflow: hidden;
        }

        .feedback-long::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: linear-gradient(transparent, white);
        }

        .expand-btn {
            color: #4f46e5;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 5px;
            text-decoration: underline;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #4f46e5;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-container {
                min-width: 100%;
            }
            
            .summary-content {
                grid-template-columns: 1fr;
            }
            
            .ai-summary {
                padding: 20px;
            }
            
            th, td {
                padding: 10px 8px;
                font-size: 0.9rem;
            }
            
            .feedback-text {
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Event Feedback Dashboard</h1>
            <p>Analyze participant feedback and insights</p>
        </div>

        <div class="ai-summary" id="aiSummary">
            <button class="close-btn" onclick="closeAISummary()">&times;</button>
            <h2><span class="ai-icon">ü§ñ</span> AI Summary</h2>
            <div class="summary-content">
                <div class="summary-card">
                    <h3>Overall Sentiment</h3>
                    <p>Based on 30 feedback submissions, the overall sentiment is <strong>positive</strong> with an average rating of 4.2/5. Participants particularly appreciated the networking opportunities and content quality.</p>
                </div>
                <div class="summary-card">
                    <h3>Top Themes</h3>
                    <p><strong>Positive:</strong> Great speakers, valuable content, good organization<br><strong>Areas for improvement:</strong> Venue size, catering variety, session timing</p>
                </div>
                <div class="summary-card">
                    <h3>Key Insights</h3>
                    <p>Tech conferences show highest satisfaction (4.6/5), while workshop events need improvement (3.8/5). Consider extending networking sessions and improving audiovisual setup.</p>
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalFeedback">30</div>
                <div class="stat-label">Total Feedback</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="averageRating">4.2</div>
                <div class="stat-label">Average Rating</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="responseRate">87%</div>
                <div class="stat-label">Response Rate</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="positiveRating">83%</div>
                <div class="stat-label">Positive (4-5 ‚≠ê)</div>
            </div>
        </div>

        <div class="controls">
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search by participant name, event, or feedback...">
                <span class="search-icon">üîç</span>
            </div>
            <select class="filter-select" id="ratingFilter">
                <option value="">All Ratings</option>
                <option value="5">5 Stars</option>
                <option value="4">4 Stars</option>
                <option value="3">3 Stars</option>
                <option value="2">2 Stars</option>
                <option value="1">1 Star</option>
            </select>
            <select class="filter-select" id="eventFilter">
                <option value="">All Events</option>
                <option value="Tech Summit 2024">Tech Summit 2024</option>
                <option value="Design Workshop">Design Workshop</option>
                <option value="Product Launch">Product Launch</option>
                <option value="Team Building">Team Building</option>
            </select>
        </div>

        <div class="table-container">
            <div class="table-wrapper">
                <table id="feedbackTable">
                    <thead>
                        <tr>
                            <th class="sortable" data-column="date">Date</th>
                            <th class="sortable" data-column="event">Event Name</th>
                            <th class="sortable" data-column="participant">Participant</th>
                            <th class="sortable" data-column="rating">Rating</th>
                            <th class="sortable" data-column="feedback">Feedback</th>
                        </tr>
                    </thead>
                    <tbody id="feedbackTableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Sample feedback data
        const feedbackData = [
            {
                date: '2024-01-15',
                event: 'Tech Summit 2024',
                participant: 'Sarah Johnson',
                rating: 5,
                feedback: 'Absolutely outstanding conference! The keynote speakers were incredibly insightful, and I loved the hands-on workshops. The networking opportunities were fantastic, and I made several valuable connections. The venue was perfect, and the organization was flawless. Looking forward to next year!'
            },
            {
                date: '2024-01-14',
                event: 'Design Workshop',
                participant: 'Michael Chen',
                rating: 4,
                feedback: 'Great workshop with practical exercises. The instructor was knowledgeable and engaging. However, the room was a bit cramped and the projector could have been clearer. Overall, I learned a lot and would recommend it to others.'
            },
            {
                date: '2024-01-13',
                event: 'Product Launch',
                participant: 'Emily Rodriguez',
                rating: 5,
                feedback: 'What an incredible product launch event! The presentation was polished and professional. The product demos were impressive, and the Q&A session was very informative. The catering was excellent, and the venue had a great atmosphere. Congratulations on a successful launch!'
            },
            {
                date: '2024-01-12',
                event: 'Team Building',
                participant: 'David Thompson',
                rating: 3,
                feedback: 'The team building activities were fun, but some of them felt a bit forced. The facilitator was energetic, but the venue was too noisy. It was good to spend time with colleagues outside of work, though some activities could have been better planned.'
            },
            {
                date: '2024-01-11',
                event: 'Tech Summit 2024',
                participant: 'Lisa Wang',
                rating: 5,
                feedback: 'Exceptional event! The speaker lineup was diverse and covered cutting-edge topics. I particularly enjoyed the AI panel discussion and the startup pitch session. The mobile app for the event was very helpful for scheduling and networking. Thank you for an amazing experience!'
            },
            {
                date: '2024-01-10',
                event: 'Design Workshop',
                participant: 'Robert Martinez',
                rating: 4,
                feedback: 'Solid workshop content with good practical examples. The instructor had great industry experience. The only downside was that we ran out of time for the final exercise. Would appreciate a longer session or better time management.'
            },
            {
                date: '2024-01-09',
                event: 'Product Launch',
                participant: 'Jessica Taylor',
                rating: 2,
                feedback: 'While the product itself looks promising, the event felt rushed and poorly organized. The sound system had issues during the presentation, and there weren\'t enough seats for everyone. The catering ran out early, and parking was a nightmare.'
            },
            {
                date: '2024-01-08',
                event: 'Tech Summit 2024',
                participant: 'Alex Kumar',
                rating: 5,
                feedback: 'Outstanding conference with world-class speakers and excellent content. The technical sessions were deep and valuable. Great networking opportunities during breaks. The virtual attendance option was seamlessly integrated. Highly recommend this event to anyone in tech.'
            },
            {
                date: '2024-01-07',
                event: 'Team Building',
                participant: 'Maria Garcia',
                rating: 4,
                feedback: 'Fun day with the team! The escape room challenge was particularly engaging, and the cooking class was a great way to bond. The venue was nice, though the weather didn\'t cooperate for outdoor activities. Overall, a good team bonding experience.'
            },
            {
                date: '2024-01-06',
                event: 'Design Workshop',
                participant: 'James Wilson',
                rating: 3,
                feedback: 'The workshop covered useful design principles, but it felt too basic for experienced designers. Would have preferred more advanced techniques and case studies. The materials provided were helpful, and the instructor was approachable and knowledgeable.'
            },
            {
                date: '2024-01-05',
                event: 'Product Launch',
                participant: 'Amanda Brown',
                rating: 5,
                feedback: 'Brilliant product launch! The demonstration was compelling and showed real-world applications clearly. The networking reception afterwards was well-organized with great conversations. The swag bag was thoughtful and useful. Excited to see how this product evolves!'
            },
            {
                date: '2024-01-04',
                event: 'Tech Summit 2024',
                participant: 'Ryan Lee',
                rating: 4,
                feedback: 'Great content and speakers, though some sessions ran over time which made it difficult to attend everything I wanted. The exhibition hall was impressive with innovative startups. Food was good, but lines were long during lunch breaks.'
            },
            {
                date: '2024-01-03',
                event: 'Team Building',
                participant: 'Jennifer Davis',
                rating: 5,
                feedback: 'Perfect team building event! The activities were well-planned and brought our team closer together. The facilitator did an excellent job of including everyone and making it fun. The venue was beautiful, and the catered lunch was delicious. Great job organizing this!'
            },
            {
                date: '2024-01-02',
                event: 'Design Workshop',
                participant: 'Kevin Zhang',
                rating: 4,
                feedback: 'Informative workshop with practical takeaways. Liked the mix of theory and hands-on practice. The small group size allowed for personalized attention. Only suggestion would be to provide digital copies of all materials for future reference.'
            },
            {
                date: '2024-01-01',
                event: 'Product Launch',
                participant: 'Rachel Adams',
                rating: 3,
                feedback: 'The product demonstration was interesting, but the presentation felt too sales-focused. Would have liked more technical details and real user testimonials. The venue was nice, but the event could have been more interactive with Q&A throughout rather than just at the end.'
            },
            {
                date: '2023-12-30',
                event: 'Tech Summit 2024',
                participant: 'Daniel Kim',
                rating: 5,
                feedback: 'Absolutely fantastic summit! Every session I attended was valuable and well-presented. The diversity of topics and speakers was impressive. Great job on the mobile app for scheduling and networking. The after-party was a nice touch for continued networking.'
            },
            {
                date: '2023-12-29',
                event: 'Team Building',
                participant: 'Sophie Miller',
                rating: 2,
                feedback: 'Some activities were enjoyable, but overall the event felt disorganized. Several planned activities were cancelled due to poor weather planning. The indoor backup activities were limited and not as engaging. Communication about schedule changes was poor.'
            },
            {
                date: '2023-12-28',
                event: 'Design Workshop',
                participant: 'Thomas Anderson',
                rating: 5,
                feedback: 'Excellent workshop that exceeded expectations! The instructor was clearly an expert and shared valuable real-world insights. Loved the interactive exercises and group critiques. The workspace was well-equipped, and all materials were provided. Will definitely attend future workshops.'
            },
            {
                date: '2023-12-27',
                event: 'Product Launch',
                participant: 'Nicole Johnson',
                rating: 4,
                feedback: 'Professional and well-executed product launch. The product roadmap presentation was particularly interesting. Good mix of technical and business perspectives. The only improvement would be better crowd control during the demo stations - they got quite crowded.'
            },
            {
                date: '2023-12-26',
                event: 'Tech Summit 2024',
                participant: 'Mark Thompson',
                rating: 4,
                feedback: 'Strong technical content across all tracks. Appreciated the variety of session formats from keynotes to hands-on labs. The venue WiFi struggled at times with the large crowd. Overall, a worthwhile investment of time with practical takeaways for my team.'
            },
            {
                date: '2023-12-25',
                event: 'Team Building',
                participant: 'Laura Wilson',
                rating: 5,
                feedback: 'What a wonderful team building experience! The scavenger hunt was creative and got everyone working together. The team lunch afterwards was relaxed and gave us time to chat informally. Perfect balance of structured activities and free time. Our team feels much more connected now.'
            },
            {
                date: '2023-12-24',
                event: 'Design Workshop',
                participant: 'Christopher Lee',
                rating: 3,
                feedback: 'The workshop content was solid, but the pacing was too fast for beginners. Some participants seemed lost during the advanced sections. The hands-on project was good, but more time would have been helpful. Good materials and helpful instructor feedback.'
            },
            {
                date: '2023-12-23',
                event: 'Product Launch',
                participant: 'Stephanie Garcia',
                rating: 5,
                feedback: 'Impressive product launch with clear value proposition and compelling demos. The executive team did an excellent job presenting the vision and roadmap. Great choice of venue and professional execution throughout. The networking reception was perfectly organized with great conversations.'
            },
            {
                date: '2023-12-22',
                event: 'Tech Summit 2024',
                participant: 'Jonathan Martinez',
                rating: 4,
                feedback: 'Valuable conference with cutting-edge content. Particularly enjoyed the machine learning track and startup showcase. The networking app worked well for connecting with other attendees. Food options could have been more diverse, but overall organization was excellent.'
            },
            {
                date: '2023-12-21',
                event: 'Team Building',
                participant: 'Michelle Taylor',
                rating: 4,
                feedback: 'Great day of team activities that really brought us together! The problem-solving challenges were creative and fun. Venue was perfect for our group size. Only minor issue was some activities running longer than scheduled, which compressed lunch time.'
            },
            {
                date: '2023-12-20',
                event: 'Design Workshop',
                participant: 'Andrew Davis',
                rating: 5,
                feedback: 'Outstanding workshop that provided both theoretical foundations and practical skills. The instructor\'s portfolio examples were inspiring and relevant. Great balance of individual work and group collaboration. All materials were top-quality, and the workspace was ideal for creative work.'
            },
            {
                date: '2023-12-19',
                event: 'Product Launch',
                participant: 'Elizabeth Brown',
                rating: 3,
                feedback: 'The product itself looks promising and the technical demonstration was solid. However, the event felt more like a sales pitch than an informative launch. Would have preferred more time for technical Q&A and less marketing presentation. Venue and logistics were well handled.'
            },
            {
                date: '2023-12-18',
                event: 'Tech Summit 2024',
                participant: 'William Rodriguez',
                rating: 5,
                feedback: 'Exceptional summit that delivered tremendous value! Every session was relevant and well-presented. Loved the diversity of speakers and topics. The exhibition area showcased innovative solutions. Networking opportunities were abundant and well-facilitated. Already looking forward to next year!'
            },
            {
                date: '2023-12-17',
                event: 'Team Building',
                participant: 'Samantha Kim',
                rating: 3,
                feedback: 'Some activities were really enjoyable, particularly the group cooking session. However, the outdoor activities were affected by rain and the backup plans felt rushed. Better weather contingency planning would improve the experience. Team did bond well despite the challenges.'
            },
            {
                date: '2023-12-16',
                event: 'Design Workshop',
                participant: 'Joseph Chen',
                rating: 4,
                feedback: 'Well-structured workshop with practical exercises that reinforced learning. The peer review sessions were particularly valuable for getting different perspectives. Minor suggestion: provide more variety in project examples to cater to different design specialties. Overall, very satisfied with the experience.'
            }
        ];

        let currentData = [...feedbackData];
        let sortColumn = null;
        let sortDirection = 'asc';

        function initializeTable() {
            renderTable();
            updateStats();
            setupEventListeners();
        }

        function renderTable() {
            const tableBody = document.getElementById('feedbackTableBody');
            tableBody.innerHTML = '';

            currentData.forEach(item => {
                const row = document.createElement('tr');
                
                const stars = '‚≠ê'.repeat(item.rating);
                const truncatedFeedback = item.feedback.length > 100 ? 
                    item.feedback.substring(0, 100) + '...' : item.feedback;
                
                const isLongFeedback = item.feedback.length > 100;
                
                row.innerHTML = `
                    <td class="date-cell">${formatDate(item.date)}</td>
                    <td class="event-name">${item.event}</td>
                    <td class="participant-name">${item.participant}</td>
                    <td class="rating">
                        <span class="stars">${stars}</span>
                        <span class="rating-number">(${item.rating}/5)</span>
                    </td>
                    <td class="feedback-text">
                        <div class="feedback-content ${isLongFeedback ? 'feedback-long' : ''}" id="feedback-${feedbackData.indexOf(item)}">
                            ${truncatedFeedback}
                        </div>
                        ${isLongFeedback ? `<div class="expand-btn" onclick="toggleFeedback(${feedbackData.indexOf(item)})">Read more</div>` : ''}
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric' 
            });
        }

        function toggleFeedback(index) {
            const feedbackDiv = document.getElementById(`feedback-${index}`);
            const expandBtn = feedbackDiv.nextElementSibling;
            const originalItem = feedbackData[index];
            
            if (feedbackDiv.classList.contains('feedback-long')) {
                feedbackDiv.innerHTML = originalItem.feedback;
                feedbackDiv.classList.remove('feedback-long');
                expandBtn.textContent = 'Read less';
            } else {
                feedbackDiv.innerHTML = originalItem.feedback.substring(0, 100) + '...';
                feedbackDiv.classList.add('feedback-long');
                expandBtn.textContent = 'Read more';
            }
        }

        function updateStats() {
            const totalCount = currentData.length;
            const totalRating = currentData.reduce((sum, item) => sum + item.rating, 0);
            const averageRating = (totalRating / totalCount).toFixed(1);
            const positiveCount = currentData.filter(item => item.rating >= 4).length;
            const positivePercentage = Math.round((positiveCount / totalCount) * 100);

            document.getElementById('totalFeedback').textContent = totalCount;
            document.getElementById('averageRating').textContent = averageRating;
            document.getElementById('positiveRating').textContent = positivePercentage + '%';
        }

        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Filter functionality
            document.getElementById('ratingFilter').addEventListener('change', handleFilter);
            document.getElementById('eventFilter').addEventListener('change', handleFilter);
            
            // Sort functionality
            document.querySelectorAll('th.sortable').forEach(th => {
                th.addEventListener('click', handleSort);
            });
        }

        function handleSearch() {
            applyFilters();
        }

        function handleFilter() {
            applyFilters();
        }

        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const ratingFilter = document.getElementById('ratingFilter').value;
            const eventFilter = document.getElementById('eventFilter').value;

            currentData = feedbackData.filter(item => {
                const matchesSearch = !searchTerm || 
                    item.participant.toLowerCase().includes(searchTerm) ||
                    item.event.toLowerCase().includes(searchTerm) ||
                    item.feedback.toLowerCase().includes(searchTerm);

                const matchesRating = !ratingFilter || item.rating.toString() === ratingFilter;
                const matchesEvent = !eventFilter || item.event === eventFilter;

                return matchesSearch && matchesRating && matchesEvent;
            });

            renderTable();
            updateStats();
        }

        function handleSort(event) {
            const column = event.target.getAttribute('data-column');
            
            // Update sort direction
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }
            
            // Update header styling
            document.querySelectorAll('th').forEach(th => {
                th.classList.remove('sort-asc', 'sort-desc');
            });
            event.target.classList.add(sortDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            
            // Sort data
            currentData.sort((a, b) => {
                let aVal, bVal;
                
                switch(column) {
                    case 'date':
                        aVal = new Date(a.date);
                        bVal = new Date(b.date);
                        break;
                    case 'rating':
                        aVal = a.rating;
                        bVal = b.rating;
                        break;
                    default:
                        aVal = a[column].toLowerCase();
                        bVal = b[column].toLowerCase();
                }
                
                if (aVal < bVal) return sortDirection === 'asc' ? -1 : 1;
                if (aVal > bVal) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });
            
            renderTable();
        }

        function closeAISummary() {
            document.getElementById('aiSummary').classList.add('hidden');
        }

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', initializeTable);
    </script>
</body>
</html>