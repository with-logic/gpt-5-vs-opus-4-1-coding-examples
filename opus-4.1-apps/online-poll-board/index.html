<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Poll Board - Your Voice Matters</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            min-height: 100vh;
            padding: 2rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 3rem;
            color: #2d3436;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.3rem;
            color: #636e72;
            margin-bottom: 2rem;
        }

        .create-poll-btn {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(108, 92, 231, 0.3);
        }

        .create-poll-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(108, 92, 231, 0.4);
        }

        .polls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .poll-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .poll-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .poll-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6c5ce7, #a29bfe, #fd79a8);
        }

        .poll-title {
            font-size: 1.4rem;
            color: #2d3436;
            margin-bottom: 1rem;
            font-weight: bold;
        }

        .poll-description {
            color: #636e72;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .poll-options {
            margin-bottom: 1.5rem;
        }

        .option {
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 0.8rem 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option-label:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin-right: 0.8rem;
            transform: scale(1.2);
        }

        .option-text {
            flex: 1;
            font-weight: 500;
        }

        .option-votes {
            font-size: 0.9rem;
            color: #6c757d;
            margin-left: 1rem;
        }

        .vote-btn {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 1rem;
        }

        .vote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.3);
        }

        .vote-btn:disabled {
            background: #ddd;
            cursor: not-allowed;
            transform: none;
        }

        .results-btn {
            background: #fd79a8;
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .results-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(253, 121, 168, 0.3);
        }

        .poll-results {
            display: none;
            margin-top: 1.5rem;
        }

        .result-bar {
            margin-bottom: 1rem;
        }

        .result-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .result-progress {
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .result-fill {
            height: 100%;
            background: linear-gradient(90deg, #6c5ce7, #a29bfe);
            border-radius: 10px;
            transition: width 1s ease;
            position: relative;
        }

        .result-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .poll-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid #e9ecef;
            font-size: 0.9rem;
            color: #6c757d;
        }

        .total-votes {
            font-weight: bold;
        }

        .poll-date {
            font-style: italic;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: #6c757d;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2d3436;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #6c5ce7;
        }

        .option-input {
            margin-bottom: 0.5rem;
        }

        .add-option-btn {
            background: #fd79a8;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            cursor: pointer;
            margin-bottom: 1rem;
        }

        .create-btn {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
        }

        .voted-indicator {
            background: #00b894;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .polls-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .poll-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Poll Board</h1>
            <p class="subtitle">Share your opinion and see what others think!</p>
            <button class="create-poll-btn" onclick="openCreateModal()">Create New Poll</button>
        </header>

        <div class="polls-grid" id="pollsContainer">
            <!-- Polls will be dynamically added here -->
        </div>
    </div>

    <!-- Create Poll Modal -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateModal()">&times;</span>
            <h2>Create New Poll</h2>
            <form id="createPollForm">
                <div class="form-group">
                    <label for="pollTitle">Poll Title</label>
                    <input type="text" id="pollTitle" required placeholder="What's your question?">
                </div>
                
                <div class="form-group">
                    <label for="pollDescription">Description (optional)</label>
                    <textarea id="pollDescription" rows="3" placeholder="Add some context to your poll..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>Poll Options</label>
                    <div id="optionsContainer">
                        <input type="text" class="option-input" placeholder="Option 1" required>
                        <input type="text" class="option-input" placeholder="Option 2" required>
                    </div>
                    <button type="button" class="add-option-btn" onclick="addOption()">+ Add Option</button>
                </div>
                
                <button type="submit" class="create-btn">Create Poll</button>
            </form>
        </div>
    </div>

    <script>
        let polls = [
            {
                id: 1,
                title: "What's your favorite programming language?",
                description: "Let's settle this debate once and for all! Vote for the programming language you enjoy working with the most.",
                options: [
                    { text: "JavaScript", votes: 45 },
                    { text: "Python", votes: 38 },
                    { text: "Java", votes: 22 },
                    { text: "TypeScript", votes: 31 }
                ],
                totalVotes: 136,
                createdAt: "2024-01-15",
                voted: false
            },
            {
                id: 2,
                title: "Best time for productivity?",
                description: "When do you feel most productive during the day?",
                options: [
                    { text: "Early morning (6-9 AM)", votes: 28 },
                    { text: "Mid-morning (9-12 PM)", votes: 35 },
                    { text: "Afternoon (12-5 PM)", votes: 18 },
                    { text: "Evening (5-9 PM)", votes: 24 },
                    { text: "Night owl (9 PM+)", votes: 15 }
                ],
                totalVotes: 120,
                createdAt: "2024-01-14",
                voted: false
            },
            {
                id: 3,
                title: "Remote work vs Office work?",
                description: "Which work environment do you prefer for maximum productivity and work-life balance?",
                options: [
                    { text: "Fully remote", votes: 52 },
                    { text: "Hybrid (2-3 days office)", votes: 41 },
                    { text: "Fully in office", votes: 19 },
                    { text: "It depends on the task", votes: 33 }
                ],
                totalVotes: 145,
                createdAt: "2024-01-13",
                voted: false
            }
        ];

        let nextPollId = 4;

        function renderPolls() {
            const container = document.getElementById('pollsContainer');
            container.innerHTML = '';

            polls.forEach(poll => {
                const pollCard = createPollCard(poll);
                container.appendChild(pollCard);
            });
        }

        function createPollCard(poll) {
            const card = document.createElement('div');
            card.className = 'poll-card';
            card.innerHTML = `
                <div class="poll-title">${poll.title}</div>
                <div class="poll-description">${poll.description}</div>
                <div class="poll-options" id="options-${poll.id}">
                    ${poll.options.map((option, index) => `
                        <div class="option">
                            <label class="option-label">
                                <input type="radio" name="poll-${poll.id}" value="${index}" ${poll.voted ? 'disabled' : ''}>
                                <span class="option-text">${option.text}</span>
                                <span class="option-votes">${option.votes} votes</span>
                            </label>
                        </div>
                    `).join('')}
                </div>
                <div>
                    <button class="vote-btn" onclick="vote(${poll.id})" ${poll.voted ? 'disabled' : ''}>
                        ${poll.voted ? 'Voted' : 'Vote'}
                    </button>
                    <button class="results-btn" onclick="toggleResults(${poll.id})">
                        ${poll.voted ? 'Hide Results' : 'Show Results'}
                    </button>
                    ${poll.voted ? '<span class="voted-indicator">âœ“ Voted</span>' : ''}
                </div>
                <div class="poll-results" id="results-${poll.id}" ${poll.voted ? 'style="display: block;"' : ''}>
                    ${poll.options.map(option => {
                        const percentage = poll.totalVotes > 0 ? (option.votes / poll.totalVotes * 100).toFixed(1) : 0;
                        return `
                            <div class="result-bar">
                                <div class="result-label">
                                    <span>${option.text}</span>
                                    <span>${percentage}%</span>
                                </div>
                                <div class="result-progress">
                                    <div class="result-fill" style="width: ${percentage}%"></div>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
                <div class="poll-meta">
                    <span class="total-votes">Total votes: ${poll.totalVotes}</span>
                    <span class="poll-date">Created: ${new Date(poll.createdAt).toLocaleDateString()}</span>
                </div>
            `;
            return card;
        }

        function vote(pollId) {
            const poll = polls.find(p => p.id === pollId);
            if (!poll || poll.voted) return;

            const selectedOption = document.querySelector(`input[name="poll-${pollId}"]:checked`);
            if (!selectedOption) {
                alert('Please select an option before voting!');
                return;
            }

            const optionIndex = parseInt(selectedOption.value);
            
            // Add vote with animation
            poll.options[optionIndex].votes++;
            poll.totalVotes++;
            poll.voted = true;

            // Show success animation
            animateVote(pollId, optionIndex);
            
            // Re-render the specific poll
            setTimeout(() => {
                renderPolls();
            }, 1000);
        }

        function animateVote(pollId, optionIndex) {
            const optionElement = document.querySelector(`#options-${pollId} .option:nth-child(${optionIndex + 1}) .option-label`);
            optionElement.style.background = 'linear-gradient(135deg, #00b894, #00cec9)';
            optionElement.style.color = 'white';
            optionElement.style.transform = 'scale(1.05)';
            
            setTimeout(() => {
                optionElement.style.transform = 'scale(1)';
            }, 300);
        }

        function toggleResults(pollId) {
            const results = document.getElementById(`results-${pollId}`);
            const button = event.target;
            
            if (results.style.display === 'block') {
                results.style.display = 'none';
                button.textContent = 'Show Results';
            } else {
                results.style.display = 'block';
                button.textContent = 'Hide Results';
                
                // Animate result bars
                const fills = results.querySelectorAll('.result-fill');
                fills.forEach(fill => {
                    const width = fill.style.width;
                    fill.style.width = '0%';
                    setTimeout(() => {
                        fill.style.width = width;
                    }, 100);
                });
            }
        }

        function openCreateModal() {
            document.getElementById('createModal').style.display = 'block';
        }

        function closeCreateModal() {
            document.getElementById('createModal').style.display = 'none';
            document.getElementById('createPollForm').reset();
            
            // Reset options to default 2
            const container = document.getElementById('optionsContainer');
            container.innerHTML = `
                <input type="text" class="option-input" placeholder="Option 1" required>
                <input type="text" class="option-input" placeholder="Option 2" required>
            `;
        }

        function addOption() {
            const container = document.getElementById('optionsContainer');
            const optionCount = container.children.length + 1;
            
            if (optionCount <= 6) {
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'option-input';
                input.placeholder = `Option ${optionCount}`;
                input.required = true;
                container.appendChild(input);
            } else {
                alert('Maximum 6 options allowed!');
            }
        }

        document.getElementById('createPollForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('pollTitle').value;
            const description = document.getElementById('pollDescription').value;
            const optionInputs = document.querySelectorAll('.option-input');
            
            const options = Array.from(optionInputs)
                .map(input => input.value.trim())
                .filter(value => value !== '')
                .map(text => ({ text, votes: 0 }));
            
            if (options.length < 2) {
                alert('Please provide at least 2 options!');
                return;
            }
            
            const newPoll = {
                id: nextPollId++,
                title,
                description,
                options,
                totalVotes: 0,
                createdAt: new Date().toISOString().split('T')[0],
                voted: false
            };
            
            polls.unshift(newPoll);
            renderPolls();
            closeCreateModal();
            
            // Show success message
            alert('Poll created successfully!');
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('createModal');
            if (event.target === modal) {
                closeCreateModal();
            }
        }

        // Initial render
        renderPolls();

        // Add some random vote simulation for demo
        setInterval(() => {
            if (Math.random() > 0.7) { // 30% chance every 5 seconds
                const randomPoll = polls[Math.floor(Math.random() * polls.length)];
                const randomOption = Math.floor(Math.random() * randomPoll.options.length);
                
                randomPoll.options[randomOption].votes++;
                randomPoll.totalVotes++;
                renderPolls();
            }
        }, 5000);
    </script>
</body>
</html>