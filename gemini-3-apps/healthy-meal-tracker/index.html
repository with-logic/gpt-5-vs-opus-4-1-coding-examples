<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriTrack | Healthy Meal Log</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8bc34a;
            --primary-dark: #689f38;
            --secondary: #ff7043;
            --bg: #f1f8e9;
            --card: #ffffff;
            --text: #37474f;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header / Stats */
        header {
            background-color: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title-group h1 { margin: 0; font-size: 1.5rem; color: var(--primary-dark); }
        .title-group p { margin: 5px 0 0; color: #78909c; }

        .calories-box {
            text-align: right;
        }

        .calories-val {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text);
        }

        .calories-label {
            font-size: 0.8rem;
            color: #78909c;
            text-transform: uppercase;
        }

        /* Progress */
        .progress-container {
            margin-top: 10px;
            background-color: #eee;
            border-radius: 10px;
            height: 10px;
            width: 200px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Add Meal */
        .add-card {
            background-color: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        h2 { margin-top: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 8px; }

        .form-row {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        input, select, button {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #cfd8dc;
            font-family: inherit;
        }

        input, select { flex-grow: 1; }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 700;
            transition: background 0.2s;
        }

        button:hover { background-color: var(--primary-dark); }

        /* Meal List */
        .meal-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .meal-item {
            background-color: var(--card);
            padding: 16px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        
        .meal-item:hover { transform: translateX(5px); }

        .meal-icon {
            font-size: 2rem;
            margin-right: 16px;
            background: #f5f5f5;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .meal-info { flex-grow: 1; }
        .meal-name { font-weight: 700; font-size: 1.1rem; }
        .meal-type { font-size: 0.85rem; color: #90a4ae; text-transform: uppercase; margin-top: 4px; }
        .meal-cals { font-weight: 700; color: var(--secondary); margin-right: 16px; }

        .delete-btn {
            background: none;
            color: #cfd8dc;
            padding: 4px;
            font-size: 1.2rem;
        }
        
        .delete-btn:hover { background: none; color: #ef5350; }

        @media(max-width: 600px) {
            header { flex-direction: column; text-align: center; gap: 20px; }
            .calories-box { text-align: center; }
            .form-row { flex-direction: column; }
        }
    </style>
</head>
<body>

    <div class="container">
        
        <header>
            <div class="title-group">
                <h1>NutriTrack</h1>
                <p>Eat well, live better.</p>
            </div>
            <div class="calories-box">
                <div class="calories-val"><span id="totalCals">0</span> / <span id="goalCals">2000</span></div>
                <div class="calories-label">Daily Calories</div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </header>

        <div class="add-card">
            <h2>ü•ó Add Meal</h2>
            <form id="mealForm" onsubmit="addMeal(event)">
                <div class="form-row">
                    <input type="text" id="mealName" placeholder="What did you eat?" required>
                    <select id="mealType">
                        <option value="Breakfast">Breakfast üç≥</option>
                        <option value="Lunch">Lunch ü•™</option>
                        <option value="Dinner">Dinner üçù</option>
                        <option value="Snack">Snack üçé</option>
                    </select>
                    <input type="number" id="mealCalories" placeholder="Calories" required min="0">
                    <button type="submit">Log Meal</button>
                </div>
            </form>
        </div>

        <div class="meal-list" id="mealList">
            <!-- Items injected here -->
        </div>

    </div>

    <script>
        // State
        let meals = [];
        const goal = 2000;

        // Init
        const stored = localStorage.getItem('nutriMeals');
        if (stored) meals = JSON.parse(stored);
        render();

        function addMeal(e) {
            e.preventDefault();
            const name = document.getElementById('mealName').value;
            const type = document.getElementById('mealType').value;
            const cals = parseInt(document.getElementById('mealCalories').value);

            meals.unshift({
                id: Date.now(),
                name: name,
                type: type,
                calories: cals
            });

            save();
            render();
            document.getElementById('mealForm').reset();
        }

        function deleteMeal(id) {
            if(confirm('Delete this entry?')) {
                meals = meals.filter(m => m.id !== id);
                save();
                render();
            }
        }

        function save() {
            localStorage.setItem('nutriMeals', JSON.stringify(meals));
        }

        function render() {
            const list = document.getElementById('mealList');
            list.innerHTML = '';

            let total = 0;

            if (meals.length === 0) {
                list.innerHTML = '<div style="text-align:center; color:#90a4ae; padding:20px;">No meals logged today.</div>';
            }

            meals.forEach(m => {
                total += m.calories;
                
                // Get Icon
                let icon = 'üçΩÔ∏è';
                if (m.type === 'Breakfast') icon = 'üç≥';
                if (m.type === 'Lunch') icon = 'ü•™';
                if (m.type === 'Dinner') icon = 'üçù';
                if (m.type === 'Snack') icon = 'üçé';

                const div = document.createElement('div');
                div.className = 'meal-item';
                div.innerHTML = `
                    <div class="meal-icon">${icon}</div>
                    <div class="meal-info">
                        <div class="meal-name">${m.name}</div>
                        <div class="meal-type">${m.type}</div>
                    </div>
                    <div class="meal-cals">${m.calories} kcal</div>
                    <button class="delete-btn" onclick="deleteMeal(${m.id})">&times;</button>
                `;
                list.appendChild(div);
            });

            // Update Stats
            document.getElementById('totalCals').textContent = total;
            const pct = Math.min(100, (total / goal) * 100);
            document.getElementById('progressBar').style.width = pct + '%';
            
            // Color change if over
            if (total > goal) {
                document.getElementById('progressBar').style.backgroundColor = '#ef5350';
            } else {
                document.getElementById('progressBar').style.backgroundColor = '#8bc34a';
            }
        }
    </script>
</body>
</html>
