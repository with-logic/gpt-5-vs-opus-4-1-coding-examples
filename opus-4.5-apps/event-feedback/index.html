<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Feedback Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.5;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text);
        }

        .header-stats {
            display: flex;
            gap: 30px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-light);
            text-transform: uppercase;
        }

        /* AI Summary */
        .ai-summary {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
        }

        .ai-summary-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }

        .ai-summary-close:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .ai-summary h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .ai-summary h3::before {
            content: '‚ú®';
        }

        .ai-summary p {
            opacity: 0.95;
            line-height: 1.6;
        }

        .ai-insights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .insight-card {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
        }

        .insight-card .label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .insight-card .value {
            font-size: 1.3rem;
            font-weight: 700;
        }

        /* Search and Filters */
        .toolbar {
            background: var(--card);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.1rem;
        }

        .filter-btn {
            padding: 12px 20px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .filter-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .results-count {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Table */
        .table-container {
            background: var(--card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: var(--bg);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            color: var(--text-light);
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
            white-space: nowrap;
        }

        th:hover {
            background: #e2e8f0;
        }

        th .sort-icon {
            margin-left: 5px;
            opacity: 0.5;
        }

        th.sorted .sort-icon {
            opacity: 1;
            color: var(--primary);
        }

        td {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }

        tr:hover {
            background: #f8fafc;
        }

        .date-cell {
            white-space: nowrap;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .event-cell {
            font-weight: 500;
            color: var(--primary-dark);
        }

        .participant-cell {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .rating-cell {
            white-space: nowrap;
        }

        .rating-stars {
            color: #fbbf24;
            font-size: 1.1rem;
            letter-spacing: 2px;
        }

        .rating-value {
            color: var(--text-light);
            font-size: 0.85rem;
            margin-left: 8px;
        }

        .feedback-cell {
            max-width: 400px;
            line-height: 1.6;
        }

        .feedback-text {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            color: var(--text);
        }

        .feedback-text.expanded {
            display: block;
            -webkit-line-clamp: unset;
        }

        .expand-btn {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 0.85rem;
            padding: 5px 0;
            margin-top: 5px;
        }

        .expand-btn:hover {
            text-decoration: underline;
        }

        /* Rating Colors */
        .rating-high { color: var(--success); }
        .rating-medium { color: var(--warning); }
        .rating-low { color: var(--danger); }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                padding: 20px;
            }

            header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .table-container {
                overflow-x: auto;
            }

            table {
                min-width: 900px;
            }
        }

        @media (max-width: 600px) {
            .ai-insights {
                grid-template-columns: 1fr;
            }

            .toolbar {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Event Feedback Dashboard</h1>
            <div class="header-stats">
                <div class="stat-item">
                    <div class="stat-value" id="totalResponses">30</div>
                    <div class="stat-label">Total Responses</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="avgRating">4.2</div>
                    <div class="stat-label">Avg. Rating</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalEvents">8</div>
                    <div class="stat-label">Events</div>
                </div>
            </div>
        </header>

        <!-- AI Summary -->
        <div class="ai-summary" id="aiSummary">
            <button class="ai-summary-close" onclick="closeSummary()">√ó</button>
            <h3>AI Summary</h3>
            <p>Analysis of 30 feedback submissions shows <strong>overall positive sentiment</strong> with 87% of participants rating events 4 stars or higher. Common themes include appreciation for networking opportunities, engaging speakers, and well-organized logistics. Key areas for improvement mentioned are parking availability, longer Q&A sessions, and vegetarian food options. The "Tech Innovation Summit 2024" received the highest average rating at 4.8 stars.</p>
            <div class="ai-insights">
                <div class="insight-card">
                    <div class="label">Top Praised Aspect</div>
                    <div class="value">Speakers</div>
                </div>
                <div class="insight-card">
                    <div class="label">Needs Improvement</div>
                    <div class="value">Venue Parking</div>
                </div>
                <div class="insight-card">
                    <div class="label">Sentiment Score</div>
                    <div class="value">87%</div>
                </div>
                <div class="insight-card">
                    <div class="label">Response Rate</div>
                    <div class="value">62%</div>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search by keyword, event, or participant..." oninput="filterTable()">
            </div>
            <button class="filter-btn" onclick="resetFilters()">
                ‚Üª Reset
            </button>
            <span class="results-count"><span id="filteredCount">30</span> results</span>
        </div>

        <!-- Table -->
        <div class="table-container">
            <table id="feedbackTable">
                <thead>
                    <tr>
                        <th onclick="sortTable('date')">
                            Date <span class="sort-icon">‚Üï</span>
                        </th>
                        <th onclick="sortTable('event')">
                            Event <span class="sort-icon">‚Üï</span>
                        </th>
                        <th onclick="sortTable('participant')">
                            Participant <span class="sort-icon">‚Üï</span>
                        </th>
                        <th onclick="sortTable('rating')">
                            Rating <span class="sort-icon">‚Üï</span>
                        </th>
                        <th onclick="sortTable('feedback')">
                            Feedback <span class="sort-icon">‚Üï</span>
                        </th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Generate realistic data
        const events = [
            'Tech Innovation Summit 2024',
            'Annual Marketing Conference',
            'Leadership Workshop Series',
            'Product Launch Event',
            'Customer Appreciation Day',
            'Industry Networking Mixer',
            'Q4 Town Hall Meeting',
            'Design Thinking Workshop'
        ];

        const firstNames = ['Emma', 'Liam', 'Olivia', 'Noah', 'Ava', 'Ethan', 'Sophia', 'Mason', 'Isabella', 'William', 'Mia', 'James', 'Charlotte', 'Benjamin', 'Amelia', 'Lucas', 'Harper', 'Henry', 'Evelyn', 'Alexander'];
        const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez', 'Hernandez', 'Lopez', 'Gonzalez', 'Wilson', 'Anderson', 'Thomas', 'Taylor', 'Moore', 'Jackson', 'Martin'];

        const feedbackTemplates = [
            "Excellent event! The keynote speaker was incredibly insightful and I learned so much about emerging trends in our industry. The networking opportunities were valuable and I made several important connections. Would definitely recommend to colleagues.",
            "Great organization overall. The venue was beautiful and the catering was top-notch. My only suggestion would be to have more time for Q&A after the presentations. The breakout sessions were particularly engaging.",
            "Really enjoyed the workshop format. The hands-on exercises helped reinforce the concepts presented. The facilitators were knowledgeable and approachable. Looking forward to implementing what I learned.",
            "Good event but parking was challenging. Consider providing shuttle service from the metro station next time. The content was relevant and timely. Appreciated the detailed handout materials.",
            "Outstanding experience from start to finish. The panel discussion was thought-provoking and the speakers brought diverse perspectives. Would be great to have more networking time built into the agenda.",
            "Very informative session with practical takeaways. The presenter was engaging and clearly an expert in the field. Would have liked more case studies and real-world examples.",
            "Fantastic networking event! Met several potential clients and partners. The venue setup facilitated great conversations. Suggest adding name tags with company/role for easier introductions.",
            "Impressive production quality. The AV setup was flawless and the live streaming worked perfectly. Content was relevant but some sessions ran over time affecting the schedule.",
            "Loved the interactive elements throughout the day. The live polling and Q&A tools kept everyone engaged. The mobile app for the event was very user-friendly.",
            "Valuable insights on industry trends. The market analysis presented was comprehensive and actionable. Would appreciate receiving the presentation slides after the event.",
            "Well-curated speaker lineup with diverse backgrounds. Each presentation offered unique perspectives. The panel moderation could be tighter to allow more audience questions.",
            "The workshop exceeded my expectations. Practical exercises and group discussions made the learning stick. Facilitator was excellent at managing group dynamics.",
            "Solid event with room for improvement in food options. As a vegetarian, choices were limited. Content was excellent though, particularly the innovation showcase segment.",
            "Engaging from beginning to end. The mix of presentations and interactive sessions kept energy high. Would suggest starting 30 minutes later for those commuting from outside the city.",
            "Professional and well-executed event. Registration process was smooth and staff were helpful. The event app made navigating the agenda easy. Great swag bag too!",
            "Incredible learning opportunity. The depth of content was impressive without being overwhelming. Breakout room discussions were particularly valuable for peer learning.",
            "Appreciated the sustainability focus - minimal printed materials and eco-friendly catering. Content aligned well with current challenges we're facing in our organization.",
            "Thought-provoking sessions that challenged conventional thinking. The closing keynote was inspiring. Would love to see this become an annual event.",
            "The hands-on demo stations were a highlight. Being able to try new tools and technologies made the experience memorable. Staff at each station were knowledgeable.",
            "Great balance of strategic and tactical content. Something for everyone regardless of seniority level. Networking lunch format was effective for meeting new people."
        ];

        let data = [];
        let sortColumn = 'date';
        let sortDirection = 'desc';

        // Generate data
        function generateData() {
            const today = new Date();
            data = [];

            for (let i = 0; i < 30; i++) {
                const daysAgo = Math.floor(Math.random() * 60);
                const date = new Date(today);
                date.setDate(date.getDate() - daysAgo);

                const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
                const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];

                // Weight ratings toward higher values
                let rating;
                const rand = Math.random();
                if (rand < 0.4) rating = 5;
                else if (rand < 0.7) rating = 4;
                else if (rand < 0.85) rating = 3;
                else if (rand < 0.95) rating = 2;
                else rating = 1;

                data.push({
                    date: date,
                    event: events[Math.floor(Math.random() * events.length)],
                    participant: `${firstName} ${lastName}`,
                    rating: rating,
                    feedback: feedbackTemplates[Math.floor(Math.random() * feedbackTemplates.length)]
                });
            }

            // Sort by date descending initially
            data.sort((a, b) => b.date - a.date);
        }

        // Render table
        function renderTable(filteredData = data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            if (filteredData.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5">
                            <div class="empty-state">
                                <div class="empty-state-icon">üîç</div>
                                <p>No feedback entries match your search criteria</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            filteredData.forEach((row, index) => {
                const initials = row.participant.split(' ').map(n => n[0]).join('');
                const stars = '‚òÖ'.repeat(row.rating) + '‚òÜ'.repeat(5 - row.rating);

                let ratingClass = 'rating-high';
                if (row.rating < 3) ratingClass = 'rating-low';
                else if (row.rating < 4) ratingClass = 'rating-medium';

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td class="date-cell">${formatDate(row.date)}</td>
                    <td class="event-cell">${row.event}</td>
                    <td>
                        <div class="participant-cell">
                            <div class="avatar">${initials}</div>
                            <span>${row.participant}</span>
                        </div>
                    </td>
                    <td class="rating-cell">
                        <span class="rating-stars ${ratingClass}">${stars}</span>
                        <span class="rating-value">${row.rating}/5</span>
                    </td>
                    <td class="feedback-cell">
                        <div class="feedback-text" id="feedback-${index}">${row.feedback}</div>
                        <button class="expand-btn" onclick="toggleFeedback(${index})">Show more</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });

            document.getElementById('filteredCount').textContent = filteredData.length;
        }

        function formatDate(date) {
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function toggleFeedback(index) {
            const el = document.getElementById(`feedback-${index}`);
            const btn = el.nextElementSibling;

            if (el.classList.contains('expanded')) {
                el.classList.remove('expanded');
                btn.textContent = 'Show more';
            } else {
                el.classList.add('expanded');
                btn.textContent = 'Show less';
            }
        }

        // Sort table
        function sortTable(column) {
            // Update header styling
            document.querySelectorAll('th').forEach(th => th.classList.remove('sorted'));

            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }

            const th = document.querySelector(`th:nth-child(${getColumnIndex(column)})`);
            th.classList.add('sorted');
            th.querySelector('.sort-icon').textContent = sortDirection === 'asc' ? '‚Üë' : '‚Üì';

            data.sort((a, b) => {
                let valueA = a[column];
                let valueB = b[column];

                if (column === 'date') {
                    valueA = valueA.getTime();
                    valueB = valueB.getTime();
                } else if (typeof valueA === 'string') {
                    valueA = valueA.toLowerCase();
                    valueB = valueB.toLowerCase();
                }

                if (valueA < valueB) return sortDirection === 'asc' ? -1 : 1;
                if (valueA > valueB) return sortDirection === 'asc' ? 1 : -1;
                return 0;
            });

            filterTable();
        }

        function getColumnIndex(column) {
            const columns = ['date', 'event', 'participant', 'rating', 'feedback'];
            return columns.indexOf(column) + 1;
        }

        // Filter table
        function filterTable() {
            const search = document.getElementById('searchInput').value.toLowerCase();

            const filtered = data.filter(row => {
                const searchStr = `${formatDate(row.date)} ${row.event} ${row.participant} ${row.feedback}`.toLowerCase();
                return searchStr.includes(search);
            });

            renderTable(filtered);
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            filterTable();
        }

        function closeSummary() {
            document.getElementById('aiSummary').style.display = 'none';
        }

        // Calculate stats
        function updateStats() {
            const avgRating = (data.reduce((sum, row) => sum + row.rating, 0) / data.length).toFixed(1);
            const uniqueEvents = new Set(data.map(row => row.event)).size;

            document.getElementById('totalResponses').textContent = data.length;
            document.getElementById('avgRating').textContent = avgRating;
            document.getElementById('totalEvents').textContent = uniqueEvents;
        }

        // Initialize
        generateData();
        renderTable();
        updateStats();
    </script>
</body>
</html>
