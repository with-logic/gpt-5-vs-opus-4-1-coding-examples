<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Healthy Meal Tracker</title>
    <style>
      :root {
        color-scheme: light;
        --mint: #d7f9ed;
        --leaf: #1e8368;
        --sun: #ffba49;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Inter", system-ui, sans-serif;
        background: var(--mint);
        color: #1f2a37;
        padding: clamp(1rem, 5vw, 3rem);
      }
      header {
        text-align: center;
        margin-bottom: 2rem;
      }
      h1 {
        margin: 0;
      }
      .app {
        display: grid;
        gap: 1.5rem;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      }
      section {
        background: white;
        border-radius: 1.5rem;
        padding: 1.5rem;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
      }
      form {
        display: grid;
        gap: 1rem;
      }
      label {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #708090;
      }
      input,
      textarea,
      button {
        width: 100%;
        border-radius: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.1);
        padding: 0.75rem;
        font: inherit;
      }
      button {
        background: var(--leaf);
        color: white;
        border: none;
        cursor: pointer;
      }
      .summary {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }
      .summary-card {
        background: #f8fffb;
        border-radius: 1rem;
        padding: 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .meals {
        display: grid;
        gap: 1rem;
      }
      .meal-card {
        background: #fdfdfd;
        border-radius: 1.2rem;
        padding: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.05);
        display: grid;
        gap: 0.5rem;
      }
      .ingredients {
        display: flex;
        flex-wrap: wrap;
        gap: 0.4rem;
      }
      .badge {
        background: rgba(30, 131, 104, 0.1);
        color: var(--leaf);
        padding: 0.2rem 0.6rem;
        border-radius: 999px;
        font-size: 0.85rem;
      }
      .icon {
        font-size: 1.4rem;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Healthy Meal Tracker</h1>
      <p>Log meals, ingredients, and calories. Keep the garden glowing.</p>
    </header>
    <div class="app">
      <section>
        <form id="mealForm">
          <div>
            <label>Meal name</label>
            <input type="text" name="name" placeholder="Sunrise smoothie" required />
          </div>
          <div>
            <label>Calories</label>
            <input type="number" name="calories" min="0" placeholder="350" required />
          </div>
          <div>
            <label>Ingredients (comma separated)</label>
            <textarea name="ingredients" placeholder="spinach, banana, oat milk" required></textarea>
          </div>
          <button type="submit">Add meal</button>
        </form>
      </section>
      <section>
        <h2>Daily summary</h2>
        <div class="summary" id="summary"></div>
      </section>
      <section style="grid-column: 1 / -1">
        <h2>Meals</h2>
        <div class="meals" id="meals"></div>
      </section>
    </div>

    <script>
      const meals = [
        { name: "Garden wrap", calories: 420, ingredients: ["spinach", "hummus", "roasted carrots"] },
        { name: "Miso bowl", calories: 510, ingredients: ["quinoa", "shiitake", "edamame"] },
      ];
      const mealForm = document.getElementById("mealForm");
      const mealsEl = document.getElementById("meals");
      const summaryEl = document.getElementById("summary");
      const icons = ["ðŸ¥‘", "ðŸ¥•", "ðŸ“", "ðŸ‹", "ðŸ "];

      function renderMeals() {
        mealsEl.innerHTML = meals
          .map((meal, index) => `
            <article class="meal-card">
              <div style="display:flex;justify-content:space-between;align-items:center;">
                <div>
                  <strong>${meal.name}</strong>
                  <p>${meal.calories} kcal</p>
                </div>
                <span class="icon">${icons[index % icons.length]}</span>
              </div>
              <div class="ingredients">
                ${meal.ingredients.map((item) => `<span class="badge">${item.trim()}</span>`).join("")}
              </div>
            </article>`)
          .join("");
      }

      function renderSummary() {
        const totalCalories = meals.reduce((sum, meal) => sum + Number(meal.calories), 0);
        summaryEl.innerHTML = `
          <div class="summary-card"><span>Total meals</span><strong>${meals.length}</strong></div>
          <div class="summary-card"><span>Total calories</span><strong>${totalCalories}</strong></div>
          <div class="summary-card"><span>Avg per meal</span><strong>${meals.length ? Math.round(totalCalories / meals.length) : 0} kcal</strong></div>`;
      }

      mealForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const data = new FormData(event.target);
        meals.unshift({
          name: data.get("name"),
          calories: Number(data.get("calories")),
          ingredients: data.get("ingredients").split(","),
        });
        event.target.reset();
        renderMeals();
        renderSummary();
      });

      renderMeals();
      renderSummary();
    </script>
  </body>
</html>
