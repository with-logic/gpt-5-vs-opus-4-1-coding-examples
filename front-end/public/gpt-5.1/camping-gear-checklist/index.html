<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Camping Gear Checklist</title>
    <style>
      :root {
        color-scheme: light;
        --forest: #234038;
        --sage: #5c775c;
        --sunset: #f0a868;
        --sky: #c9e4ff;
        --canvas: #fdf8ef;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: "Atkinson Hyperlegible", system-ui, sans-serif;
        background: linear-gradient(180deg, var(--sky) 30%, var(--canvas));
        color: var(--forest);
      }
      header {
        text-align: center;
        padding: 2rem 1rem 1rem;
      }
      h1 {
        margin: 0;
        font-size: clamp(2.2rem, 6vw, 3.2rem);
      }
      .app {
        width: min(960px, 100%);
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 1.5rem 1.5rem 0 0;
        padding: 2rem clamp(1rem, 5vw, 3rem);
        box-shadow: 0 -20px 60px rgba(0, 0, 0, 0.12);
      }
      .summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }
      .summary-card {
        background: var(--forest);
        color: #fff;
        border-radius: 1rem;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }
      .gear-section {
        margin-bottom: 2rem;
      }
      h2 {
        margin-bottom: 0.5rem;
      }
      ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 0.5rem;
      }
      li {
        background: #f7f3eb;
        border-radius: 0.75rem;
        padding: 0.75rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: 1px solid rgba(35, 64, 56, 0.12);
      }
      label {
        display: flex;
        gap: 0.75rem;
        align-items: center;
        flex: 1;
      }
      .weight {
        font-weight: 600;
      }
      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 2rem;
      }
      input,
      select,
      button {
        font: inherit;
      }
      input,
      select {
        border-radius: 0.75rem;
        border: 1px solid rgba(0, 0, 0, 0.2);
        padding: 0.5rem 0.75rem;
      }
      button {
        border-radius: 999px;
        border: none;
        padding: 0.75rem 1.5rem;
        background: var(--sunset);
        color: #422009;
        cursor: pointer;
        font-weight: 700;
      }
      .save-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
      }
      .canvas-scene {
        height: 120px;
        background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(92, 119, 92, 0.2));
        border-radius: 1.5rem;
        margin-top: 2rem;
        position: relative;
        overflow: hidden;
      }
      .canvas-scene::after,
      .canvas-scene::before {
        content: "";
        position: absolute;
        bottom: 0;
        width: 180px;
        height: 100px;
        background: var(--sage);
        border-radius: 50% 50% 0 0;
        opacity: 0.8;
        animation: drift 12s linear infinite;
      }
      .canvas-scene::after {
        left: 20%;
      }
      .canvas-scene::before {
        right: 10%;
        animation-duration: 18s;
      }
      @keyframes drift {
        from {
          transform: translateX(0);
        }
        to {
          transform: translateX(50px);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <p>Pack smarter â€¢ wander farther</p>
      <h1>Camping Gear Checklist</h1>
    </header>
    <div class="app">
      <section class="summary" aria-live="polite">
        <div class="summary-card">
          <span>Total items</span>
          <strong id="itemCount">0</strong>
        </div>
        <div class="summary-card">
          <span>Packed weight</span>
          <strong id="packedWeight">0 lb</strong>
        </div>
        <div class="summary-card">
          <span>Base weight</span>
          <strong id="baseWeight">0 lb</strong>
        </div>
      </section>

      <section class="controls" aria-label="Add gear">
        <input type="text" id="itemName" placeholder="Item name" />
        <input type="number" id="itemWeight" placeholder="Weight (lb)" min="0" step="0.1" />
        <select id="itemCategory">
          <option value="Essentials">Essentials</option>
          <option value="Camp Kitchen">Camp Kitchen</option>
          <option value="Clothing">Clothing</option>
          <option value="Extras">Extras</option>
        </select>
        <button id="addItem">Add item</button>
      </section>

      <div id="gearLists"></div>

      <section class="save-bar" aria-label="Save or load lists">
        <input type="text" id="listName" placeholder="Trip name (Yosemite)" />
        <button id="saveList">Save list</button>
        <select id="savedLists"></select>
        <button id="loadList">Load</button>
        <button id="clearList">Reset</button>
      </section>
      <div class="canvas-scene" aria-hidden="true"></div>
    </div>

    <script>
      const defaultGear = [
        { name: "Tent", weight: 4.5, category: "Essentials" },
        { name: "Sleeping bag", weight: 2.2, category: "Essentials" },
        { name: "Sleeping pad", weight: 1.5, category: "Essentials" },
        { name: "Stove", weight: 0.9, category: "Camp Kitchen" },
        { name: "Fuel canister", weight: 0.7, category: "Camp Kitchen" },
        { name: "Mug", weight: 0.4, category: "Camp Kitchen" },
        { name: "Shell jacket", weight: 0.8, category: "Clothing" },
        { name: "Beanie", weight: 0.3, category: "Clothing" },
        { name: "Journal", weight: 0.4, category: "Extras" },
        { name: "Trail cards", weight: 0.2, category: "Extras" },
      ];
      let gear = [...defaultGear];
      const gearLists = document.getElementById("gearLists");
      const itemName = document.getElementById("itemName");
      const itemWeight = document.getElementById("itemWeight");
      const itemCategory = document.getElementById("itemCategory");
      const itemCount = document.getElementById("itemCount");
      const packedWeight = document.getElementById("packedWeight");
      const baseWeight = document.getElementById("baseWeight");
      const listName = document.getElementById("listName");
      const savedLists = document.getElementById("savedLists");

      const state = new Map();

      function renderLists() {
        const categories = Array.from(new Set(gear.map((i) => i.category)));
        gearLists.innerHTML = "";
        categories.forEach((category) => {
          const section = document.createElement("section");
          section.className = "gear-section";
          const title = document.createElement("h2");
          title.textContent = category;
          section.appendChild(title);
          const list = document.createElement("ul");
          gear
            .filter((item) => item.category === category)
            .forEach((item, idx) => {
              const li = document.createElement("li");
              const id = `${category}-${idx}`;
              const label = document.createElement("label");
              label.setAttribute("for", id);
              const checkbox = document.createElement("input");
              checkbox.type = "checkbox";
              checkbox.id = id;
              checkbox.checked = state.get(item.name)?.packed || false;
              checkbox.addEventListener("change", () => {
                state.set(item.name, { packed: checkbox.checked });
                updateTotals();
              });
              label.appendChild(checkbox);
              const span = document.createElement("span");
              span.textContent = item.name;
              label.appendChild(span);
              const weight = document.createElement("span");
              weight.className = "weight";
              weight.textContent = `${item.weight} lb`;
              li.appendChild(label);
              li.appendChild(weight);
              list.appendChild(li);
            });
          section.appendChild(list);
          gearLists.appendChild(section);
        });
        updateTotals();
      }

      function updateTotals() {
        const totalItems = gear.length;
        const base = gear.reduce((sum, item) => sum + Number(item.weight), 0);
        let packed = 0;
        gear.forEach((item) => {
          if (state.get(item.name)?.packed) packed += Number(item.weight);
        });
        itemCount.textContent = totalItems;
        baseWeight.textContent = `${base.toFixed(1)} lb`;
        packedWeight.textContent = `${packed.toFixed(1)} lb`;
      }

      document.getElementById("addItem").addEventListener("click", () => {
        const name = itemName.value.trim();
        const weight = Number(itemWeight.value);
        if (!name || !weight) return;
        gear.push({ name, weight, category: itemCategory.value });
        itemName.value = "";
        itemWeight.value = "";
        renderLists();
      });

      function getSaved() {
        return JSON.parse(localStorage.getItem("campLists") || "{}");
      }
      function refreshSaved() {
        const saved = getSaved();
        savedLists.innerHTML = "";
        Object.keys(saved).forEach((name) => {
          const option = document.createElement("option");
          option.value = name;
          option.textContent = name;
          savedLists.appendChild(option);
        });
      }
      document.getElementById("saveList").addEventListener("click", () => {
        const name = listName.value.trim() || `Trip ${new Date().toLocaleDateString()}`;
        const saved = getSaved();
        saved[name] = { gear, state: Object.fromEntries(state) };
        localStorage.setItem("campLists", JSON.stringify(saved));
        refreshSaved();
      });
      document.getElementById("loadList").addEventListener("click", () => {
        const name = savedLists.value;
        if (!name) return;
        const saved = getSaved();
        if (!saved[name]) return;
        gear = saved[name].gear;
        state.clear();
        Object.entries(saved[name].state).forEach(([key, value]) => state.set(key, value));
        renderLists();
      });
      document.getElementById("clearList").addEventListener("click", () => {
        gear = [...defaultGear];
        state.clear();
        renderLists();
      });

      renderLists();
      refreshSaved();
    </script>
  </body>
</html>
