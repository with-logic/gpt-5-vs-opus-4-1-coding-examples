<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farewell Message Board</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 0;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .header h1 {
            color: #4f46e5;
            font-size: 2.5rem;
            font-weight: 600;
        }

        .header-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn:hover {
            background: #4338ca;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }

        .btn-success {
            background: #10b981;
        }

        .btn-success:hover {
            background: #059669;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .intro {
            text-align: center;
            margin-bottom: 50px;
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .intro h2 {
            color: #4f46e5;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .intro p {
            font-size: 1.2rem;
            color: #6b7280;
            line-height: 1.6;
        }

        .messages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .message-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .message-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #ec4899, #f59e0b);
        }

        .message-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .message-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 15px;
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .message-author {
            flex: 1;
        }

        .author-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 5px;
        }

        .author-role {
            color: #6b7280;
            font-size: 0.9rem;
        }

        .message-date {
            color: #9ca3af;
            font-size: 0.85rem;
        }

        .message-content {
            line-height: 1.7;
            color: #374151;
            font-size: 1.05rem;
            margin-bottom: 20px;
        }

        .message-image {
            width: 100%;
            height: 200px;
            border-radius: 12px;
            object-fit: cover;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .message-reactions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
        }

        .reaction {
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .reaction:hover {
            background: #e5e7eb;
        }

        .reaction.active {
            background: #dbeafe;
            border-color: #3b82f6;
            color: #1e40af;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #6b7280;
            padding: 5px;
        }

        .modal-close:hover {
            color: #374151;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .write-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #4f46e5;
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .write-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(79, 70, 229, 0.4);
        }

        .login-status {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #0c4a6e;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header-buttons {
                flex-wrap: wrap;
                justify-content: center;
            }

            .messages-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .message-card {
                padding: 20px;
            }

            .intro {
                padding: 25px;
            }

            .intro h2 {
                font-size: 1.5rem;
            }

            .intro p {
                font-size: 1rem;
            }

            .write-button {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }

            .modal-content {
                padding: 25px;
                margin: 10px;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>üíù Farewell Messages</h1>
            <div class="header-buttons">
                <button class="btn btn-secondary" onclick="toggleLogin()" id="loginBtn">üë§ Login</button>
                <button class="btn btn-success" onclick="openWriteModal()">‚úçÔ∏è Write Message</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="intro">
            <h2>Share Your Heartfelt Messages</h2>
            <p>Leave a meaningful message for someone special. Your words of appreciation, memories, and best wishes will be treasured forever.</p>
        </div>

        <div class="messages-grid" id="messagesGrid">
            <!-- Messages will be populated by JavaScript -->
        </div>
    </div>

    <button class="write-button" onclick="openWriteModal()" title="Write a new message">
        ‚úçÔ∏è
    </button>

    <!-- Write Message Modal -->
    <div class="modal" id="writeModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeWriteModal()">&times;</button>
            <h2 style="color: #4f46e5; margin-bottom: 25px; text-align: center;">‚úçÔ∏è Write a Message</h2>
            
            <form id="messageForm">
                <div class="form-group">
                    <label for="authorName">Your Name</label>
                    <input type="text" id="authorName" name="authorName" required placeholder="Enter your name">
                </div>
                
                <div class="form-group">
                    <label for="authorRole">Your Role/Title (Optional)</label>
                    <input type="text" id="authorRole" name="authorRole" placeholder="e.g., Colleague, Manager, Friend">
                </div>
                
                <div class="form-group">
                    <label for="messageContent">Your Message</label>
                    <textarea id="messageContent" name="messageContent" required placeholder="Share your heartfelt message, memories, or best wishes..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="messageImage">Add a Photo (Optional)</label>
                    <input type="file" id="messageImage" name="messageImage" accept="image/*">
                </div>
                
                <button type="submit" class="btn" style="width: 100%; padding: 15px; font-size: 1.1rem;">
                    üíù Share Message
                </button>
            </form>
        </div>
    </div>

    <!-- Login Status -->
    <div class="login-status" id="loginStatus" style="display: none;">
        <span>üë§</span>
        <span>Logged in as <strong id="currentUser">Guest User</strong></span>
    </div>

    <script>
        // Sample pre-posted messages
        const sampleMessages = [
            {
                id: 1,
                author: 'Sarah Johnson',
                role: 'Team Lead',
                date: '2024-01-15',
                content: 'Working with you has been an incredible journey! Your dedication, creativity, and positive attitude have inspired all of us. You have this amazing ability to turn challenges into opportunities and always bring out the best in everyone around you. Thank you for all the late nights, brainstorming sessions, and for being such a wonderful mentor. Wishing you all the success in your new adventure!',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%2367e8f9"/><circle cx="200" cy="100" r="50" fill="%23fbbf24"/><rect x="150" y="120" width="100" height="60" fill="%2334d399" rx="10"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Team Celebration</text></svg>',
                reactions: { heart: 12, celebrate: 8, clap: 15 }
            },
            {
                id: 2,
                author: 'Michael Chen',
                role: 'Software Engineer',
                date: '2024-01-14',
                content: 'I still remember my first day when you welcomed me with such warmth and patience. You taught me not just about the technical aspects of our work, but also about teamwork, perseverance, and maintaining a healthy work-life balance. Your mentorship has shaped my career in ways I cannot express. Thank you for believing in me even when I doubted myself.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23a78bfa"/><rect x="50" y="50" width="300" height="100" fill="%23ffffff" rx="10"/><circle cx="120" cy="100" r="20" fill="%23f59e0b"/><circle cx="280" cy="100" r="20" fill="%23f59e0b"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">First Day Memory</text></svg>',
                reactions: { heart: 18, support: 6, grateful: 9 }
            },
            {
                id: 3,
                author: 'Emily Rodriguez',
                role: 'Product Manager',
                date: '2024-01-13',
                content: 'Your leadership style is something I will carry with me throughout my career. You have this unique ability to make everyone feel heard and valued, while driving us toward excellence. The way you handled our most challenging project last quarter was nothing short of inspiring. You turned what could have been a disaster into our greatest success story.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%2310b981"/><polygon points="200,50 250,150 150,150" fill="%23fbbf24"/><circle cx="200" cy="120" r="15" fill="%23ffffff"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Achievement Trophy</text></svg>',
                reactions: { clap: 22, inspire: 11, star: 7 }
            },
            {
                id: 4,
                author: 'David Thompson',
                role: 'UX Designer',
                date: '2024-01-12',
                content: 'Thank you for creating such an inclusive and collaborative environment. Your open-door policy and genuine care for each team member made coming to work a joy. You celebrated our wins, supported us through challenges, and always pushed us to grow. The culture you built here is something special, and I hope to create something similar wherever I go next.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23ec4899"/><rect x="100" y="70" width="200" height="60" fill="%23ffffff" rx="30"/><circle cx="150" cy="100" r="8" fill="%23f59e0b"/><circle cx="200" cy="100" r="8" fill="%23f59e0b"/><circle cx="250" cy="100" r="8" fill="%23f59e0b"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Team Unity</text></svg>',
                reactions: { heart: 14, grateful: 19, support: 8 }
            },
            {
                id: 5,
                author: 'Lisa Wang',
                role: 'Marketing Director',
                date: '2024-01-11',
                content: 'You have been more than a colleague ‚Äì you have been a friend, mentor, and inspiration. Your passion for innovation and your commitment to excellence have driven our team to achieve things we never thought possible. I will miss our morning coffee chats and your infectious enthusiasm for new ideas. Keep being amazing!',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23fbbf24"/><circle cx="150" cy="80" r="25" fill="%23a78bfa"/><circle cx="250" cy="80" r="25" fill="%23a78bfa"/><rect x="175" y="120" width="50" height="30" fill="%23ec4899" rx="15"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Coffee & Ideas</text></svg>',
                reactions: { heart: 16, coffee: 12, inspire: 10 }
            },
            {
                id: 6,
                author: 'Robert Martinez',
                role: 'Data Analyst',
                date: '2024-01-10',
                content: 'Your analytical mind and attention to detail have taught me so much about precision and quality. But more importantly, you showed me how to balance perfectionism with pragmatism. You have this wonderful way of making complex problems seem manageable and always finding the silver lining in difficult situations.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%2360a5fa"/><rect x="50" y="50" width="300" height="100" fill="%23ffffff" rx="5"/><line x1="80" y1="140" x2="320" y2="80" stroke="%2310b981" stroke-width="3"/><circle cx="100" cy="130" r="5" fill="%23f59e0b"/><circle cx="200" cy="105" r="5" fill="%23f59e0b"/><circle cx="300" cy="85" r="5" fill="%23f59e0b"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Growth Chart</text></svg>',
                reactions: { clap: 13, brain: 9, grateful: 11 }
            },
            {
                id: 7,
                author: 'Jessica Taylor',
                role: 'HR Specialist',
                date: '2024-01-09',
                content: 'You have made our workplace a better place for everyone. Your kindness, empathy, and genuine care for people shine through in everything you do. You have this special gift of remembering the small things that matter to each person and always knowing exactly what to say to lift someone\'s spirits.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23fce7f3"/><circle cx="200" cy="100" r="40" fill="%23ec4899"/><path d="M180,90 Q200,70 220,90 Q200,110 180,90" fill="%23ffffff"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Spreading Love</text></svg>',
                reactions: { heart: 25, hug: 14, grateful: 12 }
            },
            {
                id: 8,
                author: 'Alex Kumar',
                role: 'DevOps Engineer',
                date: '2024-01-08',
                content: 'Working with you on those critical system deployments taught me the importance of staying calm under pressure. Your technical expertise is matched only by your patience in explaining complex concepts. You never made anyone feel bad for asking questions, and that created such a positive learning environment for all of us.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23374151"/><rect x="50" y="50" width="300" height="100" fill="%2310b981"/><rect x="70" y="70" width="20" height="60" fill="%23ffffff"/><rect x="110" y="80" width="20" height="50" fill="%23ffffff"/><rect x="150" y="60" width="20" height="70" fill="%23ffffff"/><rect x="190" y="75" width="20" height="55" fill="%23ffffff"/><rect x="230" y="65" width="20" height="65" fill="%23ffffff"/><rect x="270" y="85" width="20" height="45" fill="%23ffffff"/><rect x="310" y="70" width="20" height="60" fill="%23ffffff"/><text x="200" y="185" text-anchor="middle" fill="%23ffffff" font-size="14" font-family="Arial">System Performance</text></svg>',
                reactions: { tech: 8, clap: 10, support: 7 }
            },
            {
                id: 9,
                author: 'Maria Garcia',
                role: 'Sales Manager',
                date: '2024-01-07',
                content: 'Your negotiation skills and client relationship management have been a masterclass for all of us. But what impressed me most was your integrity and how you always put the client\'s needs first, even when it meant less profit for us. That level of ethics and professionalism is rare and admirable.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23ddd6fe"/><circle cx="150" cy="100" r="30" fill="%23a78bfa"/><circle cx="250" cy="100" r="30" fill="%23fbbf24"/><line x1="180" y1="100" x2="220" y2="100" stroke="%23374151" stroke-width="3"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Partnership</text></svg>',
                reactions: { handshake: 15, star: 11, professional: 8 }
            },
            {
                id: 10,
                author: 'James Wilson',
                role: 'Finance Director',
                date: '2024-01-06',
                content: 'Your strategic thinking and financial acumen have guided our company through some challenging times. You have this incredible ability to see the big picture while never losing sight of the details. Thank you for all your late-night budget sessions and for always being the voice of reason in our planning meetings.',
                image: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 200"><rect width="400" height="200" fill="%23fef3c7"/><rect x="50" y="50" width="300" height="100" fill="%23ffffff" rx="10"/><circle cx="120" cy="100" r="20" fill="%23f59e0b"/><text x="120" y="105" text-anchor="middle" fill="%23ffffff" font-size="12" font-family="Arial">$</text><rect x="180" y="80" width="40" height="40" fill="%2310b981" rx="5"/><polygon points="280,80 300,100 280,120 260,100" fill="%23ec4899"/><text x="200" y="185" text-anchor="middle" fill="%23374151" font-size="14" font-family="Arial">Financial Success</text></svg>',
                reactions: { chart: 9, clap: 13, wisdom: 6 }
            }
        ];

        let messages = [...sampleMessages];
        let currentUser = null;

        function renderMessages() {
            const grid = document.getElementById('messagesGrid');
            grid.innerHTML = '';

            messages.forEach((message, index) => {
                const card = document.createElement('div');
                card.className = 'message-card fade-in';
                card.style.animationDelay = `${index * 0.1}s`;

                const initials = message.author.split(' ').map(n => n[0]).join('');
                const formattedDate = new Date(message.date).toLocaleDateString('en-US', {
                    month: 'long',
                    day: 'numeric',
                    year: 'numeric'
                });

                card.innerHTML = `
                    <div class="message-header">
                        <div class="avatar">${initials}</div>
                        <div class="message-author">
                            <div class="author-name">${message.author}</div>
                            <div class="author-role">${message.role}</div>
                        </div>
                        <div class="message-date">${formattedDate}</div>
                    </div>
                    
                    ${message.image ? `<img src="${message.image}" alt="Message image" class="message-image" />` : ''}
                    
                    <div class="message-content">${message.content}</div>
                    
                    <div class="message-reactions">
                        <div class="reaction ${getRandomActive()}" onclick="toggleReaction(${message.id}, 'heart')">
                            ‚ù§Ô∏è ${message.reactions.heart || 0}
                        </div>
                        <div class="reaction ${getRandomActive()}" onclick="toggleReaction(${message.id}, 'clap')">
                            üëè ${message.reactions.clap || 0}
                        </div>
                        <div class="reaction ${getRandomActive()}" onclick="toggleReaction(${message.id}, 'grateful')">
                            üôè ${message.reactions.grateful || 0}
                        </div>
                    </div>
                `;

                grid.appendChild(card);
            });
        }

        function getRandomActive() {
            return Math.random() > 0.7 ? 'active' : '';
        }

        function toggleReaction(messageId, reactionType) {
            const message = messages.find(m => m.id === messageId);
            if (message) {
                if (!message.reactions[reactionType]) {
                    message.reactions[reactionType] = 0;
                }
                message.reactions[reactionType]++;
                renderMessages();
            }
        }

        function openWriteModal() {
            document.getElementById('writeModal').style.display = 'flex';
        }

        function closeWriteModal() {
            document.getElementById('writeModal').style.display = 'none';
            document.getElementById('messageForm').reset();
        }

        function toggleLogin() {
            const loginStatus = document.getElementById('loginStatus');
            const loginBtn = document.getElementById('loginBtn');
            
            if (currentUser) {
                // Logout
                currentUser = null;
                loginStatus.style.display = 'none';
                loginBtn.textContent = 'üë§ Login';
                loginBtn.className = 'btn btn-secondary';
            } else {
                // Login (simulate)
                const names = ['John Smith', 'Emma Davis', 'Alex Johnson', 'Sarah Wilson', 'Mike Brown'];
                currentUser = names[Math.floor(Math.random() * names.length)];
                document.getElementById('currentUser').textContent = currentUser;
                loginStatus.style.display = 'flex';
                loginBtn.textContent = 'üëã Logout';
                loginBtn.className = 'btn btn-secondary';
                
                // Pre-fill name in form if logged in
                document.getElementById('authorName').value = currentUser;
            }
        }

        // Handle form submission
        document.getElementById('messageForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const imageFile = formData.get('messageImage');
            
            const newMessage = {
                id: messages.length + 1,
                author: formData.get('authorName'),
                role: formData.get('authorRole') || 'Team Member',
                date: new Date().toISOString().split('T')[0],
                content: formData.get('messageContent'),
                image: null,
                reactions: { heart: 0, clap: 0, grateful: 0 }
            };
            
            if (imageFile && imageFile.size > 0) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newMessage.image = e.target.result;
                    addMessageAndRender(newMessage);
                };
                reader.readAsDataURL(imageFile);
            } else {
                addMessageAndRender(newMessage);
            }
        });

        function addMessageAndRender(message) {
            messages.unshift(message);
            closeWriteModal();
            renderMessages();
            
            // Show success message
            const successMsg = document.createElement('div');
            successMsg.style.cssText = `
                position: fixed;
                top: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: #10b981;
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                z-index: 1001;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            `;
            successMsg.textContent = '‚úÖ Your message has been shared!';
            document.body.appendChild(successMsg);
            
            setTimeout(() => {
                successMsg.remove();
            }, 3000);
        }

        // Close modal when clicking outside
        document.getElementById('writeModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeWriteModal();
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderMessages();
        });
    </script>
</body>
</html>